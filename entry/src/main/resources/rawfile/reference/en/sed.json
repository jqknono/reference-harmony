{
  "id": "sed",
  "title": "Sed",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "[Sed](https://www.gnu.org/software/sed/manual/sed.html) is a stream editor, this sed cheat sheet contains sed commands and some common sed tricks."
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "Syntax"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "```shell script\n$ sed [options] command [input-file]"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nWith pipeline"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ cat report.txt | sed 's/Nick/John/g'"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ echo '123abc' | sed 's/[0-9]+//g'"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Option Examples {.col-span-2}\n\n| Option | Example                                    | Description                             |\n| ------ | ------------------------------------------ | --------------------------------------- |\n| `-i`   | sed -ibak 's/On/Off/' php.ini              | Backup and modify input file directly   |\n| `-E`   | sed -E 's/[0-9]+//g' input-file            | Use extended regular expressions        |\n| `-n`   | sed -n '3 p' config.conf                   | Suppress default pattern space printing |\n| `-f`   | sed -f script.sed config.conf              | Execute sed script file                 |\n| `-e`   | sed -e 'command1' -e 'command2' input-file | Execute multiple sed commands           |\n\n{.show-header}\n\n### Multiple commands"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ echo \"hello world\" | sed -e 's/h/H/g' -e 's/w/W/g'\nHello World"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nUse `-e` to execute multiple sed commands\n\n### Sed script"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ echo 's/h/H/g' >> hello.sed\n$ echo 's/w/W/g' >> hello.sed\n$ echo \"hello world\" | sed -f hello.sed\nHello World"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nUse `-f` to execute sed script file\n\n### Examples"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/old/new/g' file.txt\n$ sed 's/old/new/g' file.txt > new.txt"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/old/new/g' -i file.txt\n$ sed 's/old/new/g' -i.backup file.txt"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nSee: [Sed examples](#sed-examples)\n\n## Sed commands\n\n### Commands {.col-span-2}\n\n| Command | Example                                | Description                 |\n| ------- | -------------------------------------- | --------------------------- |\n| `p`     | sed -n '1,4 p' input.txt               | Print lines 1-4             |\n| `p`     | sed -n -e '1,4 p' -e '6,7 p' input.txt | Print lines 1-4 and 6-7     |\n| `d`     | sed '1,4 d' input.txt                  | Print lines except 1-4      |\n| `w`     | sed -n '1,4 w output.txt' input.txt    | Write pattern space to file |\n| `a`     | sed '2 a new-line' input.txt           | Append line after           |\n| `i`     | sed '2 i new-line' input.txt           | Insert line before          |\n\n{.show-header}\n\n### Space commands\n\n| Command | Description                                                  |\n| ------- | ------------------------------------------------------------ |\n| `n`     | Print pattern space, empty pattern space, and read next line |\n| `x`     | Swap pattern space with hold space                           |\n| `h`     | Copy pattern space to hold space                             |\n| `H`     | Append pattern space to hold space                           |\n| `g`     | Copy hold space to pattern space                             |\n| `G`     | Append hold space to pattern space                           |\n\nSee also: [File spacing](#file-spacing)\n\n### Flags"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/old/new/[flags]' [input-file]"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n---\n\n| Flag     | Description                                |\n| -------- | ------------------------------------------ |\n| `g`      | Global substitution                        |\n| `1,2...` | Substitute the nth occurrence              |\n| `p`      | Print only the substituted line            |\n| `w`      | Write only the substituted line to a file  |\n| `I`      | Ignore case while searching                |\n| `e`      | Substitute and execute in the command line |\n\n### Loops commands\n\n| Command   | Description                                                        |\n| --------- | ------------------------------------------------------------------ |\n| `b label` | Branch to a label (for looping)                                    |\n| `t label` | Branch to a label only on successful substitution<br>(for looping) |\n| `:label`  | Label for the b and t commands (for looping)                       |\n| `N`       | Append next line to pattern space                                  |\n| `P`       | Print 1st line in multi-line                                       |\n| `D`       | Delete 1st line in multi-line                                      |\n\n### Misc Flags\n\n| Flag                      | Description                                                                  |\n| ------------------------- | ---------------------------------------------------------------------------- |\n| <code>/ \\| ^ @ ! #</code> | Substitution delimiter can be any character                                  |\n| `&`                       | Gets the matched pattern                                                     |\n| `( ) \\1 \\2 \\3`            | Group using `(` and `)`.<br>Use `\\1`, `\\2` in replacement to refer the group |\n\n## Sed examples\n\n### Replacing text {.row-span-2}\n\nReplace all occurrences of a string"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/old/new/g' file.txt"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nReplace only the nth occurrence of a string"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/old/new/2' file.txt"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nReplace a string only on the 5th line"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '5 s/old/new/' file.txt"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nReplace \"world\" with \"universe\" but only if the line begins with \"hello\""
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/hello/s/world/universe/' file.txt"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nRemove \"\\\" from the end of each line"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/\\\\$//' file.txt"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nRemove all whitespace from beginning of each line"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/^\\s*//' file.txt"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nRemove comments. Even those that are at the end of a line"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 's/#.*$//' file.txt"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Search for text\n\nSearch for a string and only print the lines that were matched"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed -n '/hello/p' file.txt"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nCase insensitive search"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed -n '/hello/Ip' file.txt"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nSearch for a string but only output lines that do not match"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed -n '/hello/!p' file.txt"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Appending lines\n\nAppend line after line 2"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '2a Text after line 2' file.txt"
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nAppend line at the end of the file"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '$a THE END!' file.txt"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nAppend line after every 3rd line starting from line 3"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '3~3a Some text' file.txt"
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Numbering {.col-span-2}\n\nNumber line of a file (simple left alignment)"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed = file.txt | sed 'N;s/\\n/\\t/'"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nNumber line of a file (number on left, right-aligned)"
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed = file.txt | sed 'N; s/^/   /; s/ *\\(.\\{6,\\}\\)\\n/\\1  /'"
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nNumber line of file, but only print numbers if line is not blank"
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/./=' file.txt | sed '/./N; s/\\n/ /'"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nCount lines (emulates \"wc -l\")"
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed -n '$='"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Prepending lines\n\nInsert text before line 5"
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '5i line number five' file.txt"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nInsert \"Example: \" before each line that contains \"hello\""
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/hello/i Example: ' file.txt"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### Deleting lines\n\nDelete line 5-7 in file"
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '5,7d' file.txt"
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete every 2nd line starting with line 3"
    },
    {
      "id": "s1-56",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '3~2d' file.txt"
    },
    {
      "id": "s1-57",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete the last line in file"
    },
    {
      "id": "s1-58",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '$d' file.txt"
    },
    {
      "id": "s1-59",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete lines starting with \"Hello\""
    },
    {
      "id": "s1-60",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/^Hello/d' file.txt"
    },
    {
      "id": "s1-61",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete all empty lines"
    },
    {
      "id": "s1-62",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/^$/d' file.txt"
    },
    {
      "id": "s1-63",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete lines starting with \"#\""
    },
    {
      "id": "s1-64",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/^#/d' file.txt"
    },
    {
      "id": "s1-65",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n### File spacing\n\nDouble space"
    },
    {
      "id": "s1-66",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed G"
    },
    {
      "id": "s1-67",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nDelete all blank lines and double space"
    },
    {
      "id": "s1-68",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/^$/d;G'"
    },
    {
      "id": "s1-69",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nTriple space a file"
    },
    {
      "id": "s1-70",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 'G;G'"
    },
    {
      "id": "s1-71",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nUndo double-spacing"
    },
    {
      "id": "s1-72",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed 'n;d'"
    },
    {
      "id": "s1-73",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nInsert a blank line above line which matches \"regex\""
    },
    {
      "id": "s1-74",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/regex/{x;p;x;}'"
    },
    {
      "id": "s1-75",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nInsert a blank line below line which matches \"regex\""
    },
    {
      "id": "s1-76",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/regex/G'"
    },
    {
      "id": "s1-77",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\nInsert a blank line around line which matches \"regex\""
    },
    {
      "id": "s1-78",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "text",
      "body": "$ sed '/regex/{x;p;x;G;}'"
    },
    {
      "id": "s1-79",
      "sectionId": "s1",
      "title": "Sed Usage",
      "kind": "code",
      "lang": "",
      "code": "\n## Also see {.cols-1}\n\n- [sed cheatsheet](https://gist.github.com/ssstonebraker/6140154) _(gist.github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/sed.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/sed.md",
    "generatedAt": "2025-12-16T07:50:03.275Z",
    "lang": "en",
    "mode": "local"
  }
}