{
  "id": "xpath",
  "title": "XPath",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "XPath Selectors",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "XPath Expressions",
      "startIndex": 41
    },
    {
      "id": "s3",
      "title": "XPath Predicates",
      "startIndex": 49
    },
    {
      "id": "s4",
      "title": "XPath Functions",
      "startIndex": 62
    },
    {
      "id": "s5",
      "title": "XPath Axes",
      "startIndex": 68
    },
    {
      "id": "s6",
      "title": "XPath More examples",
      "startIndex": 96
    },
    {
      "id": "s7",
      "title": "Also see",
      "startIndex": 105
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "This is an [XPath](https://en.wikipedia.org/wiki/XPath) selectors cheat sheet, which lists commonly used XPath positioning methods and CSS selectors"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "• [Xpath test bed](http://www.whitebeam.org/library/guide/TechNotes/xpathtestbed.rhtm) _(whitebeam.org)_"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "Test in Firefox or Chromium based browser console:"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "code",
      "lang": "console",
      "code": "$x('/html/body')\n$x('//h1')\n$x('//h1')[0].innerText\n$x('//a[text()=\"XPath\"]')[0].click()"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`//h1`",
      "back": "h1"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`//div//p`",
      "back": "div p"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`//ul/li`",
      "back": "ul > li"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`//ul/li/a`",
      "back": "ul > li > a"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`//div/*`",
      "back": "div > \\*"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`/`",
      "back": ":root"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "Descendant selectors",
      "kind": "qa",
      "front": "`/html/body`",
      "back": ":root > body"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//ul/li[1]`",
      "back": "ul > li:first-child"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//ul/li[2]`",
      "back": "ul > li:nth-child(2)"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//ul/li[last()]`",
      "back": "ul > li:last-child"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//li[@id=\"id\"][1]`",
      "back": "li#id:first-child"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//a[1]`",
      "back": "a:first-child"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "Order selectors",
      "kind": "qa",
      "front": "`//a[last()]`",
      "back": "a:last-child"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//*[@id=\"id\"]`",
      "back": "#id"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//*[@class=\"class\"]`",
      "back": ".class"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//input[@type=\"submit\"]`",
      "back": "input[type=\"submit\"]"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[@id=\"abc\"][@for=\"xyz\"]`",
      "back": "a#abc[for=\"xyz\"]"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[@rel]`",
      "back": "a[rel]"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[starts-with(@href, '/')]`",
      "back": "a[href^='/']"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[ends-with(@href, '.pdf')]`",
      "back": "a[href$='pdf']"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[contains(@href, '://')]`",
      "back": "a[href*='`:`//']"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "Attribute selectors",
      "kind": "qa",
      "front": "`//a[contains(@rel, 'help')]`",
      "back": "a[rel~='help']"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "Siblings",
      "kind": "qa",
      "front": "`//h1/following-sibling::ul`",
      "back": "h1 ~ ul"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "Siblings",
      "kind": "qa",
      "front": "`//h1/following-sibling::ul[1]`",
      "back": "h1 + ul"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "Siblings",
      "kind": "qa",
      "front": "`//h1/following-sibling::[@id=\"id\"]`",
      "back": "h1 ~ #id"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "jQuery",
      "kind": "qa",
      "front": "`//ul/li/..`",
      "back": "$('ul > li').parent()"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "jQuery",
      "kind": "qa",
      "front": "`//li/ancestor-or-self::section`",
      "back": "$('li').closest('section')"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "jQuery",
      "kind": "qa",
      "front": "`//a/@href`",
      "back": "$('a').attr('href')"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "jQuery",
      "kind": "qa",
      "front": "`//span/text()`",
      "back": "$('span').text()"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//h1[not(@id)]`",
      "back": "h1:not([id])"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//button[text()=\"Submit\"]`",
      "back": "Text match"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//button[contains(text(),\"Go\")]`",
      "back": "Text contains (substring)"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//product[@price > 2.50]`",
      "back": "Arithmetic"
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//ul[*]`",
      "back": "Has children"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//ul[li]`",
      "back": "Has children (specific)"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//a[@name or @href]`",
      "back": "Or logic"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "Misc selectors",
      "kind": "qa",
      "front": "`//a",
      "back": "//div` | Union (joins results)"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "Steps and axes",
      "kind": "text",
      "body": "<br/>"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "Steps and axes",
      "kind": "qa",
      "front": "`//`",
      "back": "`ul` | `/` | `a[@id='link']`"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "Steps and axes",
      "kind": "qa",
      "front": "Axis",
      "back": "Step | Axis | Step"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "Prefixes",
      "kind": "qa",
      "front": "`//`",
      "back": "`//hr[@class='edge']` | Anywhere"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "Prefixes",
      "kind": "qa",
      "front": "`/`",
      "back": "`/html/body/div` | Root"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "Prefixes",
      "kind": "qa",
      "front": "`./`",
      "back": "`./div/p` | Relative"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "Axes",
      "kind": "qa",
      "front": "`/`",
      "back": "`//ul/li/a` | Child"
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "Axes",
      "kind": "qa",
      "front": "`//`",
      "back": "`//[@id=\"list\"]//a` | Descendant"
    },
    {
      "id": "s3-49",
      "sectionId": "s3",
      "title": "Predicates",
      "kind": "code",
      "lang": "bash",
      "code": "//div[true()]\n//div[@class=\"head\"]\n//div[@class=\"head\"][@id=\"top\"]"
    },
    {
      "id": "s3-50",
      "sectionId": "s3",
      "title": "Predicates",
      "kind": "text",
      "body": "Restricts a nodeset only if some condition is true. They can be chained."
    },
    {
      "id": "s3-51",
      "sectionId": "s3",
      "title": "Operators",
      "kind": "code",
      "lang": "bash",
      "code": "# Comparison\n//a[@id = \"xyz\"]\n//a[@id != \"xyz\"]\n//a[@price > 25]"
    },
    {
      "id": "s3-52",
      "sectionId": "s3",
      "title": "Operators",
      "kind": "code",
      "lang": "bash",
      "code": "# Logic (and/or)\n//div[@id=\"head\" and position()=2]\n//div[(x and y) or not(z)]"
    },
    {
      "id": "s3-53",
      "sectionId": "s3",
      "title": "Using nodes",
      "kind": "code",
      "lang": "bash",
      "code": "# Use them inside functions\n//ul[count(li) > 2]\n//ul[count(li[@class='hide']) > 0]"
    },
    {
      "id": "s3-54",
      "sectionId": "s3",
      "title": "Using nodes",
      "kind": "code",
      "lang": "bash",
      "code": "# Returns `<ul>` that has a `<li>` child\n//ul[li]"
    },
    {
      "id": "s3-55",
      "sectionId": "s3",
      "title": "Using nodes",
      "kind": "text",
      "body": "You can use nodes inside predicates."
    },
    {
      "id": "s3-56",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "code",
      "lang": "bash",
      "code": "//a[1]                # first <a>\n//a[last()]           # last <a>\n//ol/li[2]            # second <li>\n//ol/li[position()=2] # same as above\n//ol/li[position()>1] #:not(:first-child)"
    },
    {
      "id": "s3-57",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "text",
      "body": "Use `[]` with a number, or `last()` or `position()`."
    },
    {
      "id": "s3-58",
      "sectionId": "s3",
      "title": "Chaining order",
      "kind": "code",
      "lang": "bash",
      "code": "a[1][@href='/']\na[@href='/'][1]"
    },
    {
      "id": "s3-59",
      "sectionId": "s3",
      "title": "Chaining order",
      "kind": "text",
      "body": "Order is significant, these two are different."
    },
    {
      "id": "s3-60",
      "sectionId": "s3",
      "title": "Nesting predicates",
      "kind": "code",
      "lang": "",
      "code": "//section[.//h1[@id='hi']]"
    },
    {
      "id": "s3-61",
      "sectionId": "s3",
      "title": "Nesting predicates",
      "kind": "text",
      "body": "This returns `<section>` if it has an `<h1>` descendant with `id='hi'`."
    },
    {
      "id": "s4-62",
      "sectionId": "s4",
      "title": "Node functions",
      "kind": "code",
      "lang": "bash",
      "code": "name()            # //[starts-with(name(), 'h')]\ntext()            # //button[text()=\"Submit\"]\n                  # //button/text()\nlang(str)\nnamespace-uri()"
    },
    {
      "id": "s4-63",
      "sectionId": "s4",
      "title": "Node functions",
      "kind": "code",
      "lang": "bash",
      "code": "count()           # //table[count(tr)=1]\nposition()        # //ol/li[position()=2]"
    },
    {
      "id": "s4-64",
      "sectionId": "s4",
      "title": "String functions",
      "kind": "code",
      "lang": "bash",
      "code": "contains()        # font[contains(@class,\"head\")]\nstarts-with()     # font[starts-with(@class,\"head\")]\nends-with()       # font[ends-with(@class,\"head\")]"
    },
    {
      "id": "s4-65",
      "sectionId": "s4",
      "title": "String functions",
      "kind": "code",
      "lang": "bash",
      "code": "concat(x,y)\nsubstring(str, start, len)\nsubstring-before(\"01/02\", \"/\")  #=> 01\nsubstring-after(\"01/02\", \"/\")   #=> 02\ntranslate()\nnormalize-space()\nstring-length()"
    },
    {
      "id": "s4-66",
      "sectionId": "s4",
      "title": "Boolean functions",
      "kind": "code",
      "lang": "bash",
      "code": "not(expr)         # button[not(starts-with(text(),\"Submit\"))]"
    },
    {
      "id": "s4-67",
      "sectionId": "s4",
      "title": "Type conversion",
      "kind": "code",
      "lang": "bash",
      "code": "string()\nnumber()\nboolean()"
    },
    {
      "id": "s5-68",
      "sectionId": "s5",
      "title": "Using axes",
      "kind": "code",
      "lang": "bash",
      "code": "//ul/li                       # ul > li\n//ul/child::li                # ul > li (same)\n//ul/following-sibling::li    # ul ~ li\n//ul/descendant-or-self::li   # ul li\n//ul/ancestor-or-self::li     # $('ul').closest('li')"
    },
    {
      "id": "s5-69",
      "sectionId": "s5",
      "title": "Using axes",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s5-70",
      "sectionId": "s5",
      "title": "Using axes",
      "kind": "qa",
      "front": "`//`",
      "back": "`ul` | `/child::` | `li`"
    },
    {
      "id": "s5-71",
      "sectionId": "s5",
      "title": "Using axes",
      "kind": "qa",
      "front": "Axis",
      "back": "Step | Axis | Step"
    },
    {
      "id": "s5-72",
      "sectionId": "s5",
      "title": "Using axes",
      "kind": "text",
      "body": "Steps of an expression are separated by `/`, usually used to pick child nodes. That's not always true: you can specify a\ndifferent \"axis\" with `::`."
    },
    {
      "id": "s5-73",
      "sectionId": "s5",
      "title": "Child axis",
      "kind": "code",
      "lang": "bash",
      "code": "# both the same\n//ul/li/a\n//child::ul/child::li/child::a"
    },
    {
      "id": "s5-74",
      "sectionId": "s5",
      "title": "Child axis",
      "kind": "text",
      "body": "`child::` is the default axis. This makes `//a/b/c` work."
    },
    {
      "id": "s5-75",
      "sectionId": "s5",
      "title": "Child axis",
      "kind": "code",
      "lang": "bash",
      "code": "# both the same\n# this works because `child::li` is truthy\n//ul[li]\n//ul[child::li]"
    },
    {
      "id": "s5-76",
      "sectionId": "s5",
      "title": "Child axis",
      "kind": "code",
      "lang": "bash",
      "code": "# both the same\n//ul[count(li) > 2]\n//ul[count(child::li) > 2]"
    },
    {
      "id": "s5-77",
      "sectionId": "s5",
      "title": "Descendant-or-self axis",
      "kind": "code",
      "lang": "bash",
      "code": "# both the same\n//div//h4\n//div/descendant-or-self::h4"
    },
    {
      "id": "s5-78",
      "sectionId": "s5",
      "title": "Descendant-or-self axis",
      "kind": "text",
      "body": "`//` is short for the `descendant-or-self::` axis."
    },
    {
      "id": "s5-79",
      "sectionId": "s5",
      "title": "Descendant-or-self axis",
      "kind": "code",
      "lang": "bash",
      "code": "# both the same\n//ul//[last()]\n//ul/descendant-or-self::[last()]"
    },
    {
      "id": "s5-80",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`ancestor`",
      "back": "|"
    },
    {
      "id": "s5-81",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`ancestor-or-self`",
      "back": "|"
    },
    {
      "id": "s5-82",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`attribute`",
      "back": "`@` | `@href` is short for `attribute::href`"
    },
    {
      "id": "s5-83",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`child`",
      "back": "| `div` is short for `child::div`"
    },
    {
      "id": "s5-84",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`descendant`",
      "back": "|"
    },
    {
      "id": "s5-85",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`descendant-or-self`",
      "back": "`//` | `//` is short for `/descendant-or-self::node()/`"
    },
    {
      "id": "s5-86",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`namespace`",
      "back": "|"
    },
    {
      "id": "s5-87",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`self`",
      "back": "`.` | `.` is short for `self::node()`"
    },
    {
      "id": "s5-88",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`parent`",
      "back": "`..` | `..` is short for `parent::node()`"
    },
    {
      "id": "s5-89",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`following`",
      "back": "|"
    },
    {
      "id": "s5-90",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`following-sibling`",
      "back": "|"
    },
    {
      "id": "s5-91",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`preceding`",
      "back": "|"
    },
    {
      "id": "s5-92",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "qa",
      "front": "`preceding-sibling`",
      "back": "|"
    },
    {
      "id": "s5-93",
      "sectionId": "s5",
      "title": "Other axes",
      "kind": "text",
      "body": "There are other axes you can use."
    },
    {
      "id": "s5-94",
      "sectionId": "s5",
      "title": "Unions",
      "kind": "code",
      "lang": "bash",
      "code": "//a | //span"
    },
    {
      "id": "s5-95",
      "sectionId": "s5",
      "title": "Unions",
      "kind": "text",
      "body": "Use `|` to join two expressions."
    },
    {
      "id": "s6-96",
      "sectionId": "s6",
      "title": "Examples",
      "kind": "code",
      "lang": "bash",
      "code": "//*                 # all elements\ncount(//*)          # count all elements\n(//h1)[1]/text()    # text of the first h1 heading\n//li[span]          # find a <li> with an <span> inside it\n                    # ...expands to //li[child::span]\n//ul/li/..          # use .. to select a parent"
    },
    {
      "id": "s6-97",
      "sectionId": "s6",
      "title": "Find a parent",
      "kind": "code",
      "lang": "bash",
      "code": "//section[h1[@id='section-name']]"
    },
    {
      "id": "s6-98",
      "sectionId": "s6",
      "title": "Find a parent",
      "kind": "text",
      "body": "Finds a `<section>` that directly contains `h1#section-name`"
    },
    {
      "id": "s6-99",
      "sectionId": "s6",
      "title": "Find a parent",
      "kind": "code",
      "lang": "bash",
      "code": "//section[//h1[@id='section-name']]"
    },
    {
      "id": "s6-100",
      "sectionId": "s6",
      "title": "Find a parent",
      "kind": "text",
      "body": "Finds a `<section>` that contains `h1#section-name`. (Same as above, but uses descendant-or-self instead of child)"
    },
    {
      "id": "s6-101",
      "sectionId": "s6",
      "title": "Closest",
      "kind": "code",
      "lang": "bash",
      "code": "./ancestor-or-self::[@class=\"box\"]"
    },
    {
      "id": "s6-102",
      "sectionId": "s6",
      "title": "Closest",
      "kind": "text",
      "body": "Works like jQuery's `$().closest('.box')`."
    },
    {
      "id": "s6-103",
      "sectionId": "s6",
      "title": "Attributes",
      "kind": "code",
      "lang": "bash",
      "code": "//item[@price > 2*@discount]"
    },
    {
      "id": "s6-104",
      "sectionId": "s6",
      "title": "Attributes",
      "kind": "text",
      "body": "Finds `<item>` and check its attributes"
    },
    {
      "id": "s7-105",
      "sectionId": "s7",
      "title": "Also see",
      "kind": "text",
      "body": "• [Devhints](https://devhints.io/xpath) _(devhints.io)_\n• [Xpath test bed](http://www.whitebeam.org/library/guide/TechNotes/xpathtestbed.rhtm) _(whitebeam.org)_"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/xpath.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/xpath.md",
    "generatedAt": "2025-12-16T07:50:03.354Z",
    "lang": "en",
    "mode": "local"
  }
}