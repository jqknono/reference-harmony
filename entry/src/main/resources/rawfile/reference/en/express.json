{
  "id": "express",
  "name": "Express",
  "title": "A quick reference cheatsheet for Express, a flexible and streamlined web framework for Node.js",
  "icon": "https://raw.githubusercontent.com/Fechin/reference/main/source/assets/icon/express.svg",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Example",
      "startIndex": 23
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "A quick reference cheatsheet for Express, a flexible and streamlined web framework for Node.js"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Hello%20World",
      "kind": "text",
      "body": "%E2%80%A2%20%22Create%20project%2C%20add%20%60package.json%60%20configuration",
      "encoded": true
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "  $ mkdir myapp # create directory\n  $ cd myapp    # enter the directory\n  $ npm init -y # Initialize a configuration"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• Install dependencies"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "  $ npm install express"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• Entry file `index.js` add code:"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "  const express = require('express');\n  const app = express();\n  const port = 3000;\n  app.get('/', (req, res) => {\n    res.send('Hello World!');\n  });\n  app.listen(port, () => {\n    console.log(`Listening port on ${port}`);\n  });"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• Run the application using the following command"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "  $ node index.js"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "express -h",
      "kind": "code",
      "lang": "bash",
      "code": "Usage: express [options] [dir]\nOptions:\n  -h, --help output usage information\n      --version output version number\n  -e, --ejs add ejs engine support\n      --hbs add hbs engine support\n      --pug add pug engine support\n  -H, --hogan add hogan.js engine support\n      --no-view No view engine generated\n  -v, --view <engine> add view <engine> support (ejs|hbs|hjs|jade|pug|twig|vash) (default jade)\n  -c, --css <engine> add stylesheet <engine> support (less|stylus|compass|sass) (default css)\n      --git add .gitignore\n  -f, --force force non-empty directories"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Create a `myapp` project"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ express --view=pug myapp\n# run the application\n$ DEBUG=myapp:*npm start"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "express()",
      "kind": "text",
      "body": "| :-                     | :-                                                          |\n| :--------------------- | :---------------------------------------------------------- |\n| `express.json()`       | [#](http://expressjs.com/en/4x/api.html#express.json)       |\n| `express.raw()`        | [#](http://expressjs.com/en/4x/api.html#express.raw)        |\n| `express.Router()`     | [#](http://expressjs.com/en/4x/api.html#express.router)     |\n| `express.static()`     | [#](http://expressjs.com/en/4x/api.html#express.static)     |\n| `express.text()`       | [#](http://expressjs.com/en/4x/api.html#express.text)       |\n| `express.urlencoded()` | [#](http://expressjs.com/en/4x/api.html#express.urlencoded) |"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "Router",
      "kind": "text",
      "body": "| :-                | :-                                                     |\n| :---------------- | :----------------------------------------------------- |\n| `router.all()`    | [#](http://expressjs.com/en/4x/api.html#router.all)    |\n| `router.METHOD()` | [#](http://expressjs.com/en/4x/api.html#router.METHOD) |\n| `router.param()`  | [#](http://expressjs.com/en/4x/api.html#router.param)  |\n| `router.route()`  | [#](http://expressjs.com/en/4x/api.html#router.route)  |\n| `router.use()`    | [#](http://expressjs.com/en/4x/api.html#router.use)    |"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "Application",
      "kind": "code",
      "lang": "js",
      "code": "var express = require('express');\nvar app = express();\n\nconsole.dir(app.locals.title);\n//=> 'My App'\nconsole.dir(app.locals.email);\n//=> 'me@myapp.com'"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "Attribute",
      "kind": "text",
      "body": "| :-              | :-                                                                                        |\n| :-------------- | :---------------------------------------------------------------------------------------- |\n| `app.locals`    | Local variables in the application [#](http://expressjs.com/en/4x/api.html#app.locals)    |\n| `app.mountpath` | Path pattern for mounting sub-apps [#](http://expressjs.com/en/4x/api.html#app.mountpath) |"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "Events",
      "kind": "text",
      "body": "| :-      | :-                                                                                                                                                                   |\n| :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `mount` | The child application is mounted on the parent application, and the event is triggered on the child application [#](http://expressjs.com/en/4x/api.html#app.onmount) |"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "Method",
      "kind": "text",
      "body": "| :-                        | :-                                                         |\n| :------------------------ | :--------------------------------------------------------- |\n| `app.all()`               | [#](http://expressjs.com/en/4x/api.html#app.all)           |\n| `app.delete()`            | [#](http://expressjs.com/en/4x/api.html#app.delete.method) |\n| `app.disable()`           | [#](http://expressjs.com/en/4x/api.html#app.disable)       |\n| `app.disabled()`          | [#](http://expressjs.com/en/4x/api.html#app.disabled)      |\n| `app.enable()`            | [#](http://expressjs.com/en/4x/api.html#app.enable)        |\n| `app.enabled()`           | [#](http://expressjs.com/en/4x/api.html#app.enabled)       |\n| `app.engine()`            | [#](http://expressjs.com/en/4x/api.html#app.engine)        |\n| `app.get(name)`           | [#](http://expressjs.com/en/4x/api.html#app.get)           |\n| `app.get(path, callback)` | [#](http://expressjs.com/en/4x/api.html#app.get.method)    |\n| `app.listen()`            | [#](http://expressjs.com/en/4x/api.html#app.listen)        |\n| `app.METHOD()`            | [#](http://expressjs.com/en/4x/api.html#app.METHOD)        |\n| `app.param()`             | [#](http://expressjs.com/en/4x/api.html#app.param)         |\n| `app.path()`              | [#](http://expressjs.com/en/4x/api.html#app.path)          |\n| `app.post()`              | [#](http://expressjs.com/en/4x/api.html#app.post.method)   |\n| `app.put()`               | [#](http://expressjs.com/en/4x/api.html#app.put.method)    |\n| `app.render()`            | [#](http://expressjs.com/en/4x/api.html#app.render)        |\n| `app.route()`             | [#](http://expressjs.com/en/4x/api.html#app.route)         |\n| `app.set()`               | [#](http://expressjs.com/en/4x/api.html#app.set)           |\n| `app.use()`               | [#](http://expressjs.com/en/4x/api.html#app.use)           |"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "Request - Attribute",
      "kind": "text",
      "body": "| :-                  | :-                                                         |\n| :------------------ | :--------------------------------------------------------- |\n| `req.app`           | [#](http://expressjs.com/en/4x/api.html#req.app)           |\n| `req.baseUrl`       | [#](http://expressjs.com/en/4x/api.html#req.baseUrl)       |\n| `req.body`          | [#](http://expressjs.com/en/4x/api.html#req.body)          |\n| `req.cookies`       | [#](http://expressjs.com/en/4x/api.html#req.cookies)       |\n| `req.fresh`         | [#](http://expressjs.com/en/4x/api.html#req.fresh)         |\n| `req.hostname`      | [#](http://expressjs.com/en/4x/api.html#req.hostname)      |\n| `req.ip`            | [#](http://expressjs.com/en/4x/api.html#req.ip)            |\n| `req.ips`           | [#](http://expressjs.com/en/4x/api.html#req.ips)           |\n| `req.method`        | [#](http://expressjs.com/en/4x/api.html#req.method)        |\n| `req.originalUrl`   | [#](http://expressjs.com/en/4x/api.html#req.originalUrl)   |\n| `req.params`        | [#](http://expressjs.com/en/4x/api.html#req.params)        |\n| `req.path`          | [#](http://expressjs.com/en/4x/api.html#req.path)          |\n| `req.protocol`      | [#](http://expressjs.com/en/4x/api.html#req.protocol)      |\n| `req.query`         | [#](http://expressjs.com/en/4x/api.html#req.query)         |\n| `req.route`         | [#](http://expressjs.com/en/4x/api.html#req.route)         |\n| `req.secure`        | [#](http://expressjs.com/en/4x/api.html#req.secure)        |\n| `req.signedCookies` | [#](http://expressjs.com/en/4x/api.html#req.signedCookies) |\n| `req.stale`         | [#](http://expressjs.com/en/4x/api.html#req.stale)         |\n| `req.subdomains`    | [#](http://expressjs.com/en/4x/api.html#req.subdomains)    |\n| `req.xhr`           | [#](http://expressjs.com/en/4x/api.html#req.xhr)           |"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "Method",
      "kind": "text",
      "body": "| :-                       | :-                                                                              |\n| :----------------------- | :------------------------------------------------------------------------------ |\n| `req.accepts()`          | [#](http://expressjs.com/en/4x/api.html#req.accepts)                            |\n| `req.acceptsCharsets()`  | [#](http://expressjs.com/en/4x/api.html#req.acceptsCharsets)                    |\n| `req.acceptsEncodings()` | [#](http://expressjs.com/en/4x/api.html#req.acceptsEncodings)                   |\n| `req.acceptsLanguages()` | [#](http://expressjs.com/en/4x/api.html#req.acceptsLanguages)                   |\n| `req.get()`              | Get HTTP request header fields [#](http://expressjs.com/en/4x/api.html#req.get) |\n| `req.is()`               | [#](http://expressjs.com/en/4x/api.html#req.is)                                 |\n| `req.param()`            | [#](http://expressjs.com/en/4x/api.html#req.param)                              |\n| `req.range()`            | [#](http://expressjs.com/en/4x/api.html#req.range)                              |"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "Response",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/', function (req, res) {\n  console.dir(res.headersSent); //false\n  res.send('OK');\n  console.dir(res.headersSent); //true\n});"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "Attribute",
      "kind": "text",
      "body": "| :-                | :-                                                       |\n| :---------------- | :------------------------------------------------------- |\n| `res.app`         | [#](http://expressjs.com/en/4x/api.html#res.app)         |\n| `res.headersSent` | [#](http://expressjs.com/en/4x/api.html#res.headersSent) |\n| `res.locals`      | [#](http://expressjs.com/en/4x/api.html#res.locals)      |"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "Method",
      "kind": "text",
      "body": "| :-                  | :-                                                                                    |\n| :------------------ | :------------------------------------------------------------------------------------ |\n| `res.append()`      | [#](http://expressjs.com/en/4x/api.html#res.append)                                   |\n| `res.attachment()`  | [#](http://expressjs.com/en/4x/api.html#res.attachment)                               |\n| `res.cookie()`      | [#](http://expressjs.com/en/4x/api.html#res.cookie)                                   |\n| `res.clearCookie()` | [#](http://expressjs.com/en/4x/api.html#res.clearCookie)                              |\n| `res.download()`    | Prompt for files to download [#](http://expressjs.com/en/4x/api.html#res.download)    |\n| `res.end()`         | end the response process [#](http://expressjs.com/en/4x/api.html#res.end)             |\n| `res.format()`      | [#](http://expressjs.com/en/4x/api.html#res.format)                                   |\n| `res.get()`         | [#](http://expressjs.com/en/4x/api.html#res.get)                                      |\n| `res.json()`        | Send JSON response [#](http://expressjs.com/en/4x/api.html#res.json)                  |\n| `res.jsonp()`       | Send a response with JSONP support [#](http://expressjs.com/en/4x/api.html#res.jsonp) |\n| `res.links()`       | [#](http://expressjs.com/en/4x/api.html#res.links)                                    |\n| `res.location()`    | [#](http://expressjs.com/en/4x/api.html#res.location)                                 |\n| `res.redirect()`    | Redirect request [#](http://expressjs.com/en/4x/api.html#res.redirect)                |\n| `res.render()`      | render view template [#](http://expressjs.com/en/4x/api.html#res.render)              |\n| `res.send()`        | Send various types of responses [#](http://expressjs.com/en/4x/api.html#res.send)     |\n| `res.sendFile()`    | Send a file as an octet stream [#](http://expressjs.com/en/4x/api.html#res.sendFile)  |\n| `res.sendStatus()`  | [#](http://expressjs.com/en/4x/api.html#res.sendStatus)                               |\n| `res.set()`         | [#](http://expressjs.com/en/4x/api.html#res.set)                                      |\n| `res.status()`      | [#](http://expressjs.com/en/4x/api.html#res.status)                                   |\n| `res.type()`        | [#](http://expressjs.com/en/4x/api.html#res.type)                                     |\n| `res.vary()`        | [#](http://expressjs.com/en/4x/api.html#res.vary)                                     |"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "Router",
      "kind": "text",
      "body": "Called for any request passed to this router"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "router.use(function (req, res, next) {\n  //.. some logic here .. like any other middleware\n  next();\n});"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "will handle any request ending in `/events`"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "%2F%2Fdepends%20on%20where%20the%20router%20%22use()%22%0Arouter.get('%2Fevents'%2C%20(req%2C%20res%2C%20next)%20%3D%3E%20%7B%0A%20%20%2F%2F..%0A%7D)%3B",
      "encoded": true
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "Response",
      "kind": "text",
      "body": "The `res` object represents the HTTP response sent by the `Express` application when it receives an HTTP request"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/user/:id', (req, res) => {\n  res.send('user' + req.params.id);\n});"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "Request",
      "kind": "text",
      "body": "A `req` object represents an `HTTP` request and has properties for the request query string, parameters, body, HTTP\nheaders, etc."
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/user/:id', (req, res) => {\n  res.send('user' + req.params.id);\n});"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "res. end()",
      "kind": "code",
      "lang": "js",
      "code": "res.end();\nres.status(404).end();"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "End the response process. This method actually comes from the Node core, specifically the `response.end()` method of\n`http.ServerResponse`"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "res.json([body])",
      "kind": "code",
      "lang": "js",
      "code": "res.json(null);\nres.json({ user: 'tobi' });\nres.status(500).json({ error: 'message' });"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "app.all",
      "kind": "code",
      "lang": "js",
      "code": "app.all('/secret', function (req, res, next) {\n  console.log('access secret section...');\n  next(); // Pass control to the next handler\n});"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "app.delete",
      "kind": "code",
      "lang": "js",
      "code": "app.delete('/', function (req, res) {\n  res.send('DELETE request to homepage');\n});"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "app.disable(name)",
      "kind": "code",
      "lang": "js",
      "code": "app.disable('trust proxy');\napp.get('trust proxy');\n// => false"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "app.disabled(name)",
      "kind": "code",
      "lang": "js",
      "code": "app.disabled('trust proxy');\n// => true\n\napp.enable('trust proxy');\napp.disabled('trust proxy');\n// => false"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "app.engine(ext, callback)",
      "kind": "code",
      "lang": "js",
      "code": "var engines = require('consolidate');\n\napp.engine('haml', engines.haml);\napp.engine('html', engines.hogan);"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "app.listen([port[, host[, backlog]]][, callback])",
      "kind": "code",
      "lang": "js",
      "code": "var express = require('express');\n\nvar app = express();\napp.listen(3000);"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "Routing",
      "kind": "code",
      "lang": "js",
      "code": "const%20express%20%3D%20require('express')%3B%0Aconst%20app%20%3D%20express()%3B%0A%0A%2F%2FRespond%20to%20%22hello%20world%22%20when%20making%20a%20GET%20request%20to%20the%20homepage%0Aapp.get('%2F'%2C%20(req%2C%20res)%20%3D%3E%20%7B%0A%20%20res.send('hello%20world')%3B%0A%7D)%3B%0A%0A%2F%2F%20GET%20method%20routing%0Aapp.get('%2F'%2C%20(req%2C%20res)%20%3D%3E%20%7B%0A%20%20res.send('GET%20request%20to%20the%20homepage')%3B%0A%7D)%3B%0A%0A%2F%2F%20POST%20method%20routing%0Aapp.post('%2F'%2C%20(req%2C%20res)%20%3D%3E%20%7B%0A%20%20res.send('POST%20request%20to%20the%20homepage')%3B%0A%7D)%3B",
      "encoded": true
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "Middleware",
      "kind": "code",
      "lang": "js",
      "code": "function logOriginalUrl(req, res, next) {\n  console.log('ReqURL:', req.originalUrl);\n  next();\n}\n\nfunction logMethod(req, res, next) {\n  console.log('Request Type:', req.method);\n  next();\n}\n\nconst log = [logOriginalUrl, logMethod];\n\napp.get('/user/:id', log, (req, res, next) => {\n  res.send('User Info');\n});"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "Using templates",
      "kind": "code",
      "lang": "js",
      "code": "app.set('view engine', 'pug');"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Create a `Pug` template file named `index.pug` in the `views` directory with the following content"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "pug",
      "code": "html\n  the head\n    title= title\n  the body\n    h1=message"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Create a route to render the `index.pug` file. If the view engine property is not set, the extension of the view file\nmust be specified"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/', (req, res) => {\n  res.render('index', {\n    title: 'Hey',\n    message: 'Hello there!'\n  });\n});"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/express.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/express.md",
    "lang": "en",
    "mode": "local"
  }
}