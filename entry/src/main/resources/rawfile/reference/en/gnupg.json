{
  "id": "gnupg",
  "name": "GnuPG",
  "title": "A cheatsheet for GnuPG, the encryption and signing software.",
  "icon": "https://raw.githubusercontent.com/Fechin/reference/main/source/assets/icon/gnupg.svg",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Encryption",
      "startIndex": 17
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "A cheatsheet for GnuPG, the encryption and signing software."
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Software",
      "kind": "text",
      "body": "Gpg4win and the GPG Suite have OS-specific features."
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• [GnuPG](https://gnupg.org/)\n• [Gpg4win](https://www.gpg4win.org/) (Windows)\n• [GPG Suite](https://gpgtools.org/) (macOS)"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Sometimes GPG keys are referred as PGP keys. They're interchangeable, as they follow the\n[OpenPGP Standard](https://www.rfc-editor.org/rfc/rfc9580.html)."
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Create a key-pair",
      "kind": "text",
      "body": "Generate your keys:"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --generate-key"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n... or fully configure your keys.\n\n```shell script\n$ gpg --generate-full-keys"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "**Note:** Choose a strong passphrase! The encryption is only as strong as your passphrase."
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Key management",
      "kind": "text",
      "body": "List your keys:"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --list-keys"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nList your secret keys:\n\n```shell script\n$ gpg --list-secret-keys"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Export your public key:"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --export --armor <ID>"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nExport your secret key:\n\n```shell script\n$ gpg --export-secret-key --armor <ID>"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Delete your public key:"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --delete-key <ID>"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nDelete your secret key:\n\n```shell script\n$ gpg --delete-secret-key <ID>"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "Symmetric",
      "kind": "text",
      "body": "Encrypt with a passphrase:"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg -c <FILE>"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nEncrypt as ASCII with `-a` flag:\n\n```shell script\n$ gpg -ac <FILE>"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Set output file path with `-o` flag:"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg -c <FILE> -o <PATH>"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nDecrypt with a passphrase:\n\n```shell script\n$ gpg <FILE>"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "**Note:** Choose a strong passphrase! The encryption is only as strong as your passphrase."
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "Asymmetric",
      "kind": "text",
      "body": "Encrypt using public-private key encryption:"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg -e -r <RECIPIENT> <FILE>"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nEncrypt as ASCII output with `-a` flag:\n\n```shell script\n$ gpg -ea -r <RECIPIENT> <FILE>"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Encrypt and sign with `-s` flag:"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg -se -r <RECIPIENT> <FILE>"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nAdd multiple recipients:\n\n```shell script\n$ gpg -e -r <RECIPIENT1> -r <RECIPIENT2> <FILE>"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Set output file path with `-o` flag:"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg -e -o <PATH> -r <RECIPIENT> <FILE>"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nDecrypt with your private key:\n\n```shell script\n$ gpg <FILE>"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Replace `<RECIPIENT>` with your intended recipient's [imported public key](#importing-a-public-key) ID."
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "Importing a public key",
      "kind": "text",
      "body": "Import using a file:"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --import <FILE>"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nImport using a link (macOS/Linux):\n\n```shell script\n$ curl <WEBSITE> | gpg --import"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Don't forget to sign the imported key:"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --sign-key <ID>"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n## Commit Signing\n\n### Local Git Setup\n\nEnable GPG signing:\n\n```shell script\n$ git config --global commit.gpgsign true"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Set the signing key:"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ git config --global user.signingkey <ID>"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nSet location of GPG:\n\n```shell script\n$ git config --global gpg.program <PROGRAM>"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "**Note:** Your name and email must match on Git and GnuPG."
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "GPG Program List",
      "kind": "text",
      "body": "Replace `<PROGRAM>` with one of the following:"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "| Platform    | Value                                      |\n| ----------- | ------------------------------------------ |\n| Windows     | `C:\\Program Files (x86)\\GnuPG\\bin\\gpg.exe` |\n| macOS/Linux | /usr/local/bin/gpg                         |"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "Exporting your public key",
      "kind": "text",
      "body": "Export as ASCII:"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpg --export --armor <ID>"
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A**Note%3A**%20Platforms%2C%20like%20GitHub%2C%20may%20ask%20you%20to%20verify%20the%20email%20you%20set%20in%20Git%20and%20GnuPG.%0A%0A%23%23%20Windows%3A%20Add%20to%20Startup%20Apps%20%7B.cols-1%7D%0A%0A%23%23%23%20PowerShell%20Commands%0A%0AWhen%20you%20do%20a%20full%20restart%2C%20the%20GPG%20agent%20might%20not%20automatically%20start.%20Add%20the%20GnuPG's%20IPC%20tool%20to%20Startup%20Apps%20using%0APowerShell%3A%0A%0A%60%60%60shell%20script%0A%24%20%24shell%20%3D%20New-Object%20-ComObject%20WScript.Shell%0A%24%20%24shortcut%20%3D%20%24shell.CreateShortcut(%22C%3A%5CUsers%5C%24(%24Env%3AUserName)%5CAppData%5CRoaming%5CMicrosoft%5CWindows%5CStart%20Menu%5CPrograms%5CStartup%5Cgpg-connect-agent.lnk%22)%0A%24%20%24shortcut.TargetPath%20%3D%20%22C%3A%5CProgram%20Files%20(x86)%5CGnuPG%5Cbin%5Cgpg-connect-agent.exe%22%0A%24%20%24shortcut.Arguments%20%3D%20%22%2Fbye%22%0A%24%20%24shortcut.Save()",
      "encoded": true
    },
    {
      "id": "s2-49",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Start up manually instead:"
    },
    {
      "id": "s2-50",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "```shell script\n$ gpgconf --launch gpg-agent"
    },
    {
      "id": "s2-51",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nCheck if it was successfully added [here](ms-settings:startupapps)."
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/gnupg.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/gnupg.md",
    "lang": "en",
    "mode": "local"
  }
}