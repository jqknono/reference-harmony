{
  "id": "awk",
  "name": "Awk",
  "title": "This is a one page quick reference cheat sheet to the [GNU awk](https://www.gnu.org/software/gawk/manual/gawk.html), which covers commonly used awk expressions and commands.",
  "icon": "https://raw.githubusercontent.com/Fechin/reference/main/source/assets/icon/awk.svg",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Awk Variables",
      "startIndex": 17
    },
    {
      "id": "s3",
      "title": "Awk Operators",
      "startIndex": 33
    },
    {
      "id": "s4",
      "title": "Awk Functions",
      "startIndex": 42
    },
    {
      "id": "s5",
      "title": "Awk Arrays",
      "startIndex": 44
    },
    {
      "id": "s6",
      "title": "Awk Conditions",
      "startIndex": 50
    },
    {
      "id": "s7",
      "title": "Awk Loops",
      "startIndex": 55
    },
    {
      "id": "s8",
      "title": "Awk Formatted Printing",
      "startIndex": 67
    },
    {
      "id": "s9",
      "title": "Also see",
      "startIndex": 78
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "This is a one page quick reference cheat sheet to the [GNU awk](https://www.gnu.org/software/gawk/manual/gawk.html), which covers commonly used awk expressions and commands."
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Have a try",
      "kind": "text",
      "body": "```shell script {.wrap}\n$ awk -F: '{print $1, $NF}' /etc/passwd"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n---\n\n| -             | -                         |\n| ------------- | ------------------------- |\n| `-F:`         | Colon as a separator      |\n| `{...}`       | Awk program               |\n| `print`       | Prints the current record |\n| `$1`          | First field               |\n| `$NF`         | Last field                |\n| `/etc/passwd` | Input data file           |\n\n{.left-text}\n\n### Awk program"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "BEGIN          {<initializations>}\n<pattern 1> {<program actions>}\n<pattern 2> {<program actions>}\n...\nEND            {< final actions >}"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n#### Example"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "awk%20'%0ABEGIN%20%7B%20print%20%22%5Cn%3E%3E%3EStart%22%20%7D%0A!%2F(login%7Cshutdown)%2F%20%7B%20print%20NR%2C%20%240%20%7D%0AEND%20%7B%20print%20%22%3C%3C%3CEND%5Cn%22%20%7D%0A'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A%23%23%23%20Variables%20%7B.row-span-2%7D%0A%0A%60%60%60bash%0A%20%20%20%20%20%20%20%20%20%20%241%20%20%20%20%20%20%242%2F%24(NF-1)%20%20%20%20%243%2F%24NF%0A%20%20%20%20%20%20%20%20%20%20%20%E2%96%BC%20%20%20%20%20%20%20%20%20%20%E2%96%BC%20%20%20%20%20%20%20%20%20%20%20%E2%96%BC%0A%20%20%20%20%20%20%20%20%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%20ID%20%20%E2%94%82%20%20WEBSITE%20%20%20%20%20%20%20%20%20%E2%94%82%20%20URI%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%A4%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%201%20%20%20%E2%94%82%20%20cheatsheets.zip%20%E2%94%82%20%20awk%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%A4%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%202%20%20%20%E2%94%82%20%20google.com%20%20%20%20%20%20%E2%94%82%20%2025%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%B4%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%B4%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%0A%23%20First%20and%20last%20field%0Aawk%20-F%3A%20'%7Bprint%20%241%2C%24NF%7D'%20%2Fetc%2Fpasswd%0A%0A%23%20With%20line%20number%0Aawk%20-F%3A%20'%7Bprint%20NR%2C%20%240%7D'%20%2Fetc%2Fpasswd%0A%0A%23%20Second%20last%20field%0Aawk%20-F%3A%20'%7Bprint%20%24(NF-1)%7D'%20%2Fetc%2Fpasswd%0A%0A%23%20Custom%20string%0Aawk%20-F%3A%20'%7Bprint%20%241%20%22%3D%22%20%246%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "See: [Variables](#awk-variables)"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Awk%20program%20examples",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7Bprint%20%22hello%20world%22%7D'%20%20%20%20%20%20%20%20%23%20Prints%20%22hello%20world%22%0Aawk%20-F%3A%20'%7Bprint%20%241%7D'%20%2Fetc%2Fpasswd%20%20%20%20%20%20%20%20%20%23%20-F%3A%20Specify%20field%20separator%0A%0A%23%20%2Fpattern%2F%20Execute%20actions%20only%20for%20matched%20pattern%0Aawk%20-F%3A%20'%2Froot%2F%20%7Bprint%20%241%7D'%20%2Fetc%2Fpasswd%0A%0A%23%20BEGIN%20block%20is%20executed%20once%20at%20the%20start%0Aawk%20-F%3A%20'BEGIN%20%7B%20print%20%22uid%22%7D%20%7B%20print%20%241%20%7D'%20%2Fetc%2Fpasswd%0A%0A%23%20END%20block%20is%20executed%20once%20at%20the%20end%0Aawk%20-F%3A%20'%7Bprint%20%241%7D%20END%20%7B%20print%20%22-done-%22%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "Conditions",
      "kind": "code",
      "lang": "",
      "code": "awk -F: '$3>30 {print $1}' /etc/passwd"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "See: [Conditions](#awk-conditions)"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "Generate%201000%20spaces",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%7B%0A%20%20%20%20while%20(a%2B%2B%20%3C%201000)%0A%20%20%20%20%20%20%20%20s%3Ds%20%22%20%22%3B%0A%20%20%20%20print%20s%0A%7D'",
      "encoded": true
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "See: [Loops](#awk-loops)"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "Arrays",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20fruits%5B%22mango%22%5D%20%3D%20%22yellow%22%3B%0A%20%20%20fruits%5B%22orange%22%5D%20%3D%20%22orange%22%0A%20%20%20for(fruit%20in%20fruits)%20%7B%0A%20%20%20%20%20print%20%22The%20color%20of%20%22%20fruit%20%22%20is%20%22%20fruits%5Bfruit%5D%0A%20%20%20%7D%0A%7D'",
      "encoded": true
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "See: [Arrays](#awk-arrays)"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "Functions",
      "kind": "code",
      "lang": "",
      "code": "%23%20%3D%3E%205%0Aawk%20'BEGIN%7Bprint%20length(%22hello%22)%7D'%0A%23%20%3D%3E%20HELLO%0Aawk%20'BEGIN%7Bprint%20toupper(%22hello%22)%7D'%0A%23%20%3D%3E%20hel%0Aawk%20'BEGIN%7Bprint%20substr(%22hello%22%2C%201%2C%203)%7D'",
      "encoded": true
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "See: [Functions](#awk-functions)"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "Build-in%20variables",
      "kind": "text",
      "body": "%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20--------------%20%7C%20---------------------------------------------------%20%7C%0A%7C%20%60%240%60%20%20%20%20%20%20%20%20%20%20%20%7C%20Whole%20line%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60%241%2C%20%242...%24NF%60%20%7C%20First%2C%20second%E2%80%A6%20last%20field%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR%60%20%20%20%20%20%20%20%20%20%20%20%7C%20%60N%60umber%20of%20%60R%60ecords%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NF%60%20%20%20%20%20%20%20%20%20%20%20%7C%20%60N%60umber%20of%20%60F%60ields%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60OFS%60%20%20%20%20%20%20%20%20%20%20%7C%20%60O%60utput%20%60F%60ield%20%60S%60eparator%20%3Cbr%3E%20_(default%20%22%20%22)_%20%20%20%7C%0A%7C%20%60FS%60%20%20%20%20%20%20%20%20%20%20%20%7C%20input%20%60F%60ield%20%60S%60eparator%20%3Cbr%3E%20_(default%20%22%20%22)_%20%20%20%20%20%20%7C%0A%7C%20%60ORS%60%20%20%20%20%20%20%20%20%20%20%7C%20%60O%60utput%20%60R%60ecord%20%60S%60eparator%20%3Cbr%3E%20_(default%20%22%5Cn%22)_%20%7C%0A%7C%20%60RS%60%20%20%20%20%20%20%20%20%20%20%20%7C%20input%20%60R%60ecord%20%60S%60eparator%20%3Cbr%3E%20_(default%20%22%5Cn%22)_%20%20%20%20%7C%0A%7C%20%60FILENAME%60%20%20%20%20%20%7C%20Name%20of%20the%20file%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "Expressions",
      "kind": "text",
      "body": "%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20-------------------%20%7C%20----------------------------------%20%7C%0A%7C%20%60%241%20%3D%3D%20%22root%22%60%20%20%20%20%20%20%7C%20First%20field%20equals%20root%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60%7Bprint%20%24(NF-1)%7D%60%20%20%20%7C%20Second%20last%20field%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR!%3D1%7Bprint%20%240%7D%60%20%20%20%7C%20From%202nd%20record%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR%20%3E%203%60%20%20%20%20%20%20%20%20%20%20%20%20%7C%20From%204th%20record%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR%20%3D%3D%201%60%20%20%20%20%20%20%20%20%20%20%20%7C%20First%20record%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60END%7Bprint%20NR%7D%60%20%20%20%20%20%7C%20Total%20records%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60BEGIN%7Bprint%20OFMT%7D%60%20%7C%20Output%20format%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60%7Bprint%20NR%2C%20%240%7D%60%20%20%20%20%7C%20Line%20number%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60%7Bprint%20NR%20%22%09%22%20%240%7D%60%20%20%7C%20Line%20number%20(tab)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60%7B%241%20%3D%20NR%3B%20print%7D%60%20%20%7C%20Replace%201st%20field%20with%20line%20number%20%7C%0A%7C%20%60%24NF%20%3E%204%60%20%20%20%20%20%20%20%20%20%20%20%7C%20Last%20field%20%3E%204%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR%20%25%202%20%3D%3D%200%60%20%20%20%20%20%20%20%7C%20Even%20records%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60NR%3D%3D10%2C%20NR%3D%3D20%60%20%20%20%20%7C%20Records%2010%20to%2020%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60BEGIN%7Bprint%20ARGC%7D%60%20%7C%20Total%20arguments%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60ORS%3DNR%255%3F%22%2C%22%3A%22%5Cn%22%60%20%7C%20Concatenate%20records%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "Examples",
      "kind": "text",
      "body": "Print sum and average"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "awk -F: '{sum += $3}\n     END { print sum, sum/NR }\n' /etc/passwd"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Printing parameters"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    for (i = 1; i < ARGC; i++)\n        print ARGV[i] }' a b c"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Output field separator as a comma"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%20FS%3D%22%3A%22%3BOFS%3D%22%2C%22%7D%0A%20%20%20%20%7Bprint%20%241%2C%242%2C%243%2C%244%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Position of match"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(match(%22One%20Two%20Three%22%2C%20%22Tw%22))%0A%20%20%20%20%20%20%20%20print%20RSTART%20%7D'",
      "encoded": true
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "Length of match"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(match(%22One%20Two%20Three%22%2C%20%22re%22))%0A%20%20%20%20%20%20%20%20print%20RLENGTH%20%7D'",
      "encoded": true
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "Environment%20Variables",
      "kind": "text",
      "body": "%7C%20-%20%20%20%20%20%20%20%20%20%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20---------%20%7C%20---------------------------------------------------------%20%7C%0A%7C%20%60ARGC%60%20%20%20%20%7C%20Number%20or%20arguments%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60ARGV%60%20%20%20%20%7C%20Array%20of%20arguments%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60FNR%60%20%20%20%20%20%7C%20%60F%60ile%20%60N%60umber%20of%20%60R%60ecords%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60OFMT%60%20%20%20%20%7C%20Format%20for%20numbers%20%3Cbr%3E%20_(default%20%22%25.6g%22)_%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60RSTART%60%20%20%7C%20Location%20in%20the%20string%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60RLENGTH%60%20%7C%20Length%20of%20match%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20%60SUBSEP%60%20%20%7C%20Multi-dimensional%20array%20separator%20%3Cbr%3E%20_(default%20%22%5C034%22)_%20%7C%0A%7C%20%60ARGIND%60%20%20%7C%20Argument%20Index%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "GNU awk only",
      "kind": "text",
      "body": "| -             | -                     |\n| ------------- | --------------------- |\n| `ENVIRON`     | Environment variables |\n| `IGNORECASE`  | Ignore case           |\n| `CONVFMT`     | Conversion format     |\n| `ERRNO`       | System errors         |\n| `FIELDWIDTHS` | Fixed width fields    |"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "Defining%20variable",
      "kind": "code",
      "lang": "",
      "code": "awk%20-v%20var1%3D%22Hello%22%20-v%20var2%3D%22Wold%22%20'%0A%20%20%20%20END%20%7Bprint%20var1%2C%20var2%7D%0A'%20%3C%2Fdev%2Fnull",
      "encoded": true
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "Use%20shell%20variables",
      "kind": "code",
      "lang": "",
      "code": "awk%20-v%20varName%3D%22%24PWD%22%20'%0A%20%20%20%20END%20%7Bprint%20varName%7D'%20%3C%2Fdev%2Fnull",
      "encoded": true
    },
    {
      "id": "s3-33",
      "sectionId": "s3",
      "title": "Operators",
      "kind": "text",
      "body": "%7C%20-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20-%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----------------%20%7C%20-----------%20%7C%0A%7C%20%60%7Bprint%20%241%7D%60%20%20%20%20%20%7C%20First%20field%20%7C%0A%7C%20%60%242%20%3D%3D%20%22foo%22%60%20%20%20%20%7C%20Equals%20%20%20%20%20%20%7C%0A%7C%20%60%242%20!%3D%20%22foo%22%60%20%20%20%20%7C%20Not%20equals%20%20%7C%0A%7C%20%60%22foo%22%20in%20array%60%20%7C%20In%20array%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s3-34",
      "sectionId": "s3",
      "title": "Regular expression",
      "kind": "text",
      "body": "| -               | -                 |\n| --------------- | ----------------- |\n| `/regex/`       | Line matches      |\n| `!/regex/`      | Line not matches  |\n| `$1 ~ /regex/`  | Field matches     |\n| `$1 !~ /regex/` | Field not matches |"
    },
    {
      "id": "s3-35",
      "sectionId": "s3",
      "title": "More conditions",
      "kind": "text",
      "body": "| -                        | -   |\n| ------------------------ | --- |\n| `($2 <= 4 \\|\\| $3 < 20)` | Or  |\n| `($1 == 4 && $3 < 20)`   | And |"
    },
    {
      "id": "s3-36",
      "sectionId": "s3",
      "title": "Operations - Arithmetic operations",
      "kind": "text",
      "body": "• `+`\n• `-`\n• `*`\n• `/`\n• `%`\n• `++`\n• `--`"
    },
    {
      "id": "s3-37",
      "sectionId": "s3",
      "title": "Shorthand assignments",
      "kind": "text",
      "body": "• `+=`\n• `-=`\n• `*=`\n• `/=`\n• `%=`"
    },
    {
      "id": "s3-38",
      "sectionId": "s3",
      "title": "Comparison operators",
      "kind": "text",
      "body": "• `==`\n• `!=`\n• `<`\n• `>`\n• `<=`\n• `>=`"
    },
    {
      "id": "s3-39",
      "sectionId": "s3",
      "title": "Examples",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(%22foo%22%20~%20%22%5Efo%2B%24%22)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s3-40",
      "sectionId": "s3",
      "title": "Not%20match",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(%22boo%22%20!~%20%22%5Efo%2B%24%22)%0A%20%20%20%20%20%20%20%20print%20%22Boo!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s3-41",
      "sectionId": "s3",
      "title": "if%20in%20array",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22foo%22%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s4-42",
      "sectionId": "s4",
      "title": "Common functions",
      "kind": "text",
      "body": "| Function              | Description                                                                     |\n| --------------------- | ------------------------------------------------------------------------------- |\n| `index(s,t)`          | Position in string s where string t occurs, 0 if not found                      |\n| `length(s)`           | Length of string s (or $0 if no arg)                                            |\n| `rand`                | Random number between 0 and 1                                                   |\n| `substr(s,index,len)` | Return len-char substring of s that begins at index (counted from 1)            |\n| `srand`               | Set seed for rand and return previous seed                                      |\n| `int(x)`              | Truncate x to integer value                                                     |\n| `split(s,a,fs)`       | Split string s into array a split by fs, returning length of a                  |\n| `match(s,r)`          | Position in string s where regex r occurs, or 0 if not found                    |\n| `sub(r,t,s)`          | Substitute t for first occurrence of regex r in string s (or $0 if s not given) |\n| `gsub(r,t,s)`         | Substitute t for all occurrences of regex r in string s                         |\n| `system(cmd)`         | Execute cmd and return exit status                                              |\n| `tolower(s)`          | String s to lowercase                                                           |\n| `toupper(s)`          | String s to uppercase                                                           |\n| `getline`             | Set $0 to next input record from current input file.                            |"
    },
    {
      "id": "s4-43",
      "sectionId": "s4",
      "title": "User%20defined%20function",
      "kind": "code",
      "lang": "",
      "code": "awk%20'%0A%20%20%20%20%23%20Returns%20minimum%20number%0A%20%20%20%20function%20find_min(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20if%20(num1%20%3C%20num2)%0A%20%20%20%20%20%20%20return%20num1%0A%20%20%20%20%20%20%20return%20num2%0A%20%20%20%20%7D%0A%20%20%20%20%23%20Returns%20maximum%20number%0A%20%20%20%20function%20find_max(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20if%20(num1%20%3E%20num2)%0A%20%20%20%20%20%20%20return%20num1%0A%20%20%20%20%20%20%20return%20num2%0A%20%20%20%20%7D%0A%20%20%20%20%23%20Main%20function%0A%20%20%20%20function%20main(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20result%20%3D%20find_min(num1%2C%20num2)%0A%20%20%20%20%20%20%20print%20%22Minimum%20%3D%22%2C%20result%0A%0A%20%20%20%20%20%20%20result%20%3D%20find_max(num1%2C%20num2)%0A%20%20%20%20%20%20%20print%20%22Maximum%20%3D%22%2C%20result%0A%20%20%20%20%7D%0A%20%20%20%20%23%20Script%20execution%20starts%20here%0A%20%20%20%20BEGIN%20%7B%0A%20%20%20%20%20%20%20main(10%2C%2060)%0A%20%20%20%20%7D%0A'",
      "encoded": true
    },
    {
      "id": "s5-44",
      "sectionId": "s5",
      "title": "Array%20with%20index",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20arr%5B0%5D%20%3D%20%22foo%22%3B%0A%20%20%20%20arr%5B1%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20print(arr%5B0%5D)%3B%20%23%20%3D%3E%20foo%0A%20%20%20%20delete%20arr%5B0%5D%3B%0A%20%20%20%20print(arr%5B0%5D)%3B%20%23%20%3D%3E%20%22%22%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-45",
      "sectionId": "s5",
      "title": "Array%20with%20key",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20print(%22baz%22%20in%20assoc)%3B%20%23%20%3D%3E%200%0A%20%20%20%20print(%22foo%22%20in%20assoc)%3B%20%23%20%3D%3E%201%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-46",
      "sectionId": "s5",
      "title": "Array%20with%20split",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20split(%22foo%3Abar%3Abaz%22%2C%20arr%2C%20%22%3A%22)%3B%0A%20%20%20%20for%20(key%20in%20arr)%0A%20%20%20%20%20%20%20%20print%20arr%5Bkey%5D%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-47",
      "sectionId": "s5",
      "title": "Array with asort",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    arr[0] = 3\n    arr[1] = 2\n    arr[2] = 4\n    n = asort(arr)\n    for (i = 1; i <= n ; i++)\n        print(arr[i])\n}'"
    },
    {
      "id": "s5-48",
      "sectionId": "s5",
      "title": "Multi-dimensional",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20multidim%5B0%2C0%5D%20%3D%20%22foo%22%3B%0A%20%20%20%20multidim%5B0%2C1%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20multidim%5B1%2C0%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20multidim%5B1%2C1%5D%20%3D%20%22boo%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-49",
      "sectionId": "s5",
      "title": "Multi-dimensional iteration",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    array[1,2]=3;\n    array[2,3]=5;\n    for (comb in array) {\n        split(comb,sep,SUBSEP);\n        print sep[1], sep[2],\n        array[sep[1],sep[2]]\n    }\n}'"
    },
    {
      "id": "s6-50",
      "sectionId": "s6",
      "title": "if-else%20statement",
      "kind": "code",
      "lang": "",
      "code": "awk%20-v%20count%3D2%20'BEGIN%20%7B%0A%20%20%20%20if%20(count%20%3D%3D%201)%0A%20%20%20%20%20%20%20%20print%20%22Yes%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20print%20%22Huh%3F%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-51",
      "sectionId": "s6",
      "title": "Ternary%20operator",
      "kind": "code",
      "lang": "",
      "code": "awk%20-v%20count%3D2%20'BEGIN%20%7B%0A%20%20%20%20print%20(count%3D%3D1)%20%3F%20%22Yes%22%20%3A%20%22Huh%3F%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-52",
      "sectionId": "s6",
      "title": "Exists",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22foo%22%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-53",
      "sectionId": "s6",
      "title": "Not%20exists",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22Huh%22%20in%20assoc%20%3D%3D%200%20)%0A%20%20%20%20%20%20%20%20print%20%22Huh!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-54",
      "sectionId": "s6",
      "title": "switch",
      "kind": "code",
      "lang": "",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20switch%20(NR%20*%202%20%2B%201)%20%7B%0A%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20case%20%2211%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20-%201%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%0A%20%20%20%20%20%20%20%20case%20%2F2%5B%5B%3Adigit%3A%5D%5D%2B%2F%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%0A%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20%2B%201%0A%0A%20%20%20%20%20%20%20%20case%20-1%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20*%20-1%0A%20%20%20%20%7D%0A%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s7-55",
      "sectionId": "s7",
      "title": "for...i",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%2010%3B%20i%2B%2B)%0A%20%20%20%20%20%20%20%20print%20%22i%3D%22%20i%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-56",
      "sectionId": "s7",
      "title": "Powers of two between 1 and 100",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    for (i = 1; i <= 100; i *= 2)\n        print i\n}'"
    },
    {
      "id": "s7-57",
      "sectionId": "s7",
      "title": "for...in",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22key1%22%5D%20%3D%20%22val1%22%0A%20%20%20%20assoc%5B%22key2%22%5D%20%3D%20%22val2%22%0A%20%20%20%20for%20(key%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20assoc%5Bkey%5D%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-58",
      "sectionId": "s7",
      "title": "Arguments",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    for (argnum in ARGV)\n        print ARGV[argnum];\n}' a b c"
    },
    {
      "id": "s7-59",
      "sectionId": "s7",
      "title": "Examples - Reverse records",
      "kind": "code",
      "lang": "",
      "code": "awk -F: '{ x[NR] = $0 }\n    END {\n        for (i = NR; i > 0; i--)\n        print x[i]\n    }\n' /etc/passwd"
    },
    {
      "id": "s7-60",
      "sectionId": "s7",
      "title": "Reverse%20fields",
      "kind": "code",
      "lang": "",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20for%20(i%20%3D%20NF%3B%20i%20%3E%200%3B%20i--)%0A%20%20%20%20%20%20%20%20printf(%22%25s%20%22%2C%24i)%3B%0A%20%20%20%20print%20%22%22%0A%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s7-61",
      "sectionId": "s7",
      "title": "Sum by record",
      "kind": "code",
      "lang": "",
      "code": "awk -F: '{\n    s=0;\n    for (i = 1; i <= NF; i++)\n        s += $i;\n    print s\n}' /etc/passwd"
    },
    {
      "id": "s7-62",
      "sectionId": "s7",
      "title": "Sum whole file",
      "kind": "code",
      "lang": "",
      "code": "awk -F: '\n    {for (i = 1; i <= NF; i++)\n        s += $i;\n    };\n    END{print s}\n' /etc/passwd"
    },
    {
      "id": "s7-63",
      "sectionId": "s7",
      "title": "while",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20while%20(a%20%3C%2010)%20%7B%0A%20%20%20%20%20%20%20%20print%20%22-%20%22%20%22%20concatenation%3A%20%22%20a%0A%20%20%20%20%20%20%20%20a%2B%2B%3B%0A%20%20%20%20%7D%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-64",
      "sectionId": "s7",
      "title": "do...while",
      "kind": "code",
      "lang": "",
      "code": "awk '{\n    i = 1\n    do {\n        print $0\n        i++\n    } while (i <= 5)\n}' /etc/passwd"
    },
    {
      "id": "s7-65",
      "sectionId": "s7",
      "title": "Break",
      "kind": "code",
      "lang": "",
      "code": "awk 'BEGIN {\n    break_num = 5\n    for (i = 0; i < 10; i++) {\n        print i\n        if (i == break_num)\n            break\n    }\n}'"
    },
    {
      "id": "s7-66",
      "sectionId": "s7",
      "title": "Continue",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20for%20(x%20%3D%200%3B%20x%20%3C%3D%2010%3B%20x%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(x%20%3D%3D%205%20%7C%7C%20x%20%3D%3D%206)%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20printf%20%22%25d%20%22%2C%20x%0A%20%20%20%20%7D%0A%20%20%20%20print%20%22%22%0A%7D'",
      "encoded": true
    },
    {
      "id": "s8-67",
      "sectionId": "s8",
      "title": "Usage%20-%20Right%20align",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%7Bprintf%20%22%7C%2510s%7C%5Cn%22%2C%20%22hello%22%7D'%0A%0A%7C%20%20%20%20%20hello%7C",
      "encoded": true
    },
    {
      "id": "s8-68",
      "sectionId": "s8",
      "title": "Left%20align",
      "kind": "code",
      "lang": "",
      "code": "awk%20'BEGIN%7Bprintf%20%22%7C%25-10s%7C%5Cn%22%2C%20%22hello%22%7D'%0A%0A%7Chello%20%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s8-69",
      "sectionId": "s8",
      "title": "Common specifiers",
      "kind": "text",
      "body": "| Character     | Description           |\n| ------------- | --------------------- |\n| `c`           | ASCII character       |\n| `d`           | Decimal integer       |\n| `e`, `E`, `f` | Floating-point format |\n| `o`           | Unsigned octal value  |\n| `s`           | String                |\n| `%`           | Literal %             |"
    },
    {
      "id": "s8-70",
      "sectionId": "s8",
      "title": "Space",
      "kind": "code",
      "lang": "",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%241%2C%20%24(NF-1)%0A%7D'%20%2Fetc%2Fpasswd%20%7C%20head%20-n%203",
      "encoded": true
    },
    {
      "id": "s8-71",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "Outputs"
    },
    {
      "id": "s8-72",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "```shell script\nroot       /root\nbin        /bin\ndaemon     /sbin"
    },
    {
      "id": "s8-73",
      "sectionId": "s8",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n### Header"
    },
    {
      "id": "s8-74",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "awk%20-F%3A%20'BEGIN%20%7B%0Aprintf%20%22%25-10s%20%25s%5Cn%22%2C%20%22User%22%2C%20%22Home%22%0Aprintf%20%22%25-10s%20%25s%5Cn%22%2C%20%22----%22%2C%22----%22%7D%0A%7B%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%241%2C%20%24(NF-1)%20%7D%0A'%20%2Fetc%2Fpasswd%20%7C%20head%20-n%205",
      "encoded": true
    },
    {
      "id": "s8-75",
      "sectionId": "s8",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\nOutputs"
    },
    {
      "id": "s8-76",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "User       Home\n----       ----\nroot       /root\nbin        /bin\ndaemon     /sbin"
    },
    {
      "id": "s8-77",
      "sectionId": "s8",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n## Miscellaneous\n\n### Regex Metacharacters\n\n- `\\`\n- `^`\n- `$`\n- `.`\n- `[`\n- `]`\n- `|`\n- `(`\n- `)`\n- `*`\n- `+`\n- `?`\n\n{.cols-3 .marker-none}\n\n### Escape Sequences\n\n| -    | -                   |\n| ---- | ------------------- |\n| `\\b` | Backspace           |\n| `\\f` | Form feed           |\n| `\\n` | Newline (line feed) |\n| `\\r` | Carriage return     |\n| `\\t` | Horizontal tab      |\n| `\\v` | Vertical tab        |\n\n### Run script\n\n```shell script\n$ cat demo.awk\n#!/usr/bin/awk -f\nBEGIN { x = 23 }\n      { x += 2 }\nEND   { print x }\n$ awk -f demo.awk /etc/passwd\n69"
    },
    {
      "id": "s9-78",
      "sectionId": "s9",
      "title": "Also see",
      "kind": "text",
      "body": "• [The GNU Awk User's Guide](https://www-zeuthen.desy.de/dv/documentation/unixguide/infohtml/gawk/gawk.html)"
    },
    {
      "id": "s9-79",
      "sectionId": "s9",
      "title": "Also see",
      "kind": "text",
      "body": "_(www-zeuthen.desy.de)_"
    },
    {
      "id": "s9-80",
      "sectionId": "s9",
      "title": "Also see",
      "kind": "text",
      "body": "• [AWK cheatsheet](https://gist.github.com/Rafe/3102414) _(gist.github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/awk.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/awk.md",
    "lang": "en",
    "mode": "local"
  }
}