{
  "id": "docker",
  "name": "Docker",
  "title": "This is a quick reference cheat sheet for [Docker](https://docs.docker.com/get-started/). And you can find the most common Docker commands here.",
  "icon": "https://raw.githubusercontent.com/Fechin/reference/main/source/assets/icon/docker.svg",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Docker Containers",
      "startIndex": 19
    },
    {
      "id": "s3",
      "title": "Docker Images",
      "startIndex": 43
    },
    {
      "id": "s4",
      "title": "Clean Up",
      "startIndex": 63
    },
    {
      "id": "s5",
      "title": "Miscellaneous",
      "startIndex": 78
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "This is a quick reference cheat sheet for [Docker](https://docs.docker.com/get-started/). And you can find the most common Docker commands here."
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "Create and run a container in background"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "```shell script\n$ docker run -d -p 80:80 docker/getting-started"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "code",
      "lang": "",
      "code": "\n---\n\n- `-d` - Run the container in detached mode\n- `-p 80:80` - Map port 80 to port 80 in the container\n- `docker/getting-started` - The image to use\n\n{.marker-none}\n\nCreate and run a container in foreground\n\n```shell script\n$ docker run -it -p 8001:8080 --name my-nginx nginx"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Getting started",
      "kind": "text",
      "body": "• `-it` - Interactive bash mode\n• `-p 8001:8080` - Map port 8001 to port 8080 in the container\n• `--name my-nginx` - Specify a name\n• `nginx` - The image to use"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker ps`",
      "back": "List running containers"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker ps -a`",
      "back": "List all containers"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker ps -s`",
      "back": "List running containers<br>_(with CPU / memory)_"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker images`",
      "back": "List all images"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker exec -it <container>  bash`",
      "back": "Connecting to container"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker logs <container>`",
      "back": "Shows container's console log"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker stop <container>`",
      "back": "Stop a container"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker restart <container>`",
      "back": "Restart a container"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker rm <container>`",
      "back": "Remove a container"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker port <container>`",
      "back": "Shows container's port mapping"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker top <container>`",
      "back": "List processes"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "qa",
      "front": "`docker kill <container>`",
      "back": "Kill a container"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "General commands",
      "kind": "text",
      "body": "Parameter `<container>` can be container id or name"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker start my-nginx`",
      "back": "Starting"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker stop my-nginx`",
      "back": "Stopping"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker restart my-nginx`",
      "back": "Restarting"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker pause my-nginx`",
      "back": "Pausing"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker unpause my-nginx`",
      "back": "Unpausing"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker wait my-nginx`",
      "back": "Blocking a Container"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker kill my-nginx`",
      "back": "Sending a SIGKILL"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "Starting & Stopping",
      "kind": "qa",
      "front": "`docker attach my-nginx`",
      "back": "Connecting to an Existing Container"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker ps`",
      "back": "List running containers"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker ps -a`",
      "back": "List all containers"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker logs my-nginx`",
      "back": "Container Logs"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker inspect my-nginx`",
      "back": "Inspecting Containers"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker events my-nginx`",
      "back": "Containers Events"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker port my-nginx`",
      "back": "Public Ports"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker top my-nginx`",
      "back": "Running Processes"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker stats my-nginx`",
      "back": "Container Resource Usage"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "Information",
      "kind": "qa",
      "front": "`docker diff my-nginx`",
      "back": "Lists the changes made to a container."
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "code",
      "lang": "yaml",
      "code": "docker create [options] IMAGE\n  -a, --attach               # attach stdout/err\n  -i, --interactive          # attach stdin (interactive)\n  -t, --tty                  # pseudo-tty\n      --name NAME            # name your image\n  -p, --publish 5000:5000    # port map (host:container)\n      --expose 5432          # expose a port to containers\n  -P, --publish-all          # publish all ports\n      --link container:alias # linking\n  -v, --volume `pwd`:/app    # mount (absolute paths needed)\n  -e, --env NAME=hello       # env vars"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "text",
      "body": "#### Example"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "text",
      "body": "```shell script\n$ docker create --name my_redis --expose 6379 redis:3.0.2"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "code",
      "lang": "",
      "code": "\n### Manipulating\n\nRenaming a Container\n\n```shell script\ndocker rename my-nginx my-nginx"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "text",
      "body": "Removing a Container"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "text",
      "body": "```shell script\ndocker rm my-nginx"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "Creating",
      "kind": "code",
      "lang": "",
      "code": "\nUpdating a Container\n\n```shell script\ndocker update --cpu-shares 512 -m 300M my-nginx"
    },
    {
      "id": "s3-43",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker images`",
      "back": "Listing images"
    },
    {
      "id": "s3-44",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker rmi nginx`",
      "back": "Removing an image"
    },
    {
      "id": "s3-45",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker load < ubuntu.tar.gz`",
      "back": "Loading a tarred repository"
    },
    {
      "id": "s3-46",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker load --input ubuntu.tar`",
      "back": "Loading a tarred repository"
    },
    {
      "id": "s3-47",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker save busybox > ubuntu.tar`",
      "back": "Save an image to a tar archive"
    },
    {
      "id": "s3-48",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker history`",
      "back": "Showing the history of an image"
    },
    {
      "id": "s3-49",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker commit nginx`",
      "back": "Save a container as an image."
    },
    {
      "id": "s3-50",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker tag nginx eon01/nginx`",
      "back": "Tagging an image"
    },
    {
      "id": "s3-51",
      "sectionId": "s3",
      "title": "Manipulating",
      "kind": "qa",
      "front": "`docker push eon01/nginx`",
      "back": "Pushing an image"
    },
    {
      "id": "s3-52",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "```shell script\n$ docker build .\n$ docker build github.com/creack/docker-firefox\n$ docker build - < Dockerfile\n$ docker build - < context.tar.gz\n$ docker build -t eon/my-nginx .\n$ docker build -f myOtherDockerfile .\n$ curl example.com/remote/Dockerfile | docker build -f - ."
    },
    {
      "id": "s3-53",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "code",
      "lang": "",
      "code": "\n## Docker Networking {.cols-2}\n\n### Manipulating\n\nRemoving a network\n\n```shell script\ndocker network rm MyOverlayNetwork"
    },
    {
      "id": "s3-54",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "Listing networks"
    },
    {
      "id": "s3-55",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "```shell script\ndocker network ls"
    },
    {
      "id": "s3-56",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "code",
      "lang": "",
      "code": "\nGetting information about a network\n\n```shell script\ndocker network inspect MyOverlayNetwork"
    },
    {
      "id": "s3-57",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "Connecting a running container to a network"
    },
    {
      "id": "s3-58",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "```shell script\ndocker network connect MyOverlayNetwork nginx"
    },
    {
      "id": "s3-59",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "code",
      "lang": "",
      "code": "\nConnecting a container to a network when it starts\n\n```shell script\ndocker run -it -d --network=MyOverlayNetwork nginx"
    },
    {
      "id": "s3-60",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "Disconnecting a container from a network"
    },
    {
      "id": "s3-61",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "text",
      "body": "```shell script\ndocker network disconnect MyOverlayNetwork nginx"
    },
    {
      "id": "s3-62",
      "sectionId": "s3",
      "title": "Building Images",
      "kind": "code",
      "lang": "",
      "code": "\n### Creating Networks\n\n```shell script\ndocker network create -d overlay MyOverlayNetwork\n\ndocker network create -d bridge MyBridgeNetwork\n\ndocker network create -d overlay \\\n  --subnet=192.168.0.0/16 \\\n  --subnet=192.170.0.0/16 \\\n  --gateway=192.168.0.100 \\\n  --gateway=192.170.0.100 \\\n  --ip-range=192.168.1.0/24 \\\n  --aux-address=\"my-router=192.168.1.5\" \\\n  --aux-address=\"my-switch=192.168.1.6\" \\\n  --aux-address=\"my-printer=192.170.1.5\" \\\n  --aux-address=\"my-nas=192.170.1.6\" \\\n  MyOverlayNetwork"
    },
    {
      "id": "s4-63",
      "sectionId": "s4",
      "title": "Clean All",
      "kind": "text",
      "body": "Cleans up dangling images, containers, volumes, and networks (ie, not associated with a container)"
    },
    {
      "id": "s4-64",
      "sectionId": "s4",
      "title": "Clean All",
      "kind": "code",
      "lang": "shell",
      "code": "docker system prune"
    },
    {
      "id": "s4-65",
      "sectionId": "s4",
      "title": "Clean All",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s4-66",
      "sectionId": "s4",
      "title": "Clean All",
      "kind": "text",
      "body": "Additionally, remove any stopped containers and all unused images (not just dangling images)"
    },
    {
      "id": "s4-67",
      "sectionId": "s4",
      "title": "Clean All",
      "kind": "code",
      "lang": "shell",
      "code": "docker system prune -a"
    },
    {
      "id": "s4-68",
      "sectionId": "s4",
      "title": "Containers",
      "kind": "text",
      "body": "Stop all running containers"
    },
    {
      "id": "s4-69",
      "sectionId": "s4",
      "title": "Containers",
      "kind": "code",
      "lang": "shell",
      "code": "docker stop $(docker ps -a -q)"
    },
    {
      "id": "s4-70",
      "sectionId": "s4",
      "title": "Containers",
      "kind": "text",
      "body": "Delete stopped containers"
    },
    {
      "id": "s4-71",
      "sectionId": "s4",
      "title": "Containers",
      "kind": "code",
      "lang": "shell",
      "code": "docker container prune"
    },
    {
      "id": "s4-72",
      "sectionId": "s4",
      "title": "Images",
      "kind": "text",
      "body": "Remove all dangling (not tagged and is not associated with a container) images:"
    },
    {
      "id": "s4-73",
      "sectionId": "s4",
      "title": "Images",
      "kind": "code",
      "lang": "shell",
      "code": "docker image prune"
    },
    {
      "id": "s4-74",
      "sectionId": "s4",
      "title": "Images",
      "kind": "text",
      "body": "Remove all images which are not used by existing containers"
    },
    {
      "id": "s4-75",
      "sectionId": "s4",
      "title": "Images",
      "kind": "code",
      "lang": "shell",
      "code": "docker image prune -a"
    },
    {
      "id": "s4-76",
      "sectionId": "s4",
      "title": "Volumes",
      "kind": "code",
      "lang": "shell",
      "code": "docker volume prune"
    },
    {
      "id": "s4-77",
      "sectionId": "s4",
      "title": "Volumes",
      "kind": "text",
      "body": "Remove all volumes not used by at least one container"
    },
    {
      "id": "s5-78",
      "sectionId": "s5",
      "title": "Docker Hub",
      "kind": "qa",
      "front": "`docker search search_word`",
      "back": "Search docker hub for images."
    },
    {
      "id": "s5-79",
      "sectionId": "s5",
      "title": "Docker Hub",
      "kind": "qa",
      "front": "`docker pull user/image   `",
      "back": "Downloads an image from docker hub."
    },
    {
      "id": "s5-80",
      "sectionId": "s5",
      "title": "Docker Hub",
      "kind": "qa",
      "front": "`docker login             `",
      "back": "Authenticate to docker hub"
    },
    {
      "id": "s5-81",
      "sectionId": "s5",
      "title": "Docker Hub",
      "kind": "qa",
      "front": "`docker push user/image   `",
      "back": "Uploads an image to docker hub."
    },
    {
      "id": "s5-82",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "Login to a Registry"
    },
    {
      "id": "s5-83",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "```shell script\n$ docker login\n$ docker login localhost:8080"
    },
    {
      "id": "s5-84",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "code",
      "lang": "",
      "code": "\nLogout from a Registry\n\n```shell script\n$ docker logout\n$ docker logout localhost:8080"
    },
    {
      "id": "s5-85",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "Searching an Image"
    },
    {
      "id": "s5-86",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "```shell script\n$ docker search nginx\n$ docker search nginx --stars=3 --no-trunc busybox"
    },
    {
      "id": "s5-87",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "code",
      "lang": "",
      "code": "\nPulling an Image\n\n```shell script\n$ docker pull nginx\n$ docker pull eon01/nginx localhost:5000/myadmin/nginx"
    },
    {
      "id": "s5-88",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "Pushing an Image"
    },
    {
      "id": "s5-89",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "```shell script\n$ docker push eon01/nginx\n$ docker push eon01/nginx localhost:5000/myadmin/nginx"
    },
    {
      "id": "s5-90",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "code",
      "lang": "",
      "code": "\n### Batch clean\n\n| Example                             | Description             |\n| ----------------------------------- | ----------------------- |\n| `docker stop -f $(docker ps -a -q)` | Stopping all containers |\n| `docker rm -f $(docker ps -a -q)`   | Removing all containers |\n| `docker rmi -f $(docker images -q)` | Removing all images     |\n\n### Volumes\n\nCheck volumes\n\n```shell script\n$ docker volume ls"
    },
    {
      "id": "s5-91",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "Cleanup unused volumes"
    },
    {
      "id": "s5-92",
      "sectionId": "s5",
      "title": "Registry commands",
      "kind": "text",
      "body": "```shell script\n$ docker volume prune"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/docker.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/docker.md",
    "lang": "en",
    "mode": "local"
  }
}