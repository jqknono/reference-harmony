{
  "id": "bash",
  "name": "Bash",
  "title": "This is a quick reference cheat sheet to getting started with linux bash shell scripting.",
  "icon": "https://raw.githubusercontent.com/Fechin/reference/main/source/assets/icon/bash.svg",
  "sections": [
    {
      "id": "intro",
      "title": "Intro",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "Getting Started",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Bash Parameter expansions",
      "startIndex": 31
    },
    {
      "id": "s3",
      "title": "Bash Arrays",
      "startIndex": 56
    },
    {
      "id": "s4",
      "title": "Bash Dictionaries",
      "startIndex": 71
    },
    {
      "id": "s5",
      "title": "Bash Conditionals",
      "startIndex": 77
    },
    {
      "id": "s6",
      "title": "Bash Loops",
      "startIndex": 123
    },
    {
      "id": "s7",
      "title": "Bash Functions",
      "startIndex": 138
    },
    {
      "id": "s8",
      "title": "Bash Options",
      "startIndex": 145
    },
    {
      "id": "s9",
      "title": "Bash History",
      "startIndex": 147
    },
    {
      "id": "s10",
      "title": "Miscellaneous",
      "startIndex": 167
    },
    {
      "id": "s11",
      "title": "Also see",
      "startIndex": 199
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "Intro",
      "kind": "text",
      "body": "This is a quick reference cheat sheet to getting started with linux bash shell scripting."
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "hello.sh",
      "kind": "code",
      "lang": "bash",
      "code": "#!/bin/bash\n\nVAR=\"world\"\necho \"Hello $VAR!\" # => Hello world!"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "hello.sh",
      "kind": "text",
      "body": "Execute the script"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "hello.sh",
      "kind": "text",
      "body": "```shell script\n$ bash hello.sh"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "hello.sh",
      "kind": "code",
      "lang": "",
      "code": "\n### Variables\n\n```bash\nNAME=\"John\"\n\necho ${NAME}    # => John (Variables)\necho $NAME      # => John (Variables)\necho \"$NAME\"    # => John (Variables)\necho '$NAME'    # => $NAME (Exact string)\necho \"${NAME}!\" # => John! (Variables)\n\nNAME = \"John\"   # => Error (about space)"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Comments",
      "kind": "code",
      "lang": "bash",
      "code": "# This is an inline Bash comment."
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "Comments",
      "kind": "code",
      "lang": "bash",
      "code": ": '\nThis is a\nvery neat comment\nin bash\n'"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "Comments",
      "kind": "text",
      "body": "Multi-line comments use `:'` to open and `'` to close"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$1` … `$9`",
      "back": "Parameter 1 ... 9"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$0`",
      "back": "Name of the script itself"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$1`",
      "back": "First argument"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`${10}`",
      "back": "Positional parameter 10"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$#`",
      "back": "Number of arguments"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$$`",
      "back": "Process id of the shell"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$*`",
      "back": "All arguments"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$@`",
      "back": "All arguments, starting from first"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$-`",
      "back": "Current options"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "qa",
      "front": "`$_`",
      "back": "Last argument of the previous command"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "Arguments",
      "kind": "text",
      "body": "See: [Special parameters](http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables)"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "Functions",
      "kind": "code",
      "lang": "bash",
      "code": "get_name() {\n    echo \"John\"\n}\n\necho \"You are $(get_name)\""
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "Functions",
      "kind": "text",
      "body": "See: [Functions](#bash-functions)"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "Conditionals",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ -z \"$string\" ]]; then\n    echo \"String is empty\"\nelif [[ -n \"$string\" ]]; then\n    echo \"String is not empty\"\nfi"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "Conditionals",
      "kind": "text",
      "body": "See: [Conditionals](#bash-conditionals)"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "code",
      "lang": "bash",
      "code": "echo {A,B}.js"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "qa",
      "front": "`{A,B}`",
      "back": "Same as `A B`"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "qa",
      "front": "`{A,B}.js`",
      "back": "Same as `A.js B.js`"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "qa",
      "front": "`{1..5}`",
      "back": "Same as `1 2 3 4 5`"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "Brace expansion",
      "kind": "text",
      "body": "See: [Brace expansion](http://wiki.bash-hackers.org/syntax/expansion/brace)"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "Shell execution",
      "kind": "code",
      "lang": "bash",
      "code": "# => I'm in /path/of/current\necho \"I'm in $(PWD)\"\n\n# Same as:\necho \"I'm in `pwd`\""
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "Shell execution",
      "kind": "text",
      "body": "See: [Command substitution](http://wiki.bash-hackers.org/syntax/expansion/cmdsubst)"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO%suffix}`",
      "back": "Remove suffix"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO#prefix}`",
      "back": "Remove prefix"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO%%suffix}`",
      "back": "Remove long suffix"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO##prefix}`",
      "back": "Remove long prefix"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO/from/to}`",
      "back": "Replace first match"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO//from/to}`",
      "back": "Replace all"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO/%from/to}`",
      "back": "Replace suffix"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO/#from/to}`",
      "back": "Replace prefix"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "text",
      "body": "#### Substrings"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:0:3}`",
      "back": "Substring _(position, length)_"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:(-3):3}`",
      "back": "Substring from the right"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "text",
      "body": "#### Length"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${#FOO}`",
      "back": "Length of `$FOO`"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "text",
      "body": "#### Default values"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:-val}`",
      "back": "`$FOO`, or `val` if unset"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:=val}`",
      "back": "Set `$FOO` to `val` if unset"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:+val}`",
      "back": "`val` if `$FOO` is set"
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "Syntax",
      "kind": "qa",
      "front": "`${FOO:?message}`",
      "back": "Show message and exit if `$FOO` is unset"
    },
    {
      "id": "s2-49",
      "sectionId": "s2",
      "title": "Substitution",
      "kind": "code",
      "lang": "bash",
      "code": "echo ${food:-Cake}  #=> $food or \"Cake\""
    },
    {
      "id": "s2-50",
      "sectionId": "s2",
      "title": "Substitution",
      "kind": "code",
      "lang": "bash",
      "code": "STR=\"/path/to/foo.cpp\"\necho ${STR%.cpp}    # /path/to/foo\necho ${STR%.cpp}.o  # /path/to/foo.o\necho ${STR%/*}      # /path/to\n\necho ${STR##*.}     # cpp (extension)\necho ${STR##*/}     # foo.cpp (basepath)\n\necho ${STR#*/}      # path/to/foo.cpp\necho ${STR##*/}     # foo.cpp\n\necho ${STR/foo/bar} # /path/to/bar.cpp"
    },
    {
      "id": "s2-51",
      "sectionId": "s2",
      "title": "Slicing",
      "kind": "code",
      "lang": "bash",
      "code": "name=\"John\"\necho ${name}           # => John\necho ${name:0:2}       # => Jo\necho ${name::2}        # => Jo\necho ${name::-1}       # => Joh\necho ${name:(-1)}      # => n\necho ${name:(-2)}      # => hn\necho ${name:(-2):2}    # => hn\n\nlength=2\necho ${name:0:length}  # => Jo"
    },
    {
      "id": "s2-52",
      "sectionId": "s2",
      "title": "Slicing",
      "kind": "text",
      "body": "See: [Parameter expansion](http://wiki.bash-hackers.org/syntax/pe)"
    },
    {
      "id": "s2-53",
      "sectionId": "s2",
      "title": "basepath & dirpath",
      "kind": "code",
      "lang": "bash",
      "code": "SRC=\"/path/to/foo.cpp\""
    },
    {
      "id": "s2-54",
      "sectionId": "s2",
      "title": "basepath & dirpath",
      "kind": "code",
      "lang": "bash",
      "code": "BASEPATH=${SRC##*/}\necho $BASEPATH  # => \"foo.cpp\"\n\n\nDIRPATH=${SRC%$BASEPATH}\necho $DIRPATH   # => \"/path/to/\""
    },
    {
      "id": "s2-55",
      "sectionId": "s2",
      "title": "Transform",
      "kind": "code",
      "lang": "bash",
      "code": "STR=\"HELLO WORLD!\"\necho ${STR,}   # => hELLO WORLD!\necho ${STR,,}  # => hello world!\n\nSTR=\"hello world!\"\necho ${STR^}   # => Hello world!\necho ${STR^^}  # => HELLO WORLD!\n\nARR=(hello World)\necho \"${ARR[@],}\" # => hello world\necho \"${ARR[@]^}\" # => Hello World"
    },
    {
      "id": "s3-56",
      "sectionId": "s3",
      "title": "Defining arrays",
      "kind": "code",
      "lang": "bash",
      "code": "Fruits=('Apple' 'Banana' 'Orange')\n\nFruits[0]=\"Apple\"\nFruits[1]=\"Banana\"\nFruits[2]=\"Orange\"\n\nARRAY1=(foo{1..2}) # => foo1 foo2\nARRAY2=({A..D})    # => A B C D\n\n# Merge => foo1 foo2 A B C D\nARRAY3=(${ARRAY1[@]} ${ARRAY2[@]})\n\n# declare construct\ndeclare -a Numbers=(1 2 3)\nNumbers+=(4 5) # Append => 1 2 3 4 5"
    },
    {
      "id": "s3-57",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${Fruits[0]}`",
      "back": "First element"
    },
    {
      "id": "s3-58",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${Fruits[-1]}`",
      "back": "Last element"
    },
    {
      "id": "s3-59",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${Fruits[*]}`",
      "back": "All elements"
    },
    {
      "id": "s3-60",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${Fruits[@]}`",
      "back": "All elements"
    },
    {
      "id": "s3-61",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${#Fruits[@]}`",
      "back": "Number of all"
    },
    {
      "id": "s3-62",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${#Fruits}`",
      "back": "Length of 1st"
    },
    {
      "id": "s3-63",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${#Fruits[3]}`",
      "back": "Length of nth"
    },
    {
      "id": "s3-64",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${Fruits[@]:3:2}`",
      "back": "Range"
    },
    {
      "id": "s3-65",
      "sectionId": "s3",
      "title": "Indexing",
      "kind": "qa",
      "front": "`${!Fruits[@]}`",
      "back": "Keys of all"
    },
    {
      "id": "s3-66",
      "sectionId": "s3",
      "title": "Iteration",
      "kind": "code",
      "lang": "bash",
      "code": "Fruits=('Apple' 'Banana' 'Orange')\n\nfor e in \"${Fruits[@]}\"; do\n    echo $e\ndone"
    },
    {
      "id": "s3-67",
      "sectionId": "s3",
      "title": "Iteration",
      "kind": "text",
      "body": "#### With index"
    },
    {
      "id": "s3-68",
      "sectionId": "s3",
      "title": "Iteration",
      "kind": "code",
      "lang": "bash",
      "code": "for i in \"${!Fruits[@]}\"; do\n  printf \"%s\\t%s\\n\" \"$i\" \"${Fruits[$i]}\"\ndone"
    },
    {
      "id": "s3-69",
      "sectionId": "s3",
      "title": "Operations",
      "kind": "code",
      "lang": "bash",
      "code": "Fruits=(\"${Fruits[@]}\" \"Watermelon\")     # Push\nFruits+=('Watermelon')                   # Also Push\nFruits=( ${Fruits[@]/Ap*/} )             # Remove by regex match\nunset Fruits[2]                          # Remove one item\nFruits=(\"${Fruits[@]}\")                  # Duplicate\nFruits=(\"${Fruits[@]}\" \"${Veggies[@]}\")  # Concatenate\nlines=(`cat \"logfile\"`)                  # Read from file"
    },
    {
      "id": "s3-70",
      "sectionId": "s3",
      "title": "Arrays as arguments",
      "kind": "code",
      "lang": "bash",
      "code": "function extract()\n{\n    local -n myarray=$1\n    local idx=$2\n    echo \"${myarray[$idx]}\"\n}\nFruits=('Apple' 'Banana' 'Orange')\nextract Fruits 2     # => Orangle"
    },
    {
      "id": "s4-71",
      "sectionId": "s4",
      "title": "Defining",
      "kind": "code",
      "lang": "bash",
      "code": "declare -A sounds"
    },
    {
      "id": "s4-72",
      "sectionId": "s4",
      "title": "Defining",
      "kind": "code",
      "lang": "bash",
      "code": "sounds[dog]=\"bark\"\nsounds[cow]=\"moo\"\nsounds[bird]=\"tweet\"\nsounds[wolf]=\"howl\""
    },
    {
      "id": "s4-73",
      "sectionId": "s4",
      "title": "Working with dictionaries",
      "kind": "code",
      "lang": "bash",
      "code": "echo ${sounds[dog]} # Dog's sound\necho ${sounds[@]}   # All values\necho ${!sounds[@]}  # All keys\necho ${#sounds[@]}  # Number of elements\nunset sounds[dog]   # Delete dog"
    },
    {
      "id": "s4-74",
      "sectionId": "s4",
      "title": "Iteration",
      "kind": "code",
      "lang": "bash",
      "code": "for val in \"${sounds[@]}\"; do\n    echo $val\ndone"
    },
    {
      "id": "s4-75",
      "sectionId": "s4",
      "title": "Iteration",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s4-76",
      "sectionId": "s4",
      "title": "Iteration",
      "kind": "code",
      "lang": "bash",
      "code": "for key in \"${!sounds[@]}\"; do\n    echo $key\ndone"
    },
    {
      "id": "s5-77",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -eq NUM ]]`",
      "back": "<yel>Eq</yel>ual"
    },
    {
      "id": "s5-78",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -ne NUM ]]`",
      "back": "<yel>N</yel>ot <yel>e</yel>qual"
    },
    {
      "id": "s5-79",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -lt NUM ]]`",
      "back": "<yel>L</yel>ess <yel>t</yel>han"
    },
    {
      "id": "s5-80",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -le NUM ]]`",
      "back": "<yel>L</yel>ess than or <yel>e</yel>qual"
    },
    {
      "id": "s5-81",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -gt NUM ]]`",
      "back": "<yel>G</yel>reater <yel>t</yel>han"
    },
    {
      "id": "s5-82",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`[[ NUM -ge NUM ]]`",
      "back": "<yel>G</yel>reater than or <yel>e</yel>qual"
    },
    {
      "id": "s5-83",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`(( NUM < NUM ))`",
      "back": "Less than"
    },
    {
      "id": "s5-84",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`(( NUM <= NUM ))`",
      "back": "Less than or equal"
    },
    {
      "id": "s5-85",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`(( NUM > NUM ))`",
      "back": "Greater than"
    },
    {
      "id": "s5-86",
      "sectionId": "s5",
      "title": "Integer conditions",
      "kind": "qa",
      "front": "`(( NUM >= NUM ))`",
      "back": "Greater than or equal"
    },
    {
      "id": "s5-87",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ -z STR ]]`",
      "back": "Empty string"
    },
    {
      "id": "s5-88",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ -n STR ]]`",
      "back": "<yel>N</yel>ot empty string"
    },
    {
      "id": "s5-89",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR == STR ]]`",
      "back": "Equal"
    },
    {
      "id": "s5-90",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR = STR ]]`",
      "back": "Equal (Same above)"
    },
    {
      "id": "s5-91",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR < STR ]]`",
      "back": "Less than _(ASCII)_"
    },
    {
      "id": "s5-92",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR > STR ]]`",
      "back": "Greater than _(ASCII)_"
    },
    {
      "id": "s5-93",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR != STR ]]`",
      "back": "Not Equal"
    },
    {
      "id": "s5-94",
      "sectionId": "s5",
      "title": "String conditions",
      "kind": "qa",
      "front": "`[[ STR =~ STR ]]`",
      "back": "Regexp"
    },
    {
      "id": "s5-95",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### String"
    },
    {
      "id": "s5-96",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ -z \"$string\" ]]; then\n    echo \"String is empty\"\nelif [[ -n \"$string\" ]]; then\n    echo \"String is not empty\"\nelse\n    echo \"This never happens\"\nfi"
    },
    {
      "id": "s5-97",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### Combinations"
    },
    {
      "id": "s5-98",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ X && Y ]]; then\n    ...\nfi"
    },
    {
      "id": "s5-99",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### Equal"
    },
    {
      "id": "s5-100",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ \"$A\" == \"$B\" ]]; then\n    ...\nfi"
    },
    {
      "id": "s5-101",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### Regex"
    },
    {
      "id": "s5-102",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ '1. abc' =~ ([a-z]+) ]]; then\n    echo ${BASH_REMATCH[1]}\nfi"
    },
    {
      "id": "s5-103",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### Smaller"
    },
    {
      "id": "s5-104",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if (( $a < $b )); then\n   echo \"$a is smaller than $b\"\nfi"
    },
    {
      "id": "s5-105",
      "sectionId": "s5",
      "title": "Example",
      "kind": "text",
      "body": "#### Exists"
    },
    {
      "id": "s5-106",
      "sectionId": "s5",
      "title": "Example",
      "kind": "code",
      "lang": "bash",
      "code": "if [[ -e \"file.txt\" ]]; then\n    echo \"file exists\"\nfi"
    },
    {
      "id": "s5-107",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -e FILE ]]`",
      "back": "<yel>E</yel>xists"
    },
    {
      "id": "s5-108",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -d FILE ]]`",
      "back": "<yel>D</yel>irectory"
    },
    {
      "id": "s5-109",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -f FILE ]]`",
      "back": "<yel>F</yel>ile"
    },
    {
      "id": "s5-110",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -h FILE ]]`",
      "back": "Symlink"
    },
    {
      "id": "s5-111",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -s FILE ]]`",
      "back": "Size is > 0 bytes"
    },
    {
      "id": "s5-112",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -r FILE ]]`",
      "back": "<yel>R</yel>eadable"
    },
    {
      "id": "s5-113",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -w FILE ]]`",
      "back": "<yel>W</yel>ritable"
    },
    {
      "id": "s5-114",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ -x FILE ]]`",
      "back": "Executable"
    },
    {
      "id": "s5-115",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ f1 -nt f2 ]]`",
      "back": "f1 <yel>n</yel>ewer <yel>t</yel>han f2"
    },
    {
      "id": "s5-116",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ f1 -ot f2 ]]`",
      "back": "f2 <yel>o</yel>lder <yel>t</yel>han f1"
    },
    {
      "id": "s5-117",
      "sectionId": "s5",
      "title": "File conditions",
      "kind": "qa",
      "front": "`[[ f1 -ef f2 ]]`",
      "back": "Same files"
    },
    {
      "id": "s5-118",
      "sectionId": "s5",
      "title": "More conditions",
      "kind": "qa",
      "front": "`[[ -o noclobber ]]`",
      "back": "If OPTION is enabled"
    },
    {
      "id": "s5-119",
      "sectionId": "s5",
      "title": "More conditions",
      "kind": "qa",
      "front": "`[[ ! EXPR ]]`",
      "back": "Not"
    },
    {
      "id": "s5-120",
      "sectionId": "s5",
      "title": "More conditions",
      "kind": "qa",
      "front": "`[[ X && Y ]]`",
      "back": "And"
    },
    {
      "id": "s5-121",
      "sectionId": "s5",
      "title": "More conditions",
      "kind": "qa",
      "front": "`[[ X",
      "back": "| Y ]]` | Or"
    },
    {
      "id": "s5-122",
      "sectionId": "s5",
      "title": "logical and, or",
      "kind": "code",
      "lang": "bash",
      "code": "if [ \"$1\" = 'y' -a $2 -gt 0 ]; then\n    echo \"yes\"\nfi\n\nif [ \"$1\" = 'n' -o $2 -lt 0 ]; then\n    echo \"no\"\nfi"
    },
    {
      "id": "s6-123",
      "sectionId": "s6",
      "title": "Basic for loop",
      "kind": "code",
      "lang": "bash",
      "code": "for i in /etc/rc.*; do\n    echo $i\ndone"
    },
    {
      "id": "s6-124",
      "sectionId": "s6",
      "title": "C-like for loop",
      "kind": "code",
      "lang": "bash",
      "code": "for ((i = 0 ; i < 100 ; i++)); do\n    echo $i\ndone"
    },
    {
      "id": "s6-125",
      "sectionId": "s6",
      "title": "Ranges",
      "kind": "code",
      "lang": "bash",
      "code": "for i in {1..5}; do\n    echo \"Welcome $i\"\ndone"
    },
    {
      "id": "s6-126",
      "sectionId": "s6",
      "title": "Ranges",
      "kind": "text",
      "body": "#### With step size"
    },
    {
      "id": "s6-127",
      "sectionId": "s6",
      "title": "Ranges",
      "kind": "code",
      "lang": "bash",
      "code": "for i in {5..50..5}; do\n    echo \"Welcome $i\"\ndone"
    },
    {
      "id": "s6-128",
      "sectionId": "s6",
      "title": "Continue",
      "kind": "text",
      "body": "```bash {data=3,5}\nfor number in $(seq 1 3); do\nif [[ $number == 2 ]]; then\ncontinue;\nfi\necho \"$number\"\ndone"
    },
    {
      "id": "s6-129",
      "sectionId": "s6",
      "title": "Continue",
      "kind": "code",
      "lang": "",
      "code": "\n### Break\n\n```bash\nfor number in $(seq 1 3); do\n    if [[ $number == 2 ]]; then\n        # Skip entire rest of loop.\n        break;\n    fi\n    # This will only print 1\n    echo \"$number\"\ndone"
    },
    {
      "id": "s6-130",
      "sectionId": "s6",
      "title": "Until",
      "kind": "code",
      "lang": "bash",
      "code": "count=0\nuntil [ $count -gt 10 ]; do\n    echo \"$count\"\n    ((count++))\ndone"
    },
    {
      "id": "s6-131",
      "sectionId": "s6",
      "title": "While with increment",
      "kind": "code",
      "lang": "bash",
      "code": "i=1\nwhile [[ $i -lt 4 ]]; do\n    echo \"Number: $i\"\n    ((i++))\ndone"
    },
    {
      "id": "s6-132",
      "sectionId": "s6",
      "title": "While with decrement",
      "kind": "code",
      "lang": "bash",
      "code": "i=3\nwhile [[ $i -gt 0 ]]; do\n    echo \"Number: $i\"\n    ((i--))\ndone"
    },
    {
      "id": "s6-133",
      "sectionId": "s6",
      "title": "While with decrement",
      "kind": "text",
      "body": "#### Combined with test"
    },
    {
      "id": "s6-134",
      "sectionId": "s6",
      "title": "While with decrement",
      "kind": "code",
      "lang": "bash",
      "code": "i=3\nwhile ((i--)); do\n    echo \"Number: $i\"\ndone"
    },
    {
      "id": "s6-135",
      "sectionId": "s6",
      "title": "Forever",
      "kind": "code",
      "lang": "bash",
      "code": "while true; do\n    # here is some code.\ndone"
    },
    {
      "id": "s6-136",
      "sectionId": "s6",
      "title": "Forever (shorthand)",
      "kind": "code",
      "lang": "bash",
      "code": "while :; do\n    # here is some code.\ndone"
    },
    {
      "id": "s6-137",
      "sectionId": "s6",
      "title": "Reading lines",
      "kind": "code",
      "lang": "bash",
      "code": "while read line; do\n    echo $line\ndone < file.txt"
    },
    {
      "id": "s7-138",
      "sectionId": "s7",
      "title": "Defining functions",
      "kind": "code",
      "lang": "bash",
      "code": "myfunc() {\n    echo \"hello $1\"\n}"
    },
    {
      "id": "s7-139",
      "sectionId": "s7",
      "title": "Defining functions",
      "kind": "code",
      "lang": "bash",
      "code": "# Same as above (alternate syntax)\nfunction myfunc() {\n    echo \"hello $1\"\n}"
    },
    {
      "id": "s7-140",
      "sectionId": "s7",
      "title": "Defining functions",
      "kind": "code",
      "lang": "bash",
      "code": "myfunc \"John\""
    },
    {
      "id": "s7-141",
      "sectionId": "s7",
      "title": "Returning values",
      "kind": "code",
      "lang": "bash",
      "code": "myfunc() {\n    local myresult='some value'\n    echo $myresult\n}"
    },
    {
      "id": "s7-142",
      "sectionId": "s7",
      "title": "Returning values",
      "kind": "code",
      "lang": "bash",
      "code": "result=\"$(myfunc)\""
    },
    {
      "id": "s7-143",
      "sectionId": "s7",
      "title": "Raising errors",
      "kind": "code",
      "lang": "bash",
      "code": "myfunc() {\n    return 1\n}"
    },
    {
      "id": "s7-144",
      "sectionId": "s7",
      "title": "Raising errors",
      "kind": "code",
      "lang": "bash",
      "code": "if myfunc; then\n    echo \"success\"\nelse\n    echo \"failure\"\nfi"
    },
    {
      "id": "s8-145",
      "sectionId": "s8",
      "title": "Options",
      "kind": "code",
      "lang": "bash",
      "code": "# Avoid overlay files\n# (echo \"hi\" > foo)\nset -o noclobber\n\n# Used to exit upon error\n# avoiding cascading errors\nset -o errexit\n\n# Unveils hidden failures\nset -o pipefail\n\n# Exposes unset variables\nset -o nounset"
    },
    {
      "id": "s8-146",
      "sectionId": "s8",
      "title": "Glob options",
      "kind": "code",
      "lang": "bash",
      "code": "# Non-matching globs are removed\n# ('*.foo' => '')\nshopt -s nullglob\n\n# Non-matching globs throw errors\nshopt -s failglob\n\n# Case insensitive globs\nshopt -s nocaseglob\n\n# Wildcards match dotfiles\n# (\"*.sh\" => \".foo.sh\")\nshopt -s dotglob\n\n# Allow ** for recursive matches\n# ('lib/**/*.rb' => 'lib/a/b/c.rb')\nshopt -s globstar"
    },
    {
      "id": "s9-147",
      "sectionId": "s9",
      "title": "Commands",
      "kind": "qa",
      "front": "`history`",
      "back": "Show history"
    },
    {
      "id": "s9-148",
      "sectionId": "s9",
      "title": "Commands",
      "kind": "qa",
      "front": "`sudo !!`",
      "back": "Run the previous command with sudo"
    },
    {
      "id": "s9-149",
      "sectionId": "s9",
      "title": "Commands",
      "kind": "qa",
      "front": "`shopt -s histverify`",
      "back": "Don't execute expanded result immediately"
    },
    {
      "id": "s9-150",
      "sectionId": "s9",
      "title": "Expansions",
      "kind": "qa",
      "front": "`!$`",
      "back": "Expand last parameter of most recent command"
    },
    {
      "id": "s9-151",
      "sectionId": "s9",
      "title": "Expansions",
      "kind": "qa",
      "front": "`!*`",
      "back": "Expand all parameters of most recent command"
    },
    {
      "id": "s9-152",
      "sectionId": "s9",
      "title": "Expansions",
      "kind": "qa",
      "front": "`!-n`",
      "back": "Expand `n`th most recent command"
    },
    {
      "id": "s9-153",
      "sectionId": "s9",
      "title": "Expansions",
      "kind": "qa",
      "front": "`!n`",
      "back": "Expand `n`th command in history"
    },
    {
      "id": "s9-154",
      "sectionId": "s9",
      "title": "Expansions",
      "kind": "qa",
      "front": "`!<command>`",
      "back": "Expand most recent invocation of command `<command>`"
    },
    {
      "id": "s9-155",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "qa",
      "front": "`!!`",
      "back": "Execute last command again"
    },
    {
      "id": "s9-156",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "qa",
      "front": "`!!:s/<FROM>/<TO>/`",
      "back": "Replace first occurrence of `<FROM>` to `<TO>` in most recent command"
    },
    {
      "id": "s9-157",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "qa",
      "front": "`!!:gs/<FROM>/<TO>/`",
      "back": "Replace all occurrences of `<FROM>` to `<TO>` in most recent command"
    },
    {
      "id": "s9-158",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "qa",
      "front": "`!$:t`",
      "back": "Expand only basename from last parameter of most recent command"
    },
    {
      "id": "s9-159",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "qa",
      "front": "`!$:h`",
      "back": "Expand only directory from last parameter of most recent command"
    },
    {
      "id": "s9-160",
      "sectionId": "s9",
      "title": "Operations",
      "kind": "text",
      "body": "`!!` and `!$` can be replaced with any valid expansion."
    },
    {
      "id": "s9-161",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "qa",
      "front": "`!!:n`",
      "back": "Expand only `n`th token from most recent command (command is `0`; first argument is `1`)"
    },
    {
      "id": "s9-162",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "qa",
      "front": "`!^`",
      "back": "Expand first argument from most recent command"
    },
    {
      "id": "s9-163",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "qa",
      "front": "`!$`",
      "back": "Expand last token from most recent command"
    },
    {
      "id": "s9-164",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "qa",
      "front": "`!!:n-m`",
      "back": "Expand range of tokens from most recent command"
    },
    {
      "id": "s9-165",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "qa",
      "front": "`!!:n-$`",
      "back": "Expand `n`th token to last from most recent command"
    },
    {
      "id": "s9-166",
      "sectionId": "s9",
      "title": "Slices",
      "kind": "text",
      "body": "`!!` can be replaced with any valid expansion i.e. `!cat`, `!-2`, `!42`, etc."
    },
    {
      "id": "s10-167",
      "sectionId": "s10",
      "title": "Numeric calculations",
      "kind": "code",
      "lang": "bash",
      "code": "$((a + 200))      # Add 200 to $a"
    },
    {
      "id": "s10-168",
      "sectionId": "s10",
      "title": "Numeric calculations",
      "kind": "code",
      "lang": "bash",
      "code": "$(($RANDOM%200))  # Random number 0..199"
    },
    {
      "id": "s10-169",
      "sectionId": "s10",
      "title": "Subshells",
      "kind": "code",
      "lang": "bash",
      "code": "(cd somedir; echo \"I'm now in $PWD\")\npwd # still in first directory"
    },
    {
      "id": "s10-170",
      "sectionId": "s10",
      "title": "Inspecting commands",
      "kind": "code",
      "lang": "bash",
      "code": "command -V cd\n#=> \"cd is a function/alias/whatever\""
    },
    {
      "id": "s10-171",
      "sectionId": "s10",
      "title": "Redirection",
      "kind": "code",
      "lang": "bash",
      "code": "python hello.py > output.txt   # stdout to (file)\npython hello.py >> output.txt  # stdout to (file), append\npython hello.py 2> error.log   # stderr to (file)\npython hello.py 2>&1           # stderr to stdout\npython hello.py 2>/dev/null    # stderr to (null)\npython hello.py &>/dev/null    # stdout and stderr to (null)"
    },
    {
      "id": "s10-172",
      "sectionId": "s10",
      "title": "Redirection",
      "kind": "code",
      "lang": "bash",
      "code": "python hello.py < foo.txt      # feed foo.txt to stdin for python"
    },
    {
      "id": "s10-173",
      "sectionId": "s10",
      "title": "Source relative",
      "kind": "code",
      "lang": "bash",
      "code": "source \"${0%/*}/../share/foo.sh\""
    },
    {
      "id": "s10-174",
      "sectionId": "s10",
      "title": "Directory of script",
      "kind": "code",
      "lang": "bash",
      "code": "DIR=\"${0%/*}\""
    },
    {
      "id": "s10-175",
      "sectionId": "s10",
      "title": "Case/switch",
      "kind": "code",
      "lang": "bash",
      "code": "case \"$1\" in\n    start | up)\n    vagrant up\n    ;;\n\n    *)\n    echo \"Usage: $0 {start|stop|ssh}\"\n    ;;\nesac"
    },
    {
      "id": "s10-176",
      "sectionId": "s10",
      "title": "Trap errors",
      "kind": "code",
      "lang": "bash",
      "code": "trap 'echo Error at about $LINENO' ERR"
    },
    {
      "id": "s10-177",
      "sectionId": "s10",
      "title": "Trap errors",
      "kind": "text",
      "body": "or"
    },
    {
      "id": "s10-178",
      "sectionId": "s10",
      "title": "Trap errors",
      "kind": "code",
      "lang": "bash",
      "code": "traperr() {\n    echo \"ERROR: ${BASH_SOURCE[1]} at about ${BASH_LINENO[0]}\"\n}\n\nset -o errtrace\ntrap traperr ERR"
    },
    {
      "id": "s10-179",
      "sectionId": "s10",
      "title": "printf",
      "kind": "code",
      "lang": "bash",
      "code": "printf \"Hello %s, I'm %s\" Sven Olga\n#=> \"Hello Sven, I'm Olga\n\nprintf \"1 + 1 = %d\" 2\n#=> \"1 + 1 = 2\"\n\nprintf \"Print a float: %f\" 2\n#=> \"Print a float: 2.000000\""
    },
    {
      "id": "s10-180",
      "sectionId": "s10",
      "title": "Getting options",
      "kind": "code",
      "lang": "bash",
      "code": "while [[ \"$1\" =~ ^- && ! \"$1\" == \"--\" ]]; do case $1 in\n    -V | --version )\n    echo $version\n    exit\n    ;;\n    -s | --string )\n    shift; string=$1\n    ;;\n    -f | --flag )\n    flag=1\n    ;;\nesac; shift; done\nif [[ \"$1\" == '--' ]]; then shift; fi"
    },
    {
      "id": "s10-181",
      "sectionId": "s10",
      "title": "Check for command's result",
      "kind": "code",
      "lang": "bash",
      "code": "if ping -c 1 google.com; then\n    echo \"It appears you have a working internet connection\"\nfi"
    },
    {
      "id": "s10-182",
      "sectionId": "s10",
      "title": "Special variables",
      "kind": "qa",
      "front": "`$?`",
      "back": "Exit status of last task"
    },
    {
      "id": "s10-183",
      "sectionId": "s10",
      "title": "Special variables",
      "kind": "qa",
      "front": "`$!`",
      "back": "PID of last background task"
    },
    {
      "id": "s10-184",
      "sectionId": "s10",
      "title": "Special variables",
      "kind": "qa",
      "front": "`$$`",
      "back": "PID of shell"
    },
    {
      "id": "s10-185",
      "sectionId": "s10",
      "title": "Special variables",
      "kind": "qa",
      "front": "`$0`",
      "back": "Filename of the shell script"
    },
    {
      "id": "s10-186",
      "sectionId": "s10",
      "title": "Special variables",
      "kind": "text",
      "body": "See [Special parameters](http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables)."
    },
    {
      "id": "s10-187",
      "sectionId": "s10",
      "title": "Grep check",
      "kind": "code",
      "lang": "bash",
      "code": "if grep -q 'foo' ~/.bash_history; then\n    echo \"You appear to have typed 'foo' in the past\"\nfi"
    },
    {
      "id": "s10-188",
      "sectionId": "s10",
      "title": "Backslash escapes",
      "kind": "text",
      "body": "• &nbsp;\n• \\!\n• \\\"\n• \\#\n• \\&\n• \\'\n• \\(\n• \\)\n• \\,\n• \\;\n• \\<\n• \\>\n• \\[\n• \\|\n• \\\\\n• \\]\n• \\^\n• \\{\n• \\}\n• \\`\n• \\$\n• \\*\n• \\?"
    },
    {
      "id": "s10-189",
      "sectionId": "s10",
      "title": "Backslash escapes",
      "kind": "text",
      "body": "Escape these special characters with `\\`"
    },
    {
      "id": "s10-190",
      "sectionId": "s10",
      "title": "Heredoc",
      "kind": "code",
      "lang": "sh",
      "code": "cat <<END\nhello world\nEND"
    },
    {
      "id": "s10-191",
      "sectionId": "s10",
      "title": "Go to previous directory",
      "kind": "code",
      "lang": "bash",
      "code": "pwd # /home/user/foo\ncd bar/\npwd # /home/user/foo/bar\ncd -\npwd # /home/user/foo"
    },
    {
      "id": "s10-192",
      "sectionId": "s10",
      "title": "Reading input",
      "kind": "code",
      "lang": "bash",
      "code": "echo -n \"Proceed? [y/n]: \"\nread ans\necho $ans"
    },
    {
      "id": "s10-193",
      "sectionId": "s10",
      "title": "Reading input",
      "kind": "code",
      "lang": "bash",
      "code": "read -n 1 ans    # Just one character"
    },
    {
      "id": "s10-194",
      "sectionId": "s10",
      "title": "Conditional execution",
      "kind": "code",
      "lang": "bash",
      "code": "git commit && git push\ngit commit || echo \"Commit failed\""
    },
    {
      "id": "s10-195",
      "sectionId": "s10",
      "title": "Strict mode",
      "kind": "code",
      "lang": "bash",
      "code": "set -euo pipefail\nIFS=$'\\n\\t'"
    },
    {
      "id": "s10-196",
      "sectionId": "s10",
      "title": "Strict mode",
      "kind": "text",
      "body": "See: [Unofficial bash strict mode](http://redsymbol.net/articles/unofficial-bash-strict-mode/)"
    },
    {
      "id": "s10-197",
      "sectionId": "s10",
      "title": "Optional arguments",
      "kind": "code",
      "lang": "bash",
      "code": "args=(\"$@\")\nargs+=(foo)\nargs+=(bar)\necho \"${args[@]}\""
    },
    {
      "id": "s10-198",
      "sectionId": "s10",
      "title": "Optional arguments",
      "kind": "text",
      "body": "Put the arguments into an array and then append"
    },
    {
      "id": "s11-199",
      "sectionId": "s11",
      "title": "Also see",
      "kind": "text",
      "body": "• [Devhints](https://devhints.io/bash) _(devhints.io)_\n• [Bash-hackers wiki](http://wiki.bash-hackers.org/) _(bash-hackers.org)_\n• [Shell vars](http://wiki.bash-hackers.org/syntax/shellvars) _(bash-hackers.org)_\n• [Learn bash in y minutes](https://learnxinyminutes.com/docs/bash/) _(learnxinyminutes.com)_\n• [Bash Guide](http://mywiki.wooledge.org/BashGuide) _(mywiki.wooledge.org)_\n• [ShellCheck](https://www.shellcheck.net/) _(shellcheck.net)_\n• [shell - Standard Shell](https://devmanual.gentoo.org/tools-reference/bash/index.html) _(devmanual.gentoo.org)_"
    }
  ],
  "source": {
    "repo": "https://github.com/Fechin/reference",
    "path": "source/_posts/bash.md",
    "ref": "main",
    "url": "https://github.com/Fechin/reference/tree/main/source/_posts/bash.md",
    "lang": "en",
    "mode": "local"
  }
}