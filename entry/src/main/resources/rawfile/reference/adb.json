{
  "id": "adb",
  "title": "adb",
  "sections": [
    {
      "id": "intro",
      "title": "概览",
      "startIndex": 0
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "概览",
      "kind": "text",
      "body": "Android Debug Bridge 备忘清单\n==="
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "概览",
      "kind": "text",
      "body": "[ADB](https://developer.android.com/studio/command-line/adb.html) 既 Android Debug Bridge，是 Google 的 Android SDK 中的一个命令行工具，可让您的计算机控制 Android 设备执行各种设备操作。以下是您可以与 [ADB](https://developer.android.com/studio/command-line/adb.html) 一起使用的一些最常见的命令及其用法"
    },
    {
      "id": "intro-2",
      "sectionId": "intro",
      "title": "概览",
      "kind": "text",
      "body": "入门\n----"
    },
    {
      "id": "intro-3",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "text",
      "body": "<!--rehype:wrap-class=row-span-2-->"
    },
    {
      "id": "intro-4",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb devices`                     | 列出已连接的设备\n`adb devices -l`                  | 列出已连接的设备和种类\n`adb connect [IP:PORT]`           | 连接到指定 IP 和端口的设备\n`adb disconnect [IP:PORT]`        | 断开指定 IP 和端口的设备连接，若未指定，则断开所有连接\n`adb root`                        | 以 `root` 权限重新启动 `adbd`\n`adb start-server`                | 启动 `adb` 服务\n`adb kill-server`                 | 停止 `adb` 服务\n`adb remount`                     | 重新挂载具有读/写访问权限的文件系统\n`adb reboot`                      | 重启设备\n`adb reboot bootloader`           | 将设备重启到 fastboot 模式\n`adb reboot recovery`             | 将设备重启到恢复模式\n`adb disable-verity`              | 禁用设备的 dm-verity 安全特性\n<!--rehype:className=left-align code-nowrap-->"
    },
    {
      "id": "intro-5",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "intro-6",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "text",
      "body": "• `wait-for-device` 可以在 `adb` 之后指定，以确保该命令在设备连接后运行\n• `-s` 可用于在多个连接时将命令发送到特定设备"
    },
    {
      "id": "intro-7",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "text",
      "body": "#### 示例"
    },
    {
      "id": "intro-8",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb wait-for-device devices\n List of devices attached\n somedevice-1234 device\n someotherdevice-1234 device"
    },
    {
      "id": "intro-9",
      "sectionId": "intro",
      "title": "设备基础",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb -s somedevice-1234 root"
    },
    {
      "id": "intro-10",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "<!--rehype:wrap-class=row-span-2-->"
    },
    {
      "id": "intro-11",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb logcat`                         | 将日志消息打印到标准输出\n`adb logcat -g`                      | 显示当前日志缓冲区大小\n`adb logcat -G <size>`               | 设置缓冲区大小（K 或 M）\n`adb logcat -c`                      | 清除日志缓冲区\n`adb logcat *:V`                     | 启用所有日志消息（详细）\n`adb logcat -f <filename>`           | 将日志转储到指定文件\n<!--rehype:className=left-align code-nowrap-->"
    },
    {
      "id": "intro-12",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "#### 示例"
    },
    {
      "id": "intro-13",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb logcat -G 16M\n$ adb logcat *:V > output.log"
    },
    {
      "id": "intro-14",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "#### 过滤日志输出"
    },
    {
      "id": "intro-15",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "• `V` 最详细的信息(最低优先级)\n• `D` 调试信息\n• `I` 普通信息\n• `W` 警告信息\n• `E` 错误信息\n• `F` 致命错误信息\n• `S` 静默(最高优先级)"
    },
    {
      "id": "intro-16",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "<!--rehype:className=cols-2 shortcuts style-none-->"
    },
    {
      "id": "intro-17",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "text",
      "body": "例如，要显示优先级不低于 `警告` 的所有标记的所有日志消息，可以使用以下命令："
    },
    {
      "id": "intro-18",
      "sectionId": "intro",
      "title": "Logcat",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb logcat *:W"
    },
    {
      "id": "intro-19",
      "sectionId": "intro",
      "title": "文件管理",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb push <local> <remote>` | 将本地文件复制到远程设备\n`adb pull <remote> <local>` | 将远程设备文件复制到本地\n<!--rehype:className=left-align code-nowrap-->"
    },
    {
      "id": "intro-20",
      "sectionId": "intro",
      "title": "文件管理",
      "kind": "text",
      "body": "#### 示例"
    },
    {
      "id": "intro-21",
      "sectionId": "intro",
      "title": "文件管理",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo \"This is a test\" > test.txt\n$ adb push  test.txt /sdcard/test.txt\n$ adb pull /sdcard/test.txt pulledTest.txt"
    },
    {
      "id": "intro-22",
      "sectionId": "intro",
      "title": "远程 Shell",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb shell <command>`                  | 在设备上运行指定的命令（大多数 Unix 命令在这里工作）\n`adb shell wm size`                    | 显示当前屏幕分辨率\n`adb shell wm size WxH`                | 将分辨率设置为 WxH\n`adb shell pm list packages`           | 列出所有已安装的应用包\n`adb shell pm list packages -3`        | 列出所有已安装的第三方的应用包\n`adb shell monkey -p app.package.name <count>` | 启动指定包名的应用程序, 并执行测试\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-23",
      "sectionId": "intro",
      "title": "包安装",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb install <apk>`          | 安装应用程序\n`adb install <path>`         | 从手机路径安装应用\n`adb install -r <path>`      | 从手机路径安装应用（允许覆盖安装）\n`adb uninstall <name>`       | 卸载应用程序\n<!--rehype:className=left-align code-nowrap-->"
    },
    {
      "id": "intro-24",
      "sectionId": "intro",
      "title": "Paths",
      "kind": "text",
      "body": "<!--rehype:wrap-class=row-span-2-->"
    },
    {
      "id": "intro-25",
      "sectionId": "intro",
      "title": "Paths",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`/data/data/<package>/databases` | 应用程序数据库\n`/data/data/<package>/shared_prefs/` | 共享偏好设置\n`/data/app` | 用户安装的 APK\n`/system/app` | 系统预装的 APK 文件\n`/mnt/asec` | 加密的应用程序（App2SD）\n`/mnt/emmc` | 内部 SD 卡\n`/mnt/sdcard` | 外部/内部 SD 卡\n`/mnt/sdcard/external_sd` | 外置 SD 卡\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-26",
      "sectionId": "intro",
      "title": "Paths",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "intro-27",
      "sectionId": "intro",
      "title": "Paths",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb shell ls` | 列出目录内容\n`adb shell ls -s` | 每个文件的打印尺寸\n`adb shell ls -R` | 递归列出子目录\n<!--rehype:className=left-align code-nowrap-->"
    },
    {
      "id": "intro-28",
      "sectionId": "intro",
      "title": "手机信息",
      "kind": "text",
      "body": "<!--rehype:wrap-class=row-span-2-->"
    },
    {
      "id": "intro-29",
      "sectionId": "intro",
      "title": "手机信息",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb get-statе` | 打印设备状态\n`adb get-serialno` | 获取设备的序列号\n`adb shell dumpsys iphonesybinfo` | 获取设备的 IMEI 信息\n`adb shell netstat` | 列出设备上的所有 TCP 连接\n`adb shell pwd` | 打印当前工作目录\n`adb shell dumpsys battery` | 获取设备电池状态\n`adb shell pm list features` |列出设备支持的所有功能\n`adb shell service list` | 列出设备上运行的所有服务\n`adb shell dumpsys activity <package>/<activity>` | 获取指定包和活动的信息\n`adb shell ps` | 打印设备上所有运行的进程状态\n`adb shell wm size` | 显示当前设备的屏幕分辨率\n`dumpsys window windows` \\| `grep -E 'mCurrentFocus\\|mFocusedApp'` | 打印当前应用程序的打开活动的信息\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-30",
      "sectionId": "intro",
      "title": "包信息",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb shell pm list packages` | 列出包名称\n`adb shell pm list packages -f` | 列出包名 + apks 的路径\n`adb shell pm list packages -3` | 列出第三方包名称\n`adb shell pm list packages -s` | 仅列出系统包\n`adb shell pm list packages -u` | 列出出包和未安装包\n`adb shell pm list packages -i` | 列出包名称 + 安装来源\n`adb shell pm list packages -e` | 列出启用的包\n`adb shell pm list packages -d` | 列出禁用的包\n`adb shell dumpsys package packages` | 列出所有应用程序的信息\n`adb shell dumpsys package <name>` | 列出一个包的信息\n`adb shell pm path <package>` | 列出 APK 文件的路径\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-31",
      "sectionId": "intro",
      "title": "设备相关命令",
      "kind": "text",
      "body": "<!--rehype:wrap-class=col-span-2 row-span-2-->"
    },
    {
      "id": "intro-32",
      "sectionId": "intro",
      "title": "设备相关命令",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb reboot recovery` | 重启设备进入恢复模式\n`adb reboot fastboot` | 重启设备进入恢复模式\n`adb shell screencap -p \"/path/to/screenshot.png\"` | 截图\n`adb shell screenrecord \"/path/to/record.mp4\"` | 录制设备屏幕\n`adb backup -apk -all -f backup.ab` | 备份设置和应用程序\n`adb backup -apk -shared -all -f backup.ab` | 备份设置、应用程序和共享存储\n`adb backup -apk -nosystem -all -f backup.ab` | 仅备份非系统应用程序\n`adb restore backup.ab` | 恢复以前的备份\n`adb shell am start -a android.intent.action.VIEW -d URL` | 打开网址\n`adb shell am start -t image/* -a android.intent.action.VIEW` | 打开画廊\n<!--rehype:className=code-nowrap left-align-->"
    },
    {
      "id": "intro-33",
      "sectionId": "intro",
      "title": "权限",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb shell permissions groups` | 列出所有已定义的权限组\n`adb shell list permissions -g -r` | 列出了所有权限的详细信息\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-34",
      "sectionId": "intro",
      "title": "Logs",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`adb logcat [options] [filter] [filter]` | 查看设备日志\n`adb bugreport` | 打印错误报告\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "intro-35",
      "sectionId": "intro",
      "title": "Logs",
      "kind": "text",
      "body": "常见的 ADB 命令\n---"
    },
    {
      "id": "intro-36",
      "sectionId": "intro",
      "title": "将文件推送到 Android 设备的下载文件夹",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb push example.apk /sdcard/Download/"
    },
    {
      "id": "intro-37",
      "sectionId": "intro",
      "title": "列出所有已安装的包并获取完整路径",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell pm list packages -f"
    },
    {
      "id": "intro-38",
      "sectionId": "intro",
      "title": "从安卓设备中提取文件",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb pull /sdcard/Download/example.apk"
    },
    {
      "id": "intro-39",
      "sectionId": "intro",
      "title": "从主机安装 APK 到 Android 设备",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb install example.apk"
    },
    {
      "id": "intro-40",
      "sectionId": "intro",
      "title": "从 Android 设备存储安装 APK",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb install /sdcard/Download/example.apk"
    },
    {
      "id": "intro-41",
      "sectionId": "intro",
      "title": "设置网络代理",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell settings put global http_proxy <address>:<port>"
    },
    {
      "id": "intro-42",
      "sectionId": "intro",
      "title": "禁用网络代理",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell settings put global http_proxy :0"
    },
    {
      "id": "intro-43",
      "sectionId": "intro",
      "title": "显示连接的设备并指定一个设备进行 Shell",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb devices\n$ adb -s 7f1c864e shell"
    },
    {
      "id": "intro-44",
      "sectionId": "intro",
      "title": "显示连接的设备并指定一个设备进行 Shell",
      "kind": "text",
      "body": "`7f1c864e` 是设备 `ID`"
    },
    {
      "id": "intro-45",
      "sectionId": "intro",
      "title": "通过 IP 地址连接到设备",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb connect 192.168.56.101:5555"
    },
    {
      "id": "intro-46",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "<!--rehype:wrap-class=row-span-5-->"
    },
    {
      "id": "intro-47",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "我们可以通过 `Wi-Fi` 或专门使用 `tcp` 连接使用 `adb`。 要通过 `Wi-Fi` 使用 `adb`，首先通过 `USB` 连接手机并启用 `USB` 调试。然后列出所有设备："
    },
    {
      "id": "intro-48",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb devices\n# 这应该给出这样的输出：\n# device_id    device"
    },
    {
      "id": "intro-49",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "现在检查 `Android` 设备的 `IP`："
    },
    {
      "id": "intro-50",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell ifconfig\n# 输出:\n\nwlan0  Link encap:UNSPEC    Driver icnss\n       inet addr:XXX.XXX.X.XX  Bcast:XXX.XXX.X.XXX"
    },
    {
      "id": "intro-51",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "记下 `inet addr` 后的 `IP` 地址。稍后要用。现在在某个端口重新启动 `tcpip`："
    },
    {
      "id": "intro-52",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb tcpip $port"
    },
    {
      "id": "intro-53",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "例如 5555："
    },
    {
      "id": "intro-54",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb tcpip 5555"
    },
    {
      "id": "intro-55",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "您现在可以断开 USB 线缆使用。 若要连接到设备请键入以下命令："
    },
    {
      "id": "intro-56",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb connect $ip:$port"
    },
    {
      "id": "intro-57",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "text",
      "body": "例如:"
    },
    {
      "id": "intro-58",
      "sectionId": "intro",
      "title": "通过 Wi-Fi 连接 ADB",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb connect 192.168.1.4:5555"
    },
    {
      "id": "intro-59",
      "sectionId": "intro",
      "title": "将计算机上的 APK 文件安装到设备",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb install /Users/dev/projects/myapp.apk"
    },
    {
      "id": "intro-60",
      "sectionId": "intro",
      "title": "查找应用的 APK 路径",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell pm path com.example.myapp"
    },
    {
      "id": "intro-61",
      "sectionId": "intro",
      "title": "查找应用的 APK 路径",
      "kind": "text",
      "body": "将 `com.example.myapp` 替换为您自己的应用程序包名称"
    },
    {
      "id": "intro-62",
      "sectionId": "intro",
      "title": "通过名称查找应用的包名",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell pm list packages | grep app_name"
    },
    {
      "id": "intro-63",
      "sectionId": "intro",
      "title": "从设备提取 APK 到您的计算机",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb pull /data/app/com.example.myapp.apk ./"
    },
    {
      "id": "intro-64",
      "sectionId": "intro",
      "title": "将文件从计算机复制到设备",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb push path/to/local/file /sdcard/foo.txt"
    },
    {
      "id": "intro-65",
      "sectionId": "intro",
      "title": "滚动屏幕",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell input swipe 300 300 500 1000 # 上\n$ adb shell input swipe 500 1000 300 300 # 下"
    },
    {
      "id": "intro-66",
      "sectionId": "intro",
      "title": "发文本",
      "kind": "text",
      "body": "使用虚拟键盘发送文本："
    },
    {
      "id": "intro-67",
      "sectionId": "intro",
      "title": "发文本",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell input text \"Hello World\""
    },
    {
      "id": "intro-68",
      "sectionId": "intro",
      "title": "发送按键事件",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell input keyevent 66\n# 66 是回车键码"
    },
    {
      "id": "intro-69",
      "sectionId": "intro",
      "title": "发送点击",
      "kind": "text",
      "body": "点击屏幕："
    },
    {
      "id": "intro-70",
      "sectionId": "intro",
      "title": "发送点击",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell input tap x y"
    },
    {
      "id": "intro-71",
      "sectionId": "intro",
      "title": "查看包的日志",
      "kind": "code",
      "lang": "bash",
      "code": "$ adb shell 'logcat --pid=$(pidof -s <package_name>)'"
    },
    {
      "id": "intro-72",
      "sectionId": "intro",
      "title": "查看包的日志",
      "kind": "text",
      "body": "查看特定包的日志"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/adb.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/adb.md",
    "generatedAt": "2025-12-12T12:42:30.291Z"
  }
}