{
  "id": "netstat",
  "name": "Netstat 备忘清单",
  "title": "此快速参考备忘单提供了各种使用 netstat 命令的方法",
  "icon": "reference/icons/zh/netstat.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Netstat – 安全命令",
      "startIndex": 18
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "此快速参考备忘单提供了各种使用 netstat 命令的方法"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "入门实例",
      "body": "端口 80 上的所有连接\n\n```shell\n$ netstat -anp | grep :80\n```\n\n网络统计帮助\n\n```shell\n$ netstat -h\n```"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "监听",
      "body": "选项 | 说明\n:- | :-\n`netstat -ltunp` | 所有监听端口\n`netstat -ltn`   | 监听 TCP 端口\n`netstat -lun`   | 监听 UDP 端口\n`netstat -lx`    | 监听 Unix 端口\n`netstat -lt` | 仅列出侦听 TCP 端口\n`netstat -lu` | 仅列出侦听 UDP 端口\n`netstat -l` | 列出所有监听条件"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "连接",
      "body": "选项 | 说明\n:- | :-\n`netstat -a`  | 所有连接\n`netstat -at` | 所有 TCP 连接\n`netstat -au` | 所有 UDP 连接\n`netstat -ant` | 显示没有反向 DNS 查找的 IP 地址\n\n选项 | 说明\n:- | :-\n`netstat` | 活动连接\n`netstat -a` | 所有连接\n`netstat -at` | 所有 TCP 连接\n`netstat -au` | 所有 UDP 连接\n`netstat -ant` | 显示没有反向 DNS 查找的 IP 地址\n`netstat -tnl` | 监听 TCP 端口\n`netstat -unl` | 监听 UDP 端口"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "网络",
      "body": "选项 | 说明\n:- | :-\n`netstat -i`  | 显示网络接口\n`netstat -ie` | 显示网络接口扩展信息\n`netstat -n` | 仅显示 IP 地址\n`netstat -F` | 尽可能显示 IP 地址的域名"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "路由",
      "body": "选项 | 说明\n:- | :-\n`netstat -r`  | 显示路由表\n`netstat -rn` | 显示路由表，不解析主机"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "统计数据",
      "body": "选项 | 说明\n:- | :-\n`netstat -s`  | 显示统计信息\n`netstat -st` | 显示 TCP 统计信息\n`netstat -su` | 显示 UDP 统计信息\n`netstat -ltpe` | 使用进程信息和扩展信息显示 TCP 的侦听连接\n`netstat -tp` | 显示带有 PID 编号的服务名称\n`sudo netstat -nlpt` | 列出进程名称/PID 和用户 ID\n`netstat -nlptue` | 所有带有 PID 和扩展信息的侦听端口\n`netstat -M` | 显示伪装的连接"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "显示没有域名的 TCP 连接",
      "body": "```bash\n$ netstat --tcp --numeric\n```"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "显示活动/已建立的连接",
      "body": "```bash\n$ netstat -atnp | grep ESTA\n```"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "%E8%8E%B7%E5%8F%96%E6%B4%BB%E5%8A%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%88%97%E8%A1%A8",
      "body": "%60%60%60bash%0A%24%20watch%20-d%20-n0%20%22netstat%20-atnp%20%7C%20grep%20ESTA%22%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "%E6%98%BE%E7%A4%BA%E5%88%B0%E7%89%B9%E5%AE%9A%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%89%80%E6%9C%89%E6%89%93%E5%BC%80%E8%BF%9E%E6%8E%A5",
      "body": "%60%60%60bash%0A%24%20netstat%20-anp%20%7C%20grep%22%3A%22%0A%60%60%60%0A%0A%E6%8F%92%E5%85%A5%60%E7%AB%AF%E5%8F%A3%60%E5%8F%B7%EF%BC%88%E4%B8%8A%E5%9B%BE%EF%BC%89%E4%BB%A3%E6%9B%BF%E5%86%92%E5%8F%B7%20%60%3A%60",
      "encoded": true
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "检查服务是否正在运行",
      "body": "```bash\n$ sudo netstat -aple | grep ntp\n```\n\n你可以用`http`、`smtp`代替`ntp`"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "%E6%98%BE%E7%A4%BA%E5%85%B7%E6%9C%89%E5%A4%A7%E9%87%8F%E8%BF%9E%E6%8E%A5%E7%9A%84%20IP",
      "body": "%60%60%60bash%0A%24%20netstat%20-tn%202%3E%2Fdev%2Fnull%20%7C%20grep%20%3A80%20%7C%20awk%20'%7Bprint%20%245%7D'%20%7C%20cut%20-d%3A%20-f1%20%7C%20sort%20%7C%20uniq%20-c%20%7C%20sort%20-nr%20%7C%20head%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%AB%AF%E5%8F%A3%2080%20%E7%9A%84%20IP%20%E5%9C%B0%E5%9D%80",
      "body": "%60%60%60bash%0A%24%20netstat%20-tn%202%3E%2Fdev%2Fnull%20%7C%20grep%20'%3A80%20'%20%7C%20awk%20'%7Bprint%20%245%7D'%20%7Csed%20-e%20's%2F%3A%3Affff%3A%2F%2F'%20%7C%20cut%20-f1%20-d%3A%20%7C%20sort%20%7C%20uniq%20-c%20%7C%20sort%20-rn%20%7C%20head%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "显示端口 80 上的活动连接数",
      "body": "```bash\n$ netstat -an |grep :80 |wc -l\n```"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "%E4%BB%85%E6%98%BE%E7%A4%BA%E5%A4%96%E9%83%A8%20IP%20%E5%9C%B0%E5%9D%80",
      "body": "%60%60%60bash%0A%24%20netstat%20-antu%20%7C%20grep%20%3A80%20%7C%20grep%20-v%20LISTEN%20%7C%20awk%20'%7Bprint%20%245%7D'%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "显示活动 SYNC_REC",
      "body": "以下命令将输出服务器上正在发生和正在发生的活动 `SYNC_REC` 数量。数量应该很低(小于 `5`)。如果该数字为两位数，则您可能正在遭受 `DoS` 攻击或被邮件轰炸。\n\n```bash\n$ netstat -n -p|grep SYN_REC | wc -l\n```"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "%E5%88%97%E5%87%BA%E5%8F%91%E9%80%81%20SYN_REC%20%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%94%AF%E4%B8%80%20IP%20%E5%9C%B0%E5%9D%80",
      "body": "%60%60%60bash%0A%24%20netstat%20-n%20-p%20%7C%20grep%20SYN_REC%20%7C%20awk%20'%7Bprint%20%245%7D'%20%7C%20awk%20-F%3A%20'%7Bprint%20%241%7D'%0A%60%60%60%0A%0A%E4%B8%8E%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4%E4%B8%80%E6%A0%B7%EF%BC%8C%E8%AF%A5%E5%91%BD%E4%BB%A4%E4%B9%9F%E5%88%97%E5%87%BA%E4%BA%86%E5%8F%91%E9%80%81%20%60SYN_REC%60%20%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81%E7%9A%84%E8%8A%82%E7%82%B9%E7%9A%84%E6%89%80%E6%9C%89%E5%94%AF%E4%B8%80%20%60IP%60%20%E5%9C%B0%E5%9D%80",
      "encoded": true
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "%E6%AF%8F%E4%B8%AA%E8%BF%9C%E7%A8%8B%20IP%20%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%95%B0",
      "body": "%60%60%60bash%0A%24%20netstat%20-antu%20%7C%20awk%20'%7Bprint%20%245%7D'%20%7C%20awk%20-F%3A%20'%7Bprint%20%241%7D'%20%7C%20sort%20%7C%20uniq%20-c%20%7C%20sort%20-n%0A%60%60%60%0A%0A%E6%88%96%E8%80%85%0A%0A%60%60%60bash%0A%24%20netstat%20-antu%20%7C%20awk%20'%245%20~%20%2F%5B0-9%5D%3A%2F%7Bsplit(%245%2C%20a%2C%20%22%3A%22)%3B%20ips%5Ba%5B1%5D%5D%2B%2B%7D%20END%20%7Bfor%20(ip%20in%20ips)%20print%20ips%5Bip%5D%2C%20ip%20%7C%20%22sort%20-k1%20-nr%22%7D'%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "检查开放端口（ipv4 和 ipv6）",
      "body": "```bash\n$ netstat -plntu\n```"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "检查开放端口（ipv4 和 ipv6）",
      "body": "```bash\n$ netstat -plnt\n```"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "每个 IP 的打开连接数",
      "body": "```bash\n$ netstat -an | grep 80 | wc -l\n```"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "%E6%B4%BB%E8%B7%83%E7%9A%84%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%9E%E6%8E%A5",
      "body": "%60%60%60bash%0A%24%20netstat%20-pnut%20-w%20%7C%20column%20-t%20-s%20%24'%5Ct'%0A%60%60%60",
      "encoded": true
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/netstat.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/netstat.md",
    "lang": "zh",
    "mode": "local"
  }
}