{
  "id": "netstat",
  "title": "netstat",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "Netstat 备忘清单\n==="
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "此快速参考备忘单提供了各种使用 netstat 命令的方法"
    },
    {
      "id": "intro-2",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "入门\n-----"
    },
    {
      "id": "intro-3",
      "sectionId": "intro",
      "title": "入门实例",
      "kind": "text",
      "body": "端口 80 上的所有连接"
    },
    {
      "id": "intro-4",
      "sectionId": "intro",
      "title": "入门实例",
      "kind": "code",
      "lang": "shell",
      "code": "$ netstat -anp | grep :80"
    },
    {
      "id": "intro-5",
      "sectionId": "intro",
      "title": "入门实例",
      "kind": "text",
      "body": "网络统计帮助"
    },
    {
      "id": "intro-6",
      "sectionId": "intro",
      "title": "入门实例",
      "kind": "code",
      "lang": "shell",
      "code": "$ netstat -h"
    },
    {
      "id": "intro-7",
      "sectionId": "intro",
      "title": "监听",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat -ltunp` | 所有监听端口\n`netstat -ltn`   | 监听 TCP 端口\n`netstat -lun`   | 监听 UDP 端口\n`netstat -lx`    | 监听 Unix 端口\n`netstat -lt` | 仅列出侦听 TCP 端口\n`netstat -lu` | 仅列出侦听 UDP 端口\n`netstat -l` | 列出所有监听条件"
    },
    {
      "id": "intro-8",
      "sectionId": "intro",
      "title": "连接",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat -a`  | 所有连接\n`netstat -at` | 所有 TCP 连接\n`netstat -au` | 所有 UDP 连接\n`netstat -ant` | 显示没有反向 DNS 查找的 IP 地址"
    },
    {
      "id": "intro-9",
      "sectionId": "intro",
      "title": "连接",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat` | 活动连接\n`netstat -a` | 所有连接\n`netstat -at` | 所有 TCP 连接\n`netstat -au` | 所有 UDP 连接\n`netstat -ant` | 显示没有反向 DNS 查找的 IP 地址\n`netstat -tnl` | 监听 TCP 端口\n`netstat -unl` | 监听 UDP 端口"
    },
    {
      "id": "intro-10",
      "sectionId": "intro",
      "title": "网络",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat -i`  | 显示网络接口\n`netstat -ie` | 显示网络接口扩展信息\n`netstat -n` | 仅显示 IP 地址\n`netstat -F` | 尽可能显示 IP 地址的域名"
    },
    {
      "id": "intro-11",
      "sectionId": "intro",
      "title": "路由",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat -r`  | 显示路由表\n`netstat -rn` | 显示路由表，不解析主机"
    },
    {
      "id": "intro-12",
      "sectionId": "intro",
      "title": "统计数据",
      "kind": "text",
      "body": "选项 | 说明\n:- | :-\n`netstat -s`  | 显示统计信息\n`netstat -st` | 显示 TCP 统计信息\n`netstat -su` | 显示 UDP 统计信息\n`netstat -ltpe` | 使用进程信息和扩展信息显示 TCP 的侦听连接\n`netstat -tp` | 显示带有 PID 编号的服务名称\n`sudo netstat -nlpt` | 列出进程名称/PID 和用户 ID\n`netstat -nlptue` | 所有带有 PID 和扩展信息的侦听端口\n`netstat -M` | 显示伪装的连接"
    },
    {
      "id": "intro-13",
      "sectionId": "intro",
      "title": "显示没有域名的 TCP 连接",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat --tcp --numeric"
    },
    {
      "id": "intro-14",
      "sectionId": "intro",
      "title": "显示活动/已建立的连接",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -atnp | grep ESTA"
    },
    {
      "id": "intro-15",
      "sectionId": "intro",
      "title": "获取活动连接的连续列表",
      "kind": "code",
      "lang": "bash",
      "code": "$ watch -d -n0 \"netstat -atnp | grep ESTA\""
    },
    {
      "id": "intro-16",
      "sectionId": "intro",
      "title": "显示到特定端口的所有打开连接",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -anp | grep\":\""
    },
    {
      "id": "intro-17",
      "sectionId": "intro",
      "title": "显示到特定端口的所有打开连接",
      "kind": "text",
      "body": "插入`端口`号（上图）代替冒号 `:`"
    },
    {
      "id": "intro-18",
      "sectionId": "intro",
      "title": "检查服务是否正在运行",
      "kind": "code",
      "lang": "bash",
      "code": "$ sudo netstat -aple | grep ntp"
    },
    {
      "id": "intro-19",
      "sectionId": "intro",
      "title": "检查服务是否正在运行",
      "kind": "text",
      "body": "你可以用`http`、`smtp`代替`ntp`"
    },
    {
      "id": "intro-20",
      "sectionId": "intro",
      "title": "检查服务是否正在运行",
      "kind": "text",
      "body": "Netstat – 安全命令\n---"
    },
    {
      "id": "intro-21",
      "sectionId": "intro",
      "title": "显示具有大量连接的 IP",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -tn 2>/dev/null | grep :80 | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -nr | head"
    },
    {
      "id": "intro-22",
      "sectionId": "intro",
      "title": "连接到端口 80 的 IP 地址",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -tn 2>/dev/null | grep ':80 ' | awk '{print $5}' |sed -e 's/::ffff://' | cut -f1 -d: | sort | uniq -c | sort -rn | head"
    },
    {
      "id": "intro-23",
      "sectionId": "intro",
      "title": "显示端口 80 上的活动连接数",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -an |grep :80 |wc -l"
    },
    {
      "id": "intro-24",
      "sectionId": "intro",
      "title": "仅显示外部 IP 地址",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -antu | grep :80 | grep -v LISTEN | awk '{print $5}'"
    },
    {
      "id": "intro-25",
      "sectionId": "intro",
      "title": "显示活动 SYNC_REC",
      "kind": "text",
      "body": "以下命令将输出服务器上正在发生和正在发生的活动 `SYNC_REC` 数量。数量应该很低(小于 `5`)。如果该数字为两位数，则您可能正在遭受 `DoS` 攻击或被邮件轰炸。"
    },
    {
      "id": "intro-26",
      "sectionId": "intro",
      "title": "显示活动 SYNC_REC",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -n -p|grep SYN_REC | wc -l"
    },
    {
      "id": "intro-27",
      "sectionId": "intro",
      "title": "显示活动 SYNC_REC",
      "kind": "text",
      "body": "#### 列出发送 SYN_REC 连接的唯一 IP 地址"
    },
    {
      "id": "intro-28",
      "sectionId": "intro",
      "title": "显示活动 SYNC_REC",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -n -p | grep SYN_REC | awk '{print $5}' | awk -F: '{print $1}'"
    },
    {
      "id": "intro-29",
      "sectionId": "intro",
      "title": "显示活动 SYNC_REC",
      "kind": "text",
      "body": "与上面的命令一样，该命令也列出了发送 `SYN_REC` 连接状态的节点的所有唯一 `IP` 地址"
    },
    {
      "id": "intro-30",
      "sectionId": "intro",
      "title": "每个远程 IP 的连接数",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -antu | awk '{print $5}' | awk -F: '{print $1}' | sort | uniq -c | sort -n"
    },
    {
      "id": "intro-31",
      "sectionId": "intro",
      "title": "每个远程 IP 的连接数",
      "kind": "text",
      "body": "或者"
    },
    {
      "id": "intro-32",
      "sectionId": "intro",
      "title": "每个远程 IP 的连接数",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -antu | awk '$5 ~ /[0-9]:/{split($5, a, \":\"); ips[a[1]]++} END {for (ip in ips) print ips[ip], ip | \"sort -k1 -nr\"}'"
    },
    {
      "id": "intro-33",
      "sectionId": "intro",
      "title": "检查开放端口（ipv4 和 ipv6）",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -plntu"
    },
    {
      "id": "intro-34",
      "sectionId": "intro",
      "title": "检查开放端口（ipv4 和 ipv6）",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -plnt"
    },
    {
      "id": "intro-35",
      "sectionId": "intro",
      "title": "每个 IP 的打开连接数",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -an | grep 80 | wc -l"
    },
    {
      "id": "intro-36",
      "sectionId": "intro",
      "title": "活跃的互联网连接",
      "kind": "code",
      "lang": "bash",
      "code": "$ netstat -pnut -w | column -t -s $'\\t'"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/netstat.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/netstat.md",
    "generatedAt": "2025-12-16T07:36:11.339Z",
    "lang": "zh",
    "mode": "local"
  }
}