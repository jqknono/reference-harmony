{
  "id": "hook",
  "name": "Hook 备忘清单",
  "title": "Hook 备忘单是 [Hook](https://github.com/hook-lang/hook/) 编程语言的一页参考表。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/hook.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "类型和值",
      "startIndex": 10
    },
    {
      "id": "s3",
      "title": "语法",
      "startIndex": 32
    },
    {
      "id": "s4",
      "title": "变量",
      "startIndex": 47
    },
    {
      "id": "s5",
      "title": "运算符和表达式",
      "startIndex": 55
    },
    {
      "id": "s6",
      "title": "分支",
      "startIndex": 67
    },
    {
      "id": "s7",
      "title": "循环",
      "startIndex": 73
    },
    {
      "id": "s8",
      "title": "字符串",
      "startIndex": 87
    },
    {
      "id": "s9",
      "title": "数组",
      "startIndex": 93
    },
    {
      "id": "s10",
      "title": "函数和闭包",
      "startIndex": 105
    },
    {
      "id": "s11",
      "title": "结构体",
      "startIndex": 127
    },
    {
      "id": "s12",
      "title": "解构",
      "startIndex": 134
    },
    {
      "id": "s13",
      "title": "模块化",
      "startIndex": 140
    },
    {
      "id": "s14",
      "title": "错误处理",
      "startIndex": 166
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "Hook 备忘单是 [Hook](https://github.com/hook-lang/hook/) 编程语言的一页参考表。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "• [GitHub](https://github.com/hook-lang/hook)\n• [在线运行](https://hook-lang.github.io/hook-playground)\n• [示例](https://github.com/hook-lang/hook/tree/main/examples)\n• [VSCode 扩展](https://marketplace.visualstudio.com/items?itemName=fabiosvm.hook)"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Hook 看起来是什么样的？",
      "kind": "code",
      "lang": "rust",
      "code": "fn factorial(n) {\n  if (n == 0)\n    return 1;\n  return n * factorial(n - 1);\n}"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Hook 看起来是什么样的？",
      "kind": "text",
      "body": "Hook 具有类似于 `C` 的现代语法。"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Hello, World",
      "kind": "code",
      "lang": "js",
      "code": "println(\"Hello, World!\");\n// Hello, World!"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Hello, World",
      "kind": "text",
      "body": "Hook 中的 `Hello, World!` 程序。"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "使用 Homebrew 安装",
      "kind": "code",
      "lang": "text",
      "code": "brew tap hook-lang/hook\nbrew install hook\nhook --help"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "使用 Homebrew 安装",
      "kind": "text",
      "body": "解释器可以通过 [`Homebrew`](https://brew.sh) 获取。"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "在 Windows 上安装",
      "kind": "code",
      "lang": "bash",
      "code": "cd %tmp%\ncurl -sSLO https://raw.githubusercontent.com/hook-lang/hook/main/scripts/install.bat install"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "在 Windows 上安装",
      "kind": "text",
      "body": "这是你在 `Windows` 上安装的方法。"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "基本类型",
      "kind": "qa",
      "front": "`Nil`",
      "back": "`Bool`"
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "基本类型",
      "kind": "qa",
      "front": "`Number`",
      "back": "`String`"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "基本类型",
      "kind": "qa",
      "front": "`Range`",
      "back": "`Array`"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "基本类型",
      "kind": "qa",
      "front": "`Record`",
      "back": "`Closure`"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "基本类型",
      "kind": "text",
      "body": "基本类型列表。"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "布尔值",
      "kind": "code",
      "lang": "js",
      "code": "let x = true;\nlet y = false;"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "布尔值",
      "kind": "text",
      "body": "Bool 是布尔类型。所以，它可以是 `true` 或 `false`"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "数字",
      "kind": "code",
      "lang": "js",
      "code": "let x = 0;\nlet degree = 45; // 整数\nlet pi = 3.14;   // 浮点数"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "数字",
      "kind": "text",
      "body": "数字可以是整数或浮点数"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "字符串",
      "kind": "code",
      "lang": "js",
      "code": "let empty = \"\";\n\nlet name = \"John\";\n\nlet message = 'Hello, \"John\"!';"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "字符串",
      "kind": "text",
      "body": "字符串可以用单引号或双引号表示"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "区间",
      "kind": "code",
      "lang": "js",
      "code": "let range = 1..5;\n\nprintln(range);\n// 1..5"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "区间",
      "kind": "text",
      "body": "区间是整数的序列"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "数组",
      "kind": "code",
      "lang": "js",
      "code": "let fruits = [\"apple\", \"banana\", \"cherry\"];\n\nprintln(fruits);\n// [\"apple\", \"banana\", \"cherry\"]"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "数组",
      "kind": "text",
      "body": "数组是元素的序列"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "记录",
      "kind": "code",
      "lang": "js",
      "code": "let p = { x: 5, y: 10 };\n\nprintln(p);\n// {x: 5, y: 10}"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "记录",
      "kind": "text",
      "body": "记录将字段映射到值"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "**nil** 值",
      "kind": "code",
      "lang": "swift",
      "code": "let x = nil;\nvar y;"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "**nil** 值",
      "kind": "code",
      "lang": "js",
      "code": "println(x); // nil\nprintln(y); // nil"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "**nil** 值",
      "kind": "text",
      "body": "`nil` 表示没有值"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "假值",
      "kind": "code",
      "lang": "swift",
      "code": "if (nil) \"true\" else \"false\";   // false\nif (false) \"true\" else \"false\"; // false\nif (true) \"true\" else \"false\";  // true\nif (0) \"true\" else \"false\";     // true\nif (1) \"true\" else \"false\";     // true\nif (\"\") \"true\" else \"false\";    // true\nif ([]) \"true\" else \"false\";    // true\nif ({}) \"true\" else \"false\";    // true"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "假值",
      "kind": "text",
      "body": "只有 `nil` 和 `false` 是假值。"
    },
    {
      "id": "s3-32",
      "sectionId": "s3",
      "title": "注释",
      "kind": "code",
      "lang": "js",
      "code": "// This is a single-line comment.\n\n// And this is\n// a multi-line\n// comment. ;)"
    },
    {
      "id": "s3-33",
      "sectionId": "s3",
      "title": "注释",
      "kind": "text",
      "body": "Hook 只支持单行注释。抱歉！"
    },
    {
      "id": "s3-34",
      "sectionId": "s3",
      "title": "分号",
      "kind": "code",
      "lang": "js",
      "code": "println(1) ; println(2) ; println(3) ;\nprintln(4) ; println(5)\n; println(6) ;\n;                                      // error: unexpected token `;`"
    },
    {
      "id": "s3-35",
      "sectionId": "s3",
      "title": "分号",
      "kind": "text",
      "body": "需要使用分号，不允许空语句。"
    },
    {
      "id": "s3-36",
      "sectionId": "s3",
      "title": "代码块",
      "kind": "code",
      "lang": "js",
      "code": "{\n  println(\"Hello\");\n  {\n    println(\"World\");\n  }\n}"
    },
    {
      "id": "s3-37",
      "sectionId": "s3",
      "title": "代码块",
      "kind": "text",
      "body": "使用代码块定义作用域。"
    },
    {
      "id": "s3-38",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`as`",
      "back": "`break` | `continue` | `do`"
    },
    {
      "id": "s3-39",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`else`",
      "back": "`false` | `fn` | `for`"
    },
    {
      "id": "s3-40",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`from`",
      "back": "`if` | `import` | `in`"
    },
    {
      "id": "s3-41",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`inout`",
      "back": "`let` | `loop` | `match`"
    },
    {
      "id": "s3-42",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`nil`",
      "back": "`return` | `struct` | `trait`"
    },
    {
      "id": "s3-43",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "qa",
      "front": "`true`",
      "back": "`var` | `while` |"
    },
    {
      "id": "s3-44",
      "sectionId": "s3",
      "title": "保留字",
      "kind": "text",
      "body": "有少量保留字。"
    },
    {
      "id": "s3-45",
      "sectionId": "s3",
      "title": "标识符",
      "kind": "code",
      "lang": "php",
      "code": "var lowercase;\nvar CAPS_LOCK;\nvar camelCase;\nvar PascalCase;\nvar snake_case;\nvar _123;"
    },
    {
      "id": "s3-46",
      "sectionId": "s3",
      "title": "标识符",
      "kind": "text",
      "body": "标识符是区分大小写的。"
    },
    {
      "id": "s4-47",
      "sectionId": "s4",
      "title": "变量",
      "kind": "code",
      "lang": "js",
      "code": "var x; // x contains nil\nx = 5; // now, x contains a number\nx = \"foo\"; // a string\n\nprintln(x);"
    },
    {
      "id": "s4-48",
      "sectionId": "s4",
      "title": "变量",
      "kind": "text",
      "body": "数值有类型，但变量没有。"
    },
    {
      "id": "s4-49",
      "sectionId": "s4",
      "title": "不可变变量",
      "kind": "code",
      "lang": "js",
      "code": "let x = 5;\n\nx = 10; // error: cannot assign to immutable variable `x`\n\nlet y; // error: unexpected token `;`"
    },
    {
      "id": "s4-50",
      "sectionId": "s4",
      "title": "不可变变量",
      "kind": "text",
      "body": "不可变变量在声明时必须初始化。"
    },
    {
      "id": "s4-51",
      "sectionId": "s4",
      "title": "作用域",
      "kind": "code",
      "lang": "js",
      "code": "let x = 5;\n{\n  let y = 15;\n  println(x); // 10\n  println(y); // 15\n}\nprintln(x); // 5\nprintln(y); // error: variable `y` is used but not defined"
    },
    {
      "id": "s4-52",
      "sectionId": "s4",
      "title": "作用域",
      "kind": "text",
      "body": "当堆分配的变量超出作用域时，会自动释放。"
    },
    {
      "id": "s4-53",
      "sectionId": "s4",
      "title": "遮蔽",
      "kind": "code",
      "lang": "js",
      "code": "let x = 5;\n{\n  let x = 10; // shadows the outer `x`\n  println(x); // 10\n}\nprintln(x); // 5"
    },
    {
      "id": "s4-54",
      "sectionId": "s4",
      "title": "遮蔽",
      "kind": "text",
      "body": "变量可以被遮蔽。"
    },
    {
      "id": "s5-55",
      "sectionId": "s5",
      "title": "算术运算",
      "kind": "code",
      "lang": "js",
      "code": "println(5 + 10); // 15\nprintln(5 - 10); // -5\nprintln(5 * 10); // 50\nprintln(5 / 10); // 0.5\nprintln(5 % 10); // 5\nprintln(-5); // -5"
    },
    {
      "id": "s5-56",
      "sectionId": "s5",
      "title": "算术运算",
      "kind": "text",
      "body": "基本算术运算符。"
    },
    {
      "id": "s5-57",
      "sectionId": "s5",
      "title": "比较运算",
      "kind": "code",
      "lang": "js",
      "code": "println(5 == 10); // false\nprintln(5 != 10); // true\nprintln(5 < 10); // true\nprintln(5 > 10); // false\nprintln(5 <= 10); // true\nprintln(5 >= 10); // false"
    },
    {
      "id": "s5-58",
      "sectionId": "s5",
      "title": "比较运算",
      "kind": "text",
      "body": "比较运算符。"
    },
    {
      "id": "s5-59",
      "sectionId": "s5",
      "title": "逻辑运算",
      "kind": "code",
      "lang": "js",
      "code": "println(true && false); // false\nprintln(true || false); // true\nprintln(!true); // false"
    },
    {
      "id": "s5-60",
      "sectionId": "s5",
      "title": "逻辑运算",
      "kind": "text",
      "body": "逻辑运算符。"
    },
    {
      "id": "s5-61",
      "sectionId": "s5",
      "title": "位运算和移位",
      "kind": "code",
      "lang": "js",
      "code": "println(5 & 10); // 0\nprintln(5 | 10); // 15\nprintln(5 ^ 10); // 15\nprintln(~5); // -6\nprintln(5 << 1); // 10\nprintln(5 >> 1); // 2"
    },
    {
      "id": "s5-62",
      "sectionId": "s5",
      "title": "位运算和移位",
      "kind": "text",
      "body": "位运算和移位运算符。"
    },
    {
      "id": "s5-63",
      "sectionId": "s5",
      "title": "赋值",
      "kind": "code",
      "lang": "js",
      "code": "var x = 5; // 5\nx += 10; // 15\nx -= 10; // 5\nx *= 10; // 50\nx /= 10; // 5\nx %= 10; // 5\nx &= 10; // 0\nx |= 10; // 10\nx ^= 5; // 15\nx <<= 5; // 480\nx >>= 5; // 15\nx++; // 16\nx--; // 15"
    },
    {
      "id": "s5-64",
      "sectionId": "s5",
      "title": "赋值",
      "kind": "text",
      "body": "赋值运算符。"
    },
    {
      "id": "s5-65",
      "sectionId": "s5",
      "title": "三元运算符",
      "kind": "code",
      "lang": "js",
      "code": "let x = 5;\nlet y = if (x > 5) 10 else 20;\n\nprintln(y);\n// 20"
    },
    {
      "id": "s5-66",
      "sectionId": "s5",
      "title": "三元运算符",
      "kind": "text",
      "body": "在 Hook 中，三元运算符是 `if else`。"
    },
    {
      "id": "s6-67",
      "sectionId": "s6",
      "title": "如果",
      "kind": "code",
      "lang": "js",
      "code": "let x = 10;\n\nif (x > 5) {\n  println(\"x is greater than 5\");\n}\n// x is greater than 5"
    },
    {
      "id": "s6-68",
      "sectionId": "s6",
      "title": "如果",
      "kind": "text",
      "body": "`if` 语句。"
    },
    {
      "id": "s6-69",
      "sectionId": "s6",
      "title": "如果否则",
      "kind": "code",
      "lang": "js",
      "code": "let x = 11;\n\nif (x == 5) {\n  println(\"x is 5\");\n} else if (x == 10) {\n  println(\"x is 10\");\n} else {\n  println(\"x is neither 5 nor 10\");\n}\n// x is neither 5 nor 10"
    },
    {
      "id": "s6-70",
      "sectionId": "s6",
      "title": "如果否则",
      "kind": "text",
      "body": "`if else` 语句。"
    },
    {
      "id": "s6-71",
      "sectionId": "s6",
      "title": "匹配",
      "kind": "code",
      "lang": "rust",
      "code": "let x = 5;\n\nmatch (x) {\n  1 => println(\"one\");\n  2 => println(\"two\");\n  3 => println(\"three\");\n  _ => println(\"other\");\n}\n// other"
    },
    {
      "id": "s6-72",
      "sectionId": "s6",
      "title": "匹配",
      "kind": "text",
      "body": "`match` 语句。"
    },
    {
      "id": "s7-73",
      "sectionId": "s7",
      "title": "while",
      "kind": "code",
      "lang": "js",
      "code": "var x = 0;\n\nwhile (x < 5) {\n  print(x);\n  x += 1;\n}\n// 01234"
    },
    {
      "id": "s7-74",
      "sectionId": "s7",
      "title": "while",
      "kind": "text",
      "body": "`while` 循环。"
    },
    {
      "id": "s7-75",
      "sectionId": "s7",
      "title": "do while",
      "kind": "code",
      "lang": "js",
      "code": "var x = 0;\n\ndo {\n  print(x);\n  x += 1;\n} while (x < 5);\n// 01234"
    },
    {
      "id": "s7-76",
      "sectionId": "s7",
      "title": "do while",
      "kind": "text",
      "body": "`do while` 循环。"
    },
    {
      "id": "s7-77",
      "sectionId": "s7",
      "title": "for",
      "kind": "code",
      "lang": "rust",
      "code": "for (var i = 0; i < 5; i++) {\n  print(i);\n}\n// 01234"
    },
    {
      "id": "s7-78",
      "sectionId": "s7",
      "title": "for",
      "kind": "text",
      "body": "经典的 `for` 循环。"
    },
    {
      "id": "s7-79",
      "sectionId": "s7",
      "title": "循环",
      "kind": "code",
      "lang": "rust",
      "code": "loop {\n  println(\"Press Ctrl+C to stop\");\n}"
    },
    {
      "id": "s7-80",
      "sectionId": "s7",
      "title": "循环",
      "kind": "text",
      "body": "无条件的 `loop` 循环。"
    },
    {
      "id": "s7-81",
      "sectionId": "s7",
      "title": "中断",
      "kind": "code",
      "lang": "js",
      "code": "var i = 0;"
    },
    {
      "id": "s7-82",
      "sectionId": "s7",
      "title": "中断",
      "kind": "code",
      "lang": "rust",
      "code": "loop {\n  if (i == 5) break;\n\n  print(i);\n  i += 1;\n}\n// 01234"
    },
    {
      "id": "s7-83",
      "sectionId": "s7",
      "title": "中断",
      "kind": "text",
      "body": "使用 `break` 退出循环。"
    },
    {
      "id": "s7-84",
      "sectionId": "s7",
      "title": "继续",
      "kind": "code",
      "lang": "js",
      "code": "var i = 0;"
    },
    {
      "id": "s7-85",
      "sectionId": "s7",
      "title": "继续",
      "kind": "code",
      "lang": "rust",
      "code": "loop {\n  i += 1;\n  if (i % 2 == 0) continue;\n\n  print(i);\n\nif (i == 5) break;\n}\n// 135"
    },
    {
      "id": "s7-86",
      "sectionId": "s7",
      "title": "继续",
      "kind": "text",
      "body": "使用 `continue` 跳过循环体的剩余部分。"
    },
    {
      "id": "s8-87",
      "sectionId": "s8",
      "title": "索引字符串",
      "kind": "code",
      "lang": "js",
      "code": "let s = \"Hello\";\n\nprintln(s[0]); // H\nprintln(s[1]); // e\nprintln(s[4]); // o"
    },
    {
      "id": "s8-88",
      "sectionId": "s8",
      "title": "索引字符串",
      "kind": "text",
      "body": "对字符串进行索引返回一个包含1个字符的字符串。"
    },
    {
      "id": "s8-89",
      "sectionId": "s8",
      "title": "切片字符串",
      "kind": "code",
      "lang": "js",
      "code": "let s = \"Hello, World!\";\n\nprintln(s[0..5]);        // Hello,\nprintln(s[7..12]);       // World!"
    },
    {
      "id": "s8-90",
      "sectionId": "s8",
      "title": "切片字符串",
      "kind": "text",
      "body": "通过传递一个区间来切片字符串。"
    },
    {
      "id": "s8-91",
      "sectionId": "s8",
      "title": "连接字符串",
      "kind": "code",
      "lang": "js",
      "code": "let greeting = \"Hi\" + \" there!\";\n\nprintln(greeting);\n// Hi there!"
    },
    {
      "id": "s8-92",
      "sectionId": "s8",
      "title": "连接字符串",
      "kind": "text",
      "body": "使用 `+` 运算符连接字符串。"
    },
    {
      "id": "s9-93",
      "sectionId": "s9",
      "title": "索引数组",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2, 3];\n\nprintln(a[0]); // 1\nprintln(a[1]); // 2\nprintln(a[2]); // 3"
    },
    {
      "id": "s9-94",
      "sectionId": "s9",
      "title": "索引数组",
      "kind": "text",
      "body": "对数组进行索引返回一个元素"
    },
    {
      "id": "s9-95",
      "sectionId": "s9",
      "title": "切片数组",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2, 3, 4];\n\nprintln(a[0..2]);            // [1, 2, 3]\nprintln(a[1..3]);            // [2, 3, 4]\nprintln(a[2 .. len(a) - 1]); // [3, 4]"
    },
    {
      "id": "s9-96",
      "sectionId": "s9",
      "title": "切片数组",
      "kind": "text",
      "body": "数组从零开始索引"
    },
    {
      "id": "s9-97",
      "sectionId": "s9",
      "title": "附加元素",
      "kind": "code",
      "lang": "js",
      "code": "var a = [1, 2];\n\na[] = 3;\n\nprintln(a);\n// [1, 2, 3]"
    },
    {
      "id": "s9-98",
      "sectionId": "s9",
      "title": "附加元素",
      "kind": "text",
      "body": "数组是可变的。使用 `[]` 来附加一个元素"
    },
    {
      "id": "s9-99",
      "sectionId": "s9",
      "title": "元素赋值",
      "kind": "code",
      "lang": "js",
      "code": "var a = [1, 2, 3];\n\na[0] = 4;\n\nprintln(a);\n// [4, 2, 3]"
    },
    {
      "id": "s9-100",
      "sectionId": "s9",
      "title": "元素赋值",
      "kind": "text",
      "body": "更新数组中的元素"
    },
    {
      "id": "s9-101",
      "sectionId": "s9",
      "title": "连接数组",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2];\nlet b = [3];\nlet c = a + b;\n\nprintln(c);\n// [1, 2, 3]"
    },
    {
      "id": "s9-102",
      "sectionId": "s9",
      "title": "连接数组",
      "kind": "text",
      "body": "使用 `+` 运算符来连接数组"
    },
    {
      "id": "s9-103",
      "sectionId": "s9",
      "title": "数组相减",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2, 2, 3];\nlet b = [2];\nlet c = a - b;\n\nprintln(c);\n// [1, 3]"
    },
    {
      "id": "s9-104",
      "sectionId": "s9",
      "title": "数组相减",
      "kind": "text",
      "body": "获取两个数组之间的差异。"
    },
    {
      "id": "s10-105",
      "sectionId": "s10",
      "title": "函数声明",
      "kind": "code",
      "lang": "rust",
      "code": "fn sum(a, b) {\n  return a + b;\n}\n\nprintln(sum(5, 10));\n// 15"
    },
    {
      "id": "s10-106",
      "sectionId": "s10",
      "title": "函数声明",
      "kind": "text",
      "body": "函数是一等公民"
    },
    {
      "id": "s10-107",
      "sectionId": "s10",
      "title": "函数调用",
      "kind": "code",
      "lang": "rust",
      "code": "fn greet(name) {\n  println(\"Hi, \" + name + \"!\");\n}\n\ngreet(\"John\", \"Doe\");\n// Hi, John!"
    },
    {
      "id": "s10-108",
      "sectionId": "s10",
      "title": "函数调用",
      "kind": "text",
      "body": "参数的数量可以调整"
    },
    {
      "id": "s10-109",
      "sectionId": "s10",
      "title": "匿名函数",
      "kind": "code",
      "lang": "js",
      "code": "let sum = |a, b| {\n  return a + b;\n};\n\nprintln(sum(5, 10));\n// 15"
    },
    {
      "id": "s10-110",
      "sectionId": "s10",
      "title": "匿名函数",
      "kind": "text",
      "body": "Hook 也支持匿名函数"
    },
    {
      "id": "s10-111",
      "sectionId": "s10",
      "title": "闭包",
      "kind": "code",
      "lang": "js",
      "code": "let pi = 3.14;"
    },
    {
      "id": "s10-112",
      "sectionId": "s10",
      "title": "闭包",
      "kind": "code",
      "lang": "rust",
      "code": "fn area(r) {\n  return pi * r * r;\n}\n\nprintln(area(5));\n// 78.5"
    },
    {
      "id": "s10-113",
      "sectionId": "s10",
      "title": "闭包",
      "kind": "text",
      "body": "Hook 中的闭包只捕获数值"
    },
    {
      "id": "s10-114",
      "sectionId": "s10",
      "title": "高阶函数",
      "kind": "code",
      "lang": "rust",
      "code": "fn apply(f, x) {\n  return f(x);\n}\n\nfn double(x) {\n  return x * 2;\n}\n\nprintln(apply(double, 5));\n// 10"
    },
    {
      "id": "s10-115",
      "sectionId": "s10",
      "title": "高阶函数",
      "kind": "text",
      "body": "函数可以作为参数传递或返回"
    },
    {
      "id": "s10-116",
      "sectionId": "s10",
      "title": "函数的语法糖",
      "kind": "code",
      "lang": "rust",
      "code": "fn factorial(n) =>\n  if (n == 0) 1\n  else n * factorial(n - 1);\n\nprintln(factorial(5));\n// 120"
    },
    {
      "id": "s10-117",
      "sectionId": "s10",
      "title": "函数的语法糖",
      "kind": "text",
      "body": "当函数体是单个表达式时使用 `=>`"
    },
    {
      "id": "s10-118",
      "sectionId": "s10",
      "title": "递归",
      "kind": "code",
      "lang": "rust",
      "code": "fn fib(n) {\n  if (n < 2)\n    return n;\n  return fib(n - 1) + fib(n - 2);\n}\n\nprintln(fib(10));\n// 55"
    },
    {
      "id": "s10-119",
      "sectionId": "s10",
      "title": "递归",
      "kind": "text",
      "body": "支持递归"
    },
    {
      "id": "s10-120",
      "sectionId": "s10",
      "title": "内置函数",
      "kind": "code",
      "lang": "js",
      "code": "println(type(5));\n// number\nprintln(\"1\" + to_string(2));\n// 12\nprintln(len(\"foo\"));\n// 3"
    },
    {
      "id": "s10-121",
      "sectionId": "s10",
      "title": "内置函数",
      "kind": "text",
      "body": "有许多内置函数"
    },
    {
      "id": "s10-122",
      "sectionId": "s10",
      "title": "更多内置函数",
      "kind": "qa",
      "front": "`print`",
      "back": "`println` | `type`"
    },
    {
      "id": "s10-123",
      "sectionId": "s10",
      "title": "更多内置函数",
      "kind": "qa",
      "front": "`is_nil`",
      "back": "`is_bool` | `to_number`"
    },
    {
      "id": "s10-124",
      "sectionId": "s10",
      "title": "更多内置函数",
      "kind": "qa",
      "front": "`to_string`",
      "back": "`hex` | `len`"
    },
    {
      "id": "s10-125",
      "sectionId": "s10",
      "title": "更多内置函数",
      "kind": "qa",
      "front": "`exit`",
      "back": "`assert` | `panic`"
    },
    {
      "id": "s10-126",
      "sectionId": "s10",
      "title": "更多内置函数",
      "kind": "text",
      "body": "参见：[内置函数](https://github.com/hook-lang/hook/blob/main/docs/built-in.md)"
    },
    {
      "id": "s11-127",
      "sectionId": "s11",
      "title": "结构体",
      "kind": "code",
      "lang": "rust",
      "code": "struct Point {\n  x, y\n}"
    },
    {
      "id": "s11-128",
      "sectionId": "s11",
      "title": "结构体",
      "kind": "code",
      "lang": "js",
      "code": "let p = Point { 5, 10 };\n\nprintln(p);\n// {x: 5, y: 10}"
    },
    {
      "id": "s11-129",
      "sectionId": "s11",
      "title": "结构体",
      "kind": "text",
      "body": "结构体是记录的原型"
    },
    {
      "id": "s11-130",
      "sectionId": "s11",
      "title": "访问字段",
      "kind": "code",
      "lang": "js",
      "code": "println(p.x); // 5\nprintln(p.y); // 10"
    },
    {
      "id": "s11-131",
      "sectionId": "s11",
      "title": "访问字段",
      "kind": "text",
      "body": "使用 `.` 来访问记录中的字段"
    },
    {
      "id": "s11-132",
      "sectionId": "s11",
      "title": "字段赋值",
      "kind": "code",
      "lang": "js",
      "code": "p.x = 10;\np.y = 20;\n\nprintln(p);\n// {x: 10, y: 20}"
    },
    {
      "id": "s11-133",
      "sectionId": "s11",
      "title": "字段赋值",
      "kind": "text",
      "body": "更新记录中字段的值。"
    },
    {
      "id": "s12-134",
      "sectionId": "s12",
      "title": "解构数组",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2];\nlet [x, y] = a;\n\nprintln(x); // 1\nprintln(y); // 2"
    },
    {
      "id": "s12-135",
      "sectionId": "s12",
      "title": "解构数组",
      "kind": "text",
      "body": "变量被声明并赋值"
    },
    {
      "id": "s12-136",
      "sectionId": "s12",
      "title": "解构记录",
      "kind": "code",
      "lang": "js",
      "code": "let p = { x: 5, y: 10 };\nlet { x } = p;\n\nprintln(x);\n// 5"
    },
    {
      "id": "s12-137",
      "sectionId": "s12",
      "title": "解构记录",
      "kind": "text",
      "body": "使用 `{}` 来解构记录"
    },
    {
      "id": "s12-138",
      "sectionId": "s12",
      "title": "占位符",
      "kind": "code",
      "lang": "js",
      "code": "let a = [1, 2];\nlet [x] = a;\nlet [_, y] = a;\n\nprintln(x); // 1\nprintln(y); // 2"
    },
    {
      "id": "s12-139",
      "sectionId": "s12",
      "title": "占位符",
      "kind": "text",
      "body": "使用 `_` 跳过前导或中间元素。"
    },
    {
      "id": "s13-140",
      "sectionId": "s13",
      "title": "导入模块",
      "kind": "code",
      "lang": "js",
      "code": "import math;"
    },
    {
      "id": "s13-141",
      "sectionId": "s13",
      "title": "导入模块",
      "kind": "code",
      "lang": "js",
      "code": "println(math.sqrt(25));\n// 5"
    },
    {
      "id": "s13-142",
      "sectionId": "s13",
      "title": "导入模块",
      "kind": "text",
      "body": "使用 `import` 将一个模块引入作用域。"
    },
    {
      "id": "s13-143",
      "sectionId": "s13",
      "title": "导出符号",
      "kind": "code",
      "lang": "rust",
      "code": "// my_module.hk\nfn useful_fn() {\n  return \"Nothing\";\n}\n\nreturn { useful: useful_fn };"
    },
    {
      "id": "s13-144",
      "sectionId": "s13",
      "title": "导出符号",
      "kind": "text",
      "body": "返回一个包含要导出符号的记录。"
    },
    {
      "id": "s13-145",
      "sectionId": "s13",
      "title": "导入本地模块",
      "kind": "code",
      "lang": "python",
      "code": "import \"./my_module.hk\" as my;"
    },
    {
      "id": "s13-146",
      "sectionId": "s13",
      "title": "导入本地模块",
      "kind": "code",
      "lang": "js",
      "code": "println(my.useful());\n// Nothing"
    },
    {
      "id": "s13-147",
      "sectionId": "s13",
      "title": "导入本地模块",
      "kind": "text",
      "body": "指定本地模块的路径。"
    },
    {
      "id": "s13-148",
      "sectionId": "s13",
      "title": "选择性导入",
      "kind": "code",
      "lang": "js",
      "code": "import { pow, sqrt } from math;\n\nlet [ b, c ] = [ 4, 3 ];\nlet a = sqrt(pow(b, 2) + pow(c, 2));\n\nprintln(a);\n// 5"
    },
    {
      "id": "s13-149",
      "sectionId": "s13",
      "title": "选择性导入",
      "kind": "text",
      "body": "使用 `{}` 导入特定的符号。"
    },
    {
      "id": "s13-150",
      "sectionId": "s13",
      "title": "核心模块",
      "kind": "qa",
      "front": "`math`",
      "back": "`os` | `io` | `numbers`"
    },
    {
      "id": "s13-151",
      "sectionId": "s13",
      "title": "核心模块",
      "kind": "qa",
      "front": "`strings`",
      "back": "`arrays` | `utf8` | `hashing`"
    },
    {
      "id": "s13-152",
      "sectionId": "s13",
      "title": "核心模块",
      "kind": "qa",
      "front": "`encoding`",
      "back": "`socket` | `json` | `lists`"
    },
    {
      "id": "s13-153",
      "sectionId": "s13",
      "title": "核心模块",
      "kind": "text",
      "body": "参见：[核心模块](https://github.com/hook-lang/hook/blob/main/docs/core-modules.md)"
    },
    {
      "id": "s13-154",
      "sectionId": "s13",
      "title": "扩展模块",
      "kind": "qa",
      "front": "`bigint`",
      "back": "`crypto` | `curl` | `fastcgi`"
    },
    {
      "id": "s13-155",
      "sectionId": "s13",
      "title": "扩展模块",
      "kind": "qa",
      "front": "`geohash`",
      "back": "`leveldb` | `mysql` | `redis`"
    },
    {
      "id": "s13-156",
      "sectionId": "s13",
      "title": "扩展模块",
      "kind": "qa",
      "front": "`regex`",
      "back": "`sqlite` | `uuid` | `zeromq`"
    },
    {
      "id": "s13-157",
      "sectionId": "s13",
      "title": "扩展模块",
      "kind": "text",
      "body": "这是扩展模块的列表。"
    },
    {
      "id": "s13-158",
      "sectionId": "s13",
      "title": "**io** 模块",
      "kind": "code",
      "lang": "js",
      "code": "import { stderr, writeln } from io;\n\nwriteln(stderr, \"Something went wrong\");\n// Something went wrong"
    },
    {
      "id": "s13-159",
      "sectionId": "s13",
      "title": "**io** 模块",
      "kind": "text",
      "body": "使用 `io` 模块将内容输出到 `stderr`"
    },
    {
      "id": "s13-160",
      "sectionId": "s13",
      "title": "**hashing** 模块",
      "kind": "code",
      "lang": "python",
      "code": "import hashing as h;"
    },
    {
      "id": "s13-161",
      "sectionId": "s13",
      "title": "**hashing** 模块",
      "kind": "code",
      "lang": "js",
      "code": "let d = h.sha256(\"Hello, world!\");\n\nprintln(hex(d));\n// 315f5bdb76d078c43b8ac0064e4a..."
    },
    {
      "id": "s13-162",
      "sectionId": "s13",
      "title": "**hashing** 模块",
      "kind": "text",
      "body": "`hashing` 模块提供哈希函数"
    },
    {
      "id": "s13-163",
      "sectionId": "s13",
      "title": "**json** 模块",
      "kind": "code",
      "lang": "js",
      "code": "import json;"
    },
    {
      "id": "s13-164",
      "sectionId": "s13",
      "title": "**json** 模块",
      "kind": "code",
      "lang": "js",
      "code": "let j = '{\"x\": 1, \"y\": 2}';\nlet p = json.decode(j);\n\nprintln(p.x); // 1\n\nlet k = json.encode(p);\nprintln(type(k)); // string"
    },
    {
      "id": "s13-165",
      "sectionId": "s13",
      "title": "**json** 模块",
      "kind": "text",
      "body": "使用 `json` 模块处理 JSON。"
    },
    {
      "id": "s14-166",
      "sectionId": "s14",
      "title": "错误",
      "kind": "code",
      "lang": "js",
      "code": "println(to_int(\"foo\"));\n\n// runtime error: type error: argument #1 is not a convertible string\n//   at to_int() in <native>\n//   at main() in example.hk:1"
    },
    {
      "id": "s14-167",
      "sectionId": "s14",
      "title": "错误",
      "kind": "text",
      "body": "Hook 使用 panic 模式进行错误处理。当出现错误时，解释器会停止运行"
    },
    {
      "id": "s14-168",
      "sectionId": "s14",
      "title": "语法错误",
      "kind": "code",
      "lang": "js",
      "code": "println(\"Hello, World!\");\n\n// syntax error: unexpected end of file\n//   at main() in example.hk:1,25"
    },
    {
      "id": "s14-169",
      "sectionId": "s14",
      "title": "语法错误",
      "kind": "text",
      "body": "Hook 具有严格的语法"
    },
    {
      "id": "s14-170",
      "sectionId": "s14",
      "title": "崩溃",
      "kind": "code",
      "lang": "js",
      "code": "panic(\"Something went wrong\");\n\n// panic: Something went wrong\n//   at main() in example.hk:1"
    },
    {
      "id": "s14-171",
      "sectionId": "s14",
      "title": "崩溃",
      "kind": "text",
      "body": "使用内置函数 `panic` 来引发错误"
    },
    {
      "id": "s14-172",
      "sectionId": "s14",
      "title": "断言",
      "kind": "code",
      "lang": "js",
      "code": "assert(5 > 10, \"5 is not greater than 10\");\n\n// assert: 5 is not greater than 10\n//   at main() in example.hk:1"
    },
    {
      "id": "s14-173",
      "sectionId": "s14",
      "title": "断言",
      "kind": "text",
      "body": "使用内置函数 `assert` 来检查条件"
    },
    {
      "id": "s14-174",
      "sectionId": "s14",
      "title": "返回错误",
      "kind": "code",
      "lang": "rust",
      "code": "fn divide(a, b) {\n  if (b == 0)\n    return [nil, \"division by zero\"];\n  return a / b;\n}\n\nif (let [ok, err] = divide(5, 0); ok) {\n  println(ok);\n} else {\n  println(err);\n}\n// division by zero"
    },
    {
      "id": "s14-175",
      "sectionId": "s14",
      "title": "返回错误",
      "kind": "text",
      "body": "使用一对来返回一个值和一个错误"
    },
    {
      "id": "s14-176",
      "sectionId": "s14",
      "title": "传递错误",
      "kind": "code",
      "lang": "rust",
      "code": "if (let [ok, err] = divide(5, 0); err) {\n  return [nil, err];\n}"
    },
    {
      "id": "s14-177",
      "sectionId": "s14",
      "title": "传递错误",
      "kind": "text",
      "body": "传递错误而不处理它"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/hook.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/hook.md",
    "lang": "zh",
    "mode": "local"
  }
}