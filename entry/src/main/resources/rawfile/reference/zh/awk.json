{
  "id": "awk",
  "name": "Awk 备忘清单",
  "title": "这是 [GNU awk](https://www.gnu.org/software/gawk/manual/gawk.html) 的单页快速参考备忘单，其中涵盖了常用的 `awk` 表达式和命令。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/awk.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Awk 变量",
      "startIndex": 17
    },
    {
      "id": "s3",
      "title": "Awk 运算符",
      "startIndex": 33
    },
    {
      "id": "s4",
      "title": "Awk 函数",
      "startIndex": 42
    },
    {
      "id": "s5",
      "title": "Awk 数组",
      "startIndex": 44
    },
    {
      "id": "s6",
      "title": "Awk 条件",
      "startIndex": 50
    },
    {
      "id": "s7",
      "title": "Awk 循环",
      "startIndex": 55
    },
    {
      "id": "s8",
      "title": "Awk 格式化打印",
      "startIndex": 67
    },
    {
      "id": "s9",
      "title": "各种各样的",
      "startIndex": 76
    },
    {
      "id": "s10",
      "title": "另见",
      "startIndex": 79
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这是 [GNU awk](https://www.gnu.org/software/gawk/manual/gawk.html) 的单页快速参考备忘单，其中涵盖了常用的 `awk` 表达式和命令。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "试试",
      "kind": "text",
      "body": "该程序可用于选择文件中的特定记录并对其执行操作"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ awk -F: '{print $1, $NF}' /etc/passwd"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "| - | -             | -                         |\n|---|---------------|---------------------------|\n|   | `-F:`         | 冒号作为分隔符   |\n|   | `{...}`       | awk 程序       |\n|   | `print`       | 打印当前记录   |\n|   | `$1`          | 第一个字段     |\n|   | `$NF`         | 最后一个字段   |\n|   | `/etc/passwd` | 输入数据文件   |"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Awk 程序",
      "kind": "code",
      "lang": "bash",
      "code": "BEGIN          {<初始化>} \n   <pattern 1> {<计划动作>} \n   <pattern 2> {<计划动作>} \n   ...\nEND            {< 最后的动作 >}"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "%E7%A4%BA%E4%BE%8B",
      "kind": "code",
      "lang": "bash",
      "code": "awk%20'%0A%20%20%20%20BEGIN%20%7B%20print%20%22%5Cn%3E%3E%3EStart%22%20%7D%0A%20%20%20%20!%2F(login%7Cshutdown)%2F%20%7B%20print%20NR%2C%20%240%20%7D%0A%20%20%20%20END%20%7B%20print%20%22%3C%3C%3CEND%5Cn%22%20%7D%0A'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "%E5%8F%98%E9%87%8F",
      "kind": "code",
      "lang": "bash",
      "code": "%20%20%20%20%20%20%20%20%20%20%241%20%20%20%20%20%20%242%2F%24(NF-1)%20%20%20%20%243%2F%24NF%0A%20%20%20%20%20%20%20%20%20%20%20%E2%96%BC%20%20%20%20%20%20%20%20%20%20%E2%96%BC%20%20%20%20%20%20%20%20%20%20%20%E2%96%BC%20%0A%20%20%20%20%20%20%20%20%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%20ID%20%20%E2%94%82%20%20WEBSITE%20%20%20%20%20%E2%94%82%20%20URI%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%A4%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%201%20%20%20%E2%94%82%20%20baidu.com%20%20%20%E2%94%82%20%20awk%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%BC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%A4%0A%240%2FNR%20%E2%96%B6%20%E2%94%82%20%202%20%20%20%E2%94%82%20%20google.com%20%20%E2%94%82%20%2025%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%B4%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%B4%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%0A%23%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%0Aawk%20-F%3A%20'%7Bprint%20%241%2C%24NF%7D'%20%2Fetc%2Fpasswd%0A%23%20%E5%B8%A6%E8%A1%8C%E5%8F%B7%0Aawk%20-F%3A%20'%7Bprint%20NR%2C%20%240%7D'%20%2Fetc%2Fpasswd%0A%23%20%E5%80%92%E6%95%B0%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%0Aawk%20-F%3A%20'%7Bprint%20%24(NF-1)%7D'%20%2Fetc%2Fpasswd%0A%23%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E7%AC%A6%E4%B8%B2%0Aawk%20-F%3A%20'%7Bprint%20%241%20%22%3D%22%20%246%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Awk 变量](#awk-变量)"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "Awk%20%E7%A8%8B%E5%BA%8F%E7%A4%BA%E4%BE%8B",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7Bprint%20%22hello%20world%22%7D'%20%20%20%20%20%20%20%20%23%20%E6%89%93%E5%8D%B0%20%22hello%20world%22%0Aawk%20-F%3A%20'%7Bprint%20%241%7D'%20%2Fetc%2Fpasswd%20%20%20%20%20%20%20%20%20%23%20-F%3A%20%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%88%86%E9%9A%94%E7%AC%A6%0A%23%20%2Fpattern%2F%20%E4%BB%85%E5%AF%B9%E5%8C%B9%E9%85%8D%E7%9A%84%E6%A8%A1%E5%BC%8F%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C%0Aawk%20-F%3A%20'%2Froot%2F%20%7Bprint%20%241%7D'%20%2Fetc%2Fpasswd%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%23%20BEGIN%20%E5%9D%97%E5%9C%A8%E5%BC%80%E5%A7%8B%E6%97%B6%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%0Aawk%20-F%3A%20'BEGIN%20%7B%20print%20%22uid%22%7D%20%7B%20print%20%241%20%7D'%20%2Fetc%2Fpasswd%20%20%20%20%20%0A%23%20END%20%E5%9D%97%E5%9C%A8%E6%9C%80%E5%90%8E%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%0Aawk%20-F%3A%20'%7Bprint%20%241%7D%20END%20%7B%20print%20%22-done-%22%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "条件",
      "kind": "code",
      "lang": "bash",
      "code": "awk -F: '$3>30 {print $1}' /etc/passwd"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Conditions 条件](#awk-条件)"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "%E7%94%9F%E6%88%90%201000%20%E4%B8%AA%E7%A9%BA%E6%A0%BC",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%7B%0A%20%20%20%20while%20(a%2B%2B%20%3C%201000)%0A%20%20%20%20%20%20%20%20s%3Ds%20%22%20%22%3B%0A%20%20%20%20print%20s%0A%7D'",
      "encoded": true
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Loops](#awk-循环)"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "%E6%95%B0%E7%BB%84%20Arrays",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20fruits%5B%22mango%22%5D%20%3D%20%22yellow%22%3B%0A%20%20%20fruits%5B%22orange%22%5D%20%3D%20%22orange%22%0A%20%20%20for(fruit%20in%20fruits)%20%7B%0A%20%20%20%20%20print%20fruit%20%22%20%E7%9A%84%E9%A2%9C%E8%89%B2%E6%98%AF%20%22%20fruits%5Bfruit%5D%0A%20%20%20%7D%0A%7D'",
      "encoded": true
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Awk 数组](#awk-数组)"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "%E5%87%BD%E6%95%B0%20Functions",
      "kind": "code",
      "lang": "shell",
      "code": "%23%20%3D%3E%205%0Aawk%20'BEGIN%7Bprint%20length(%22hello%22)%7D'%0A%23%20%3D%3E%20HELLO%0Aawk%20'BEGIN%7Bprint%20toupper(%22hello%22)%7D'%0A%23%20%3D%3E%20hel%0Aawk%20'BEGIN%7Bprint%20substr(%22hello%22%2C%201%2C%203)%7D'",
      "encoded": true
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Functions](#awk-函数)"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F",
      "kind": "text",
      "body": "%3A-%20%7C%20%3A-%0A%3A-%20%7C%20%3A-%0A%60%240%60%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%85%A8%E7%BA%BF%0A%60%241%2C%20%242...%24NF%60%20%7C%20%E7%AC%AC%E4%B8%80%E4%B8%AA%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E2%80%A6%E2%80%A6%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%0A%60NR%60%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%AE%B0%E5%BD%95%E6%80%BB%E6%95%B0(%60N%60umber%20of%20%60R%60ecords)%0A%60NF%60%20%20%20%20%20%20%20%20%20%20%20%7C%20N%E4%B8%AA%E5%AD%97%E6%AE%B5(%60N%60number%20of%20%60F%60ields)%0A%60OFS%60%20%20%20%20%20%20%20%20%20%20%7C%20%60O%60utput%20%60F%60ield%20%60S%60eparator%3Cbr%3E%20%E8%BE%93%E5%87%BA%E5%AD%97%E6%AE%B5%E5%88%86%E9%9A%94%E7%AC%A6%20_(default%20%22%20%22)_%0A%60FS%60%20%20%20%20%20%20%20%20%20%20%20%7C%20input%20%60F%60ield%20%60S%60eparator%20%3Cbr%3E%20%E8%BE%93%E5%85%A5%E5%AD%97%E6%AE%B5%E5%88%86%E9%9A%94%E7%AC%A6%20_(default%20%22%20%22)_%0A%60ORS%60%20%20%20%20%20%20%20%20%20%20%7C%20%60O%60utput%20%60R%60ecord%20%60S%60eparator%20%3Cbr%3E%20%E8%BE%93%E5%87%BA%E8%AE%B0%E5%BD%95%E5%88%86%E9%9A%94%E7%AC%A6%20_(default%20%22%5Cn%22)_%0A%60RS%60%20%20%20%20%20%20%20%20%20%20%20%7C%20input%20%60R%60ecord%20%60S%60eparator%20%3Cbr%3E%20%E8%BE%93%E5%85%A5%E8%AE%B0%E5%BD%95%E5%88%86%E9%9A%94%E7%AC%A6%20_(default%20%22%5Cn%22)_%0A%60FILENAME%60%20%20%20%20%20%7C%20%E6%96%87%E4%BB%B6%E5%90%8D",
      "encoded": true
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "%E8%A1%A8%E8%BE%BE%E5%BC%8F",
      "kind": "text",
      "body": "%3A-%20%7C%20%3A-%0A%3A-%20%7C%20%3A-%0A%60%241%20%3D%3D%20%22root%22%60%20%20%20%20%20%20%20%7C%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%AD%89%E4%BA%8E%E6%A0%B9%0A%60%7Bprint%20%24(NF-1)%7D%60%20%20%20%20%7C%20%E5%80%92%E6%95%B0%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%0A%60NR!%3D1%7Bprint%20%240%7D%60%20%20%20%20%7C%20%E4%BB%8E%E7%AC%AC%202%20%E6%9D%A1%E8%AE%B0%E5%BD%95%E5%BC%80%E5%A7%8B%0A%60NR%20%3E%203%60%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E4%BB%8E%E7%AC%AC%204%20%E6%9D%A1%E8%AE%B0%E5%BD%95%E5%BC%80%E5%A7%8B%0A%60NR%20%3D%3D%201%60%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95%0A%60END%7Bprint%20NR%7D%60%20%20%20%20%20%20%7C%20%E6%80%BB%E8%AE%B0%E5%BD%95%0A%60BEGIN%7Bprint%20OFMT%7D%60%20%20%7C%20%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%0A%60%7Bprint%20NR%2C%20%240%7D%60%20%20%20%20%20%7C%20%E8%A1%8C%E5%8F%B7%0A%60%7Bprint%20NR%20%22%20%20%22%20%240%7D%60%20%7C%20%E8%A1%8C%E5%8F%B7(%E9%80%89%E9%A1%B9%E5%8D%A1)%0A%60%7B%241%20%3D%20NR%3B%20print%7D%60%20%20%20%7C%20%E7%94%A8%E8%A1%8C%E5%8F%B7%E6%9B%BF%E6%8D%A2%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%0A%60%24NF%20%3E%204%60%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%20%3E%204%0A%60NR%20%25%202%20%3D%3D%200%60%20%20%20%20%20%20%20%20%7C%20%E7%94%9A%E8%87%B3%E8%AE%B0%E5%BD%95%0A%60NR%3D%3D10%2C%20NR%3D%3D20%60%20%20%20%20%20%7C%20%E8%AE%B0%E5%BD%95%2010%20%E5%88%B0%2020%0A%60BEGIN%7Bprint%20ARGC%7D%60%20%20%7C%20%E6%80%BB%20%60arguments%60%0A%60ORS%3DNR%255%3F%22%2C%22%3A%22%5Cn%22%60%20%20%7C%20%E8%BF%9E%E6%8E%A5%E8%AE%B0%E5%BD%95",
      "encoded": true
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "示例",
      "kind": "text",
      "body": "打印总和和平均值"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "awk -F: '{sum += $3}\n     END { print sum, sum/NR }\n' /etc/passwd"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "打印参数"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    for (i = 1; i < ARGC; i++)\n        print ARGV[i] }' a b c"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "输出字段分隔符为逗号"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%20FS%3D%22%3A%22%3BOFS%3D%22%2C%22%7D%0A%20%20%20%20%7Bprint%20%241%2C%242%2C%243%2C%244%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "匹配位置"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(match(%22One%20Two%20Three%22%2C%20%22Tw%22))%0A%20%20%20%20%20%20%20%20print%20RSTART%20%7D'",
      "encoded": true
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "匹配时长"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(match(%22One%20Two%20Three%22%2C%20%22re%22))%0A%20%20%20%20%20%20%20%20print%20RLENGTH%20%7D'",
      "encoded": true
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "仅限 GNU awk",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`ENVIRON`     | 环境变量\n`IGNORECASE`  | 忽略大小写\n`CONVFMT`     | 转换格式\n`ERRNO`       | 系统错误\n`FIELDWIDTHS` | 固定宽度字段"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F",
      "kind": "text",
      "body": "%3A-%20%7C%20%3A-%0A%3A-%20%7C%20%3A-%0A%60ARGC%60%20%20%20%20%7C%20%E6%95%B0%E5%AD%97%E6%88%96%E5%8F%82%E6%95%B0%0A%60ARGV%60%20%20%20%20%7C%20%E5%8F%82%E6%95%B0%E6%95%B0%E7%BB%84%0A%60FNR%60%20%20%20%20%20%7C%20%E6%96%87%E4%BB%B6%E8%AE%B0%E5%BD%95%E6%95%B0(%60F%60ile%20%60N%60umber%20of%20%60R%60ecords)%0A%60OFMT%60%20%20%20%20%7C%20%E6%95%B0%E5%AD%97%E6%A0%BC%E5%BC%8F%20_(default%20%22%25.6g%22)_%0A%60RSTART%60%20%20%7C%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE%0A%60RLENGTH%60%20%7C%20%E6%AF%94%E8%B5%9B%E6%97%B6%E9%95%BF%0A%60SUBSEP%60%20%20%7C%20%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%88%86%E9%9A%94%E7%AC%A6%20_(default%20%22%5C034%22)_%0A%60ARGIND%60%20%20%7C%20%E5%8F%82%E6%95%B0%E7%B4%A2%E5%BC%95",
      "encoded": true
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-v%20var1%3D%22Hello%22%20-v%20var2%3D%22Wold%22%20'%0A%20%20%20%20END%20%7Bprint%20var1%2C%20var2%7D%0A'%20%3C%2Fdev%2Fnull",
      "encoded": true
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "%E4%BD%BF%E7%94%A8%20shell%20%E5%8F%98%E9%87%8F",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-v%20varName%3D%22%24PWD%22%20'%0A%20%20%20%20END%20%7Bprint%20varName%7D'%20%3C%2Fdev%2Fnull",
      "encoded": true
    },
    {
      "id": "s3-33",
      "sectionId": "s3",
      "title": "%E8%BF%90%E7%AE%97%E7%AC%A6",
      "kind": "text",
      "body": "%3A-%20%7C%20%3A-%0A%3A-%20%7C%20%3A-%0A%60%7Bprint%20%241%7D%60%20%20%20%20%20%7C%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%0A%60%242%20%3D%3D%20%22foo%22%60%20%20%20%20%7C%20%E7%AD%89%E4%BA%8E%0A%60%242%20!%3D%20%22foo%22%60%20%20%20%20%7C%20%E4%B8%8D%E7%AD%89%E4%BA%8E%0A%60%22foo%22%20in%20array%60%20%7C%20%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD",
      "encoded": true
    },
    {
      "id": "s3-34",
      "sectionId": "s3",
      "title": "正则表达式",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n| `/regex/`       | 行匹配|\n| `!/regex/`      | 行不匹配|\n| `$1 ~ /regex/`  | 字段匹配|\n| `$1 !~ /regex/` | 字段不匹配|"
    },
    {
      "id": "s3-35",
      "sectionId": "s3",
      "title": "更多条件",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`($2 <= 4 \\|\\| $3 < 20)` | 或者\n`($1 == 4 && $3 < 20)`   | 和"
    },
    {
      "id": "s3-36",
      "sectionId": "s3",
      "title": "运算符 - 算术运算",
      "kind": "text",
      "body": "• `+`\n• `-`\n• `*`\n• `/`\n• `%`\n• `++`\n• `--`"
    },
    {
      "id": "s3-37",
      "sectionId": "s3",
      "title": "速记作业",
      "kind": "text",
      "body": "• `+=`\n• `-=`\n• `*=`\n• `/=`\n• `%=`"
    },
    {
      "id": "s3-38",
      "sectionId": "s3",
      "title": "比较运算符",
      "kind": "text",
      "body": "• `==`\n• `!=`\n• `<`\n• `>`\n• `<=`\n• `>=`"
    },
    {
      "id": "s3-39",
      "sectionId": "s3",
      "title": "%E7%A4%BA%E4%BE%8B",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(%22foo%22%20~%20%22%5Efo%2B%24%22)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s3-40",
      "sectionId": "s3",
      "title": "%E4%B8%8D%E5%8C%B9%E9%85%8D",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20if%20(%22boo%22%20!~%20%22%5Efo%2B%24%22)%0A%20%20%20%20%20%20%20%20print%20%22Boo!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s3-41",
      "sectionId": "s3",
      "title": "%E5%A6%82%E6%9E%9C%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22foo%22%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s4-42",
      "sectionId": "s4",
      "title": "常用功能",
      "kind": "text",
      "body": "函数 | 描述\n:- | :-\n`index(s,t)`          | 字符串 `s` 中出现字符串 `t` 的位置，如果未找到则为 `0`\n`length(s)`           | 字符串 `s` 的长度(如果没有 `arg`，则为 `$0`)\n`rand`                | `0` 到 `1` 之间的随机数\n`substr(s,index,len)` | 返回从索引开始的 `s` 的 `len-char` 子字符串(从 `1` 开始计数)\n`srand`               | 为 `rand` 设置种子并返回之前的种子\n`int(x)`              | 将 `x` 截断为整数值\n`split(s,a,fs)`       | 将字符串 `s` 拆分为数组 `a` 由 `fs` 拆分，返回 `a` 的长度\n`match(s,r)`          | 字符串 `s` 中出现正则表达式 `r` 的位置，如果未找到，则为 `0`\n`sub(r,t,s)`          | 将 `t` 替换为字符串 `s` 中第一次出现的正则表达式 `r`(如果未给出 `s`，则替换为 `$0`)\n`gsub(r,t,s)`         | 用 `t` 替换字符串 `s` 中所有出现的正则表达式 `r`\n`system(cmd)`         | 执行cmd并返回退出状态\n`tolower(s)`          | 字符串 `s` 转小写\n`toupper(s)`          | 字符串 `s` 转大写\n`getline`             | 将 `$0` 设置为当前输入文件中的下一个输入记录"
    },
    {
      "id": "s4-43",
      "sectionId": "s4",
      "title": "%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'%0A%20%20%20%20%23%20%E8%BF%94%E5%9B%9E%E6%9C%80%E5%B0%8F%E6%95%B0%E9%87%8F%0A%20%20%20%20function%20find_min(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20if%20(num1%20%3C%20num2)%0A%20%20%20%20%20%20%20return%20num1%0A%20%20%20%20%20%20%20return%20num2%0A%20%20%20%20%7D%0A%20%20%20%20%23%20%E8%BF%94%E5%9B%9E%E6%9C%80%E5%A4%A7%E6%95%B0%E9%87%8F%0A%20%20%20%20function%20find_max(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20if%20(num1%20%3E%20num2)%0A%20%20%20%20%20%20%20return%20num1%0A%20%20%20%20%20%20%20return%20num2%0A%20%20%20%20%7D%0A%20%20%20%20%23%20%E4%B8%BB%E5%8A%9F%E8%83%BD%0A%20%20%20%20function%20main(num1%2C%20num2)%7B%0A%20%20%20%20%20%20%20result%20%3D%20find_min(num1%2C%20num2)%0A%20%20%20%20%20%20%20print%20%22Minimum%20%3D%22%2C%20result%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%20result%20%3D%20find_max(num1%2C%20num2)%0A%20%20%20%20%20%20%20print%20%22Maximum%20%3D%22%2C%20result%0A%20%20%20%20%7D%0A%20%20%20%20%23%20%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B%0A%20%20%20%20BEGIN%20%7B%0A%20%20%20%20%20%20%20main(10%2C%2060)%0A%20%20%20%20%7D%0A'",
      "encoded": true
    },
    {
      "id": "s5-44",
      "sectionId": "s5",
      "title": "%E5%B8%A6%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E7%BB%84",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20arr%5B0%5D%20%3D%20%22foo%22%3B%0A%20%20%20%20arr%5B1%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20print(arr%5B0%5D)%3B%20%23%20%3D%3E%20foo%0A%20%20%20%20delete%20arr%5B0%5D%3B%0A%20%20%20%20print(arr%5B0%5D)%3B%20%23%20%3D%3E%20%22%22%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-45",
      "sectionId": "s5",
      "title": "%E5%B8%A6%E9%94%AE%E7%9A%84%E6%95%B0%E7%BB%84",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20print(%22baz%22%20in%20assoc)%3B%20%23%20%3D%3E%200%0A%20%20%20%20print(%22foo%22%20in%20assoc)%3B%20%23%20%3D%3E%201%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-46",
      "sectionId": "s5",
      "title": "%E5%B8%A6%E6%8B%86%E5%88%86%E7%9A%84%E6%95%B0%E7%BB%84",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20split(%22foo%3Abar%3Abaz%22%2C%20arr%2C%20%22%3A%22)%3B%0A%20%20%20%20for%20(key%20in%20arr)%0A%20%20%20%20%20%20%20%20print%20arr%5Bkey%5D%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-47",
      "sectionId": "s5",
      "title": "带有排序的数组",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    arr[0] = 3\n    arr[1] = 2\n    arr[2] = 4\n    n = asort(arr)\n    for (i = 1; i <= n ; i++)\n        print(arr[i])\n}'"
    },
    {
      "id": "s5-48",
      "sectionId": "s5",
      "title": "%E5%A4%9A%E7%BB%B4",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20multidim%5B0%2C0%5D%20%3D%20%22foo%22%3B%0A%20%20%20%20multidim%5B0%2C1%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20multidim%5B1%2C0%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20multidim%5B1%2C1%5D%20%3D%20%22boo%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s5-49",
      "sectionId": "s5",
      "title": "多维迭代",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    array[1,2]=3;\n    array[2,3]=5;\n    for (comb in array) {\n        split(comb,sep,SUBSEP);\n        print sep[1], sep[2], \n        array[sep[1],sep[2]]\n    }\n}'"
    },
    {
      "id": "s6-50",
      "sectionId": "s6",
      "title": "if-else%20%E8%AF%AD%E5%8F%A5",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-v%20count%3D2%20'BEGIN%20%7B%0A%20%20%20%20if%20(count%20%3D%3D%201)%0A%20%20%20%20%20%20%20%20print%20%22Yes%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20print%20%22Huh%3F%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-51",
      "sectionId": "s6",
      "title": "%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-v%20count%3D2%20'BEGIN%20%7B%0A%20%20%20%20print%20(count%3D%3D1)%20%3F%20%22Yes%22%20%3A%20%22Huh%3F%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-52",
      "sectionId": "s6",
      "title": "%E5%AD%98%E5%9C%A8",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22foo%22%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20%22Fooey!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-53",
      "sectionId": "s6",
      "title": "%E4%B8%8D%E5%AD%98%E5%9C%A8",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22foo%22%5D%20%3D%20%22bar%22%3B%0A%20%20%20%20assoc%5B%22bar%22%5D%20%3D%20%22baz%22%3B%0A%20%20%20%20if%20(%22Huh%22%20in%20assoc%20%3D%3D%200%20)%0A%20%20%20%20%20%20%20%20print%20%22Huh!%22%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s6-54",
      "sectionId": "s6",
      "title": "switch",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20switch%20(NR%20*%202%20%2B%201)%20%7B%0A%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20case%20%2211%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20-%201%0A%20%20%20%20%20%20%20%20%20%20%20%20break%0A%20%20%20%20%20%20%20%20case%20%2F2%5B%5B%3Adigit%3A%5D%5D%2B%2F%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20%2B%201%0A%20%20%20%20%20%20%20%20case%20-1%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%20NR%20*%20-1%0A%20%20%20%20%7D%0A%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s7-55",
      "sectionId": "s7",
      "title": "for...i",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%2010%3B%20i%2B%2B)%0A%20%20%20%20%20%20%20%20print%20%22i%3D%22%20i%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-56",
      "sectionId": "s7",
      "title": "1 到 100 之间的 2 的幂",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    for (i = 1; i <= 100; i *= 2)\n        print i\n}'"
    },
    {
      "id": "s7-57",
      "sectionId": "s7",
      "title": "for...in",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20assoc%5B%22key1%22%5D%20%3D%20%22val1%22%0A%20%20%20%20assoc%5B%22key2%22%5D%20%3D%20%22val2%22%0A%20%20%20%20for%20(key%20in%20assoc)%0A%20%20%20%20%20%20%20%20print%20assoc%5Bkey%5D%3B%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-58",
      "sectionId": "s7",
      "title": "Arguments",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    for (argnum in ARGV)\n        print ARGV[argnum];\n}' a b c"
    },
    {
      "id": "s7-59",
      "sectionId": "s7",
      "title": "示例 - 反向记录",
      "kind": "code",
      "lang": "shell",
      "code": "awk -F: '{ x[NR] = $0 }\n    END {\n        for (i = NR; i > 0; i--)\n        print x[i]\n    }\n' /etc/passwd"
    },
    {
      "id": "s7-60",
      "sectionId": "s7",
      "title": "%E5%8F%8D%E5%90%91%E5%AD%97%E6%AE%B5",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20for%20(i%20%3D%20NF%3B%20i%20%3E%200%3B%20i--)%0A%20%20%20%20%20%20%20%20printf(%22%25s%20%22%2C%24i)%3B%0A%20%20%20%20print%20%22%22%0A%7D'%20%2Fetc%2Fpasswd",
      "encoded": true
    },
    {
      "id": "s7-61",
      "sectionId": "s7",
      "title": "按记录求和",
      "kind": "code",
      "lang": "shell",
      "code": "awk -F: '{\n    s=0;\n    for (i = 1; i <= NF; i++)\n        s += $i;\n    print s\n}' /etc/passwd"
    },
    {
      "id": "s7-62",
      "sectionId": "s7",
      "title": "总结整个文件",
      "kind": "code",
      "lang": "shell",
      "code": "awk -F: '\n    {for (i = 1; i <= NF; i++)\n        s += $i;\n    };\n    END{print s}\n' /etc/passwd"
    },
    {
      "id": "s7-63",
      "sectionId": "s7",
      "title": "while",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20while%20(a%20%3C%2010)%20%7B%0A%20%20%20%20%20%20%20%20print%20%22-%20%22%20%22%20concatenation%3A%20%22%20a%0A%20%20%20%20%20%20%20%20a%2B%2B%3B%0A%20%20%20%20%7D%0A%7D'",
      "encoded": true
    },
    {
      "id": "s7-64",
      "sectionId": "s7",
      "title": "do...while",
      "kind": "code",
      "lang": "shell",
      "code": "awk '{\n    i = 1\n    do {\n        print $0\n        i++\n    } while (i <= 5)\n}' /etc/passwd"
    },
    {
      "id": "s7-65",
      "sectionId": "s7",
      "title": "Break",
      "kind": "code",
      "lang": "shell",
      "code": "awk 'BEGIN {\n    break_num = 5\n    for (i = 0; i < 10; i++) {\n        print i\n        if (i == break_num)\n            break\n    }\n}'"
    },
    {
      "id": "s7-66",
      "sectionId": "s7",
      "title": "Continue",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%20%7B%0A%20%20%20%20for%20(x%20%3D%200%3B%20x%20%3C%3D%2010%3B%20x%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20if%20(x%20%3D%3D%205%20%7C%7C%20x%20%3D%3D%206)%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20printf%20%22%25d%20%22%2C%20x%0A%20%20%20%20%7D%0A%20%20%20%20print%20%22%22%0A%7D'",
      "encoded": true
    },
    {
      "id": "s8-67",
      "sectionId": "s8",
      "title": "%E7%94%A8%E6%B3%95%20-%20%E5%8F%B3%E5%AF%B9%E9%BD%90",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%7Bprintf%20%22%7C%2510s%7C%5Cn%22%2C%20%22hello%22%7D'%0A%23%20%7C%20%20%20%20%20hello%7C",
      "encoded": true
    },
    {
      "id": "s8-68",
      "sectionId": "s8",
      "title": "%E5%B7%A6%E5%AF%B9%E9%BD%90",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20'BEGIN%7Bprintf%20%22%7C%25-10s%7C%5Cn%22%2C%20%22hello%22%7D'%0A%23%20%7Chello%20%20%20%20%20%7C",
      "encoded": true
    },
    {
      "id": "s8-69",
      "sectionId": "s8",
      "title": "通用说明符",
      "kind": "text",
      "body": "特征符 | 描述\n:- | :-\n`c`           | ASCII 字符\n`d`           | 十进制整数\n`e`, `E`, `f` | 浮点格式\n`o`           | 无符号八进制值\n`s`           | 细绳\n`%`           | 文字百分比"
    },
    {
      "id": "s8-70",
      "sectionId": "s8",
      "title": "Space%20%E7%A9%BA%E9%97%B4",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-F%3A%20'%7B%0A%20%20%20%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%241%2C%20%24(NF-1)%0A%7D'%20%2Fetc%2Fpasswd%20%7C%20head%20-n%203",
      "encoded": true
    },
    {
      "id": "s8-71",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "输出"
    },
    {
      "id": "s8-72",
      "sectionId": "s8",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "root       /root\nbin        /bin\ndaemon     /sbin"
    },
    {
      "id": "s8-73",
      "sectionId": "s8",
      "title": "Header%20%E6%A0%87%E9%A2%98%E5%A4%B4",
      "kind": "code",
      "lang": "shell",
      "code": "awk%20-F%3A%20'BEGIN%20%7B%0A%20%20%20%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%22User%22%2C%20%22Home%22%0A%20%20%20%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%22----%22%2C%22----%22%7D%0A%20%20%20%20%7B%20printf%20%22%25-10s%20%25s%5Cn%22%2C%20%241%2C%20%24(NF-1)%20%7D%0A'%20%2Fetc%2Fpasswd%20%7C%20head%20-n%205",
      "encoded": true
    },
    {
      "id": "s8-74",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "输出"
    },
    {
      "id": "s8-75",
      "sectionId": "s8",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "User       Home\n----       ----\nroot       /root\nbin        /bin\ndaemon     /sbin"
    },
    {
      "id": "s9-76",
      "sectionId": "s9",
      "title": "正则表达式元字符",
      "kind": "text",
      "body": "• `\\`\n• `^`\n• `$`\n• `.`\n• `[`\n• `]`\n• `|`\n• `(`\n• `)`\n• `*`\n• `+`\n• `?`"
    },
    {
      "id": "s9-77",
      "sectionId": "s9",
      "title": "转义序列",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`\\b` | 退格\n`\\f` | 换页\n`\\n` | 换行(换行)\n`\\r` | 回车\n`\\t` | 水平选项卡\n`\\v` | 垂直选项卡"
    },
    {
      "id": "s9-78",
      "sectionId": "s9",
      "title": "运行脚本",
      "kind": "code",
      "lang": "shell",
      "code": "$ cat demo.awk\n#!/usr/bin/awk -f\nBEGIN { x = 23 }\n      { x += 2 }\nEND   { print x }\n$ awk -f demo.awk /etc/passwd\n69"
    },
    {
      "id": "s10-79",
      "sectionId": "s10",
      "title": "另见",
      "kind": "text",
      "body": "• [GNU awk 用户指南](https://www-zeuthen.desy.de/dv/documentation/unixguide/infohtml/gawk/gawk.html) _(www-zeuthen.desy.de)_\n• [AWK cheatsheet](https://gist.github.com/Rafe/3102414) _(gist.github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/awk.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/awk.md",
    "lang": "zh",
    "mode": "local"
  }
}