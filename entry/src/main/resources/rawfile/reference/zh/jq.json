{
  "id": "jq",
  "name": "jq 备忘清单",
  "title": "这个快速参考备忘单提供了使用 [jq](https://stedolan.github.io/jq/) 命令的各种方法。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/jq.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "学习示例",
      "startIndex": 8
    },
    {
      "id": "s3",
      "title": "另见",
      "startIndex": 47
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这个快速参考备忘单提供了使用 [jq](https://stedolan.github.io/jq/) 命令的各种方法。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "jq 就像用于 JSON 数据的 [sed](./sed.md) - 您可以使用它来切片、过滤、映射和转换结构化数据"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "• [jq 官网](https://stedolan.github.io/jq/) _(stedolan.github.io)_\n• [jq 命令使用](https://jaywcjlove.github.io/linux-command/c/jq.html) _(jaywcjlove.github.io)_"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "安装"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "code",
      "lang": "bash",
      "code": "$ sudo apt-get install jq # Debian& Ubuntu\n$ sudo dnf install jq     # Fedora \n$ sudo zypper install jq  # openSUSE\n$ sudo pacman -S jq    # Arch\n$ brew install jq      # macOS & Homebrew\n$ port install jq      # macOS & MacPorts"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "语法"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "code",
      "lang": "bash",
      "code": "$ jq [options] <jq filter> [file...]\n$ jq [options] --args <jq filter> [strings...]\n$ jq [options] --jsonargs <jq filter> [JSON_TEXTS...]"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "选项",
      "kind": "text",
      "body": ":- | -\n:- | -\n`-c`               | 紧凑而不是漂亮的输出\n`-n`               | 使用`null`作为单个输入值\n`-e`               | 根据输出设置退出状态代码\n`-s`               | 将所有输入读取（吸取）到数组中；应用过滤器\n`-r`               | 输出原始字符串，而不是JSON文本\n`-R`               | 读取原始字符串，而不是JSON文本\n`-C`               | 为 JSON 着色\n`-M`               | 单色（不要为JSON着色）\n`-S`               | 在输出上排序对象的键\n`--tab`            | 使用制表符进行缩进\n`--arg a v`        | 将变量 `$a` 设置为 value `<v>`\n`--argjson a v`    | 将变量 `$a` 设置为 JSON value `<v>`\n`--slurpfile a f`  | 将变量 `$a` 设置为从`<f>`读取的JSON文本数组\n`--rawfile a f`    | 将变量 `$a` 设置为包含`<f>`内容的字符串\n`--args`           | 其余参数是字符串参数，而不是文件\n`--jsonargs`       | 其余的参数是JSON参数，而不是文件\n`--`               | 终止参数处理"
    },
    {
      "id": "s2-8",
      "sectionId": "s2",
      "title": "获取一个键的值",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '{\"foo\": 42, \"bar\": \"less interesting data\"}' | jq '.foo'"
    },
    {
      "id": "s2-9",
      "sectionId": "s2",
      "title": "获取一个键的值",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "获取一个键的值",
      "kind": "code",
      "lang": "bash",
      "code": "42"
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "数组运算",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '[{\"name\":\"JSON\", \"good\":true}, {\"name\":\"XML\", \"good\":false}]' | jq '.[1]'"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "数组运算",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "数组运算",
      "kind": "code",
      "lang": "bash",
      "code": "{\n  \"name\": \"XML\",\n  \"good\": false\n}"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "构造一个数组/对象",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '{\"user\":\"stedolan\",\"titles\":[\"JQ Primer\", \"More JQ\"]}' | jq '{user, title: .titles[]}'"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "构造一个数组/对象",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "构造一个数组/对象",
      "kind": "code",
      "lang": "bash",
      "code": "{\n  \"user\": \"stedolan\",\n  \"title\": \"JQ Primer\"\n}\n{\n  \"user\": \"stedolan\",\n  \"title\": \"More JQ\"\n}"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "计算一个值的长度",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '[[1,2], \"string\", {\"a\":2}, null]' | jq '.[] | length'"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "计算一个值的长度",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "计算一个值的长度",
      "kind": "code",
      "lang": "bash",
      "code": "2\n6\n1\n0"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "取出数组中的键",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '{\"abc\": 1, \"abcd\": 2, \"Foo\": 3}' | jq 'keys'"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "取出数组中的键",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "取出数组中的键",
      "kind": "code",
      "lang": "bash",
      "code": "[\n  \"Foo\",\n  \"abc\",\n  \"abcd\"\n]"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "使用多个过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '{ \"foo\": 42, \"bar\": \"something else\", \"baz\": true}' | jq '.foo, .bar'"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "使用多个过滤器",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "使用多个过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "42\n\"something else\""
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "管道传递给下一个过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '[{\"name\":\"JSON\", \"good\":true}, {\"name\":\"XML\", \"good\":false}]' | jq '.[] | .name'"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "管道传递给下一个过滤器",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "管道传递给下一个过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "\"JSON\"\n\"XML\""
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "条件语句判断",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '[1,5,3,0,7]' | jq 'map(select(. >= 2))'"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "条件语句判断",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "条件语句判断",
      "kind": "code",
      "lang": "bash",
      "code": "[\n  5,\n  3,\n  7\n]"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "每个输入调用过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '[1,2,3]' | jq 'map(.+1)'"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "每个输入调用过滤器",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "每个输入调用过滤器",
      "kind": "code",
      "lang": "bash",
      "code": "[\n  2,\n  3,\n  4\n]"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "条件判断",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '2' | jq 'if . == 0 then \"zero\" elif . == 1 then \"one\" else \"many\" end'"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "条件判断",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "条件判断",
      "kind": "code",
      "lang": "bash",
      "code": "\"many\""
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "字符串插入值并进行运算",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo '42' | jq '\"The input was \\(.), which is one less than \\(.+1)\"'"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "字符串插入值并进行运算",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "字符串插入值并进行运算",
      "kind": "code",
      "lang": "bash",
      "code": "\"The input was 42, which is one less than 43\""
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "字符串转 JSON 数组",
      "kind": "code",
      "lang": "bash",
      "code": "$ echo 'a b c d' | jq -R 'split(\" \")'"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "字符串转 JSON 数组",
      "kind": "text",
      "body": "输出结果"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "字符串转 JSON 数组",
      "kind": "code",
      "lang": "json",
      "code": "[\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\"\n]"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "更改发布注册表",
      "kind": "code",
      "lang": "bash",
      "code": "echo \"$(jq '.publishConfig.registry = \"https://npm.pkg.github.com\"' package.json)\" > package.json"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "更改发布注册表",
      "kind": "text",
      "body": "将组织范围添加到包名称"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "更改发布注册表",
      "kind": "code",
      "lang": "bash",
      "code": "echo \"$(jq '.name = \"@scope/package\"' package.json)\" > package.json"
    },
    {
      "id": "s3-47",
      "sectionId": "s3",
      "title": "另见",
      "kind": "text",
      "body": "• [jq 官网](https://stedolan.github.io/jq/) _(stedolan.github.io)_\n• [jq 命令使用](https://jaywcjlove.github.io/linux-command/c/jq.html) _(jaywcjlove.github.io)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/jq.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/jq.md",
    "lang": "zh",
    "mode": "local"
  }
}