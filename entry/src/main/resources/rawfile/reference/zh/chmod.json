{
  "id": "chmod",
  "name": "Chmod 备忘清单",
  "title": "这份快速参考备忘单提供了文件权限的简要概述，以及 chmod 命令的操作",
  "icon": "reference/icons/zh/chmod.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "Chmod 示例",
      "startIndex": 14
    },
    {
      "id": "s3",
      "title": "Chmod 实践",
      "startIndex": 38
    },
    {
      "id": "s4",
      "title": "另见",
      "startIndex": 42
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "这份快速参考备忘单提供了文件权限的简要概述，以及 chmod 命令的操作"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "语法",
      "body": "```shell\n$ chmod [options] <permissions> <file> \n```"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "示例",
      "body": "```shell\n$ chmod 755 foo.txt\n$ chmod +x quickref.py\n$ chmod u-x quickref.py\n$ chmod u=rwx,g=rx,o= quickref.sh\n```"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "递归更改文件和目录",
      "body": "```shell\n$ chmod -R 755 my_directory\n```\n\n`chmod` 命令代表“更改模式”"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Chmod%20%E7%94%9F%E6%88%90%E5%99%A8",
      "body": "%26nbsp%3B%20%7C%20User%20%7C%20Group%20%7C%20Other%0A%3A-%20%7C%20%3A-%20%7C%20%3A-%20%7C%20%3A-%0A%E8%AF%BB%20_(Read)_%20%7C%20%3Cinput%20checked%20id%3D%221%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%224%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%227%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%0A%E5%86%99%20_(Write)_%20%7C%20%3Cinput%20checked%20id%3D%222%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%225%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%228%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%0A%E6%89%A7%E8%A1%8C%20_(Execute)_%20%7C%20%3Cinput%20checked%20id%3D%223%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%226%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%20%7C%20%3Cinput%20checked%20id%3D%229%22%20type%3D%22checkbox%22%3E%3C%2Finput%3E%0A%3C!--rehype%3AclassName%3Dshow-header--%3E%0A%0AChmod%20%E7%94%9F%E6%88%90%E5%99%A8%E5%85%81%E8%AE%B8%E6%82%A8%E4%BB%A5%E6%95%B0%E5%AD%97%E5%92%8C%E7%AC%A6%E5%8F%B7%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%BF%AB%E9%80%9F%E3%80%81%E7%9B%B4%E8%A7%82%E5%9C%B0%E7%94%9F%E6%88%90%E6%9D%83%E9%99%90%E3%80%82",
      "encoded": true
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "通用权限",
      "body": "命令 | s | 含义\n:-|:-|:-\n`400`   | r-------- | 仅所有者可读\n`500`   | r-x------ | 避免改变\n`600`   | rw------- | 可由用户更改\n`644`   | rw-r--r-- | 由用户读取和更改\n`660`   | rw-rw---- | 可由用户和组更改\n`700`   | rwx------ | 只有用户具有完全访问权限\n`755`   | rwxr-xr-x | 只能由用户更改\n`775`   | rwxrwxr-x | 群组共享模式\n`777`   | rwxrwxrwx | 每个人都可以做任何事"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "解释",
      "body": "```shell\n$ ls -l\n-rw-r--r--  1 root root 3 Jun 29 15:35 a.log\ndrwxr-xr-x  2 root root 2 Jun 30 18:06 dir\n```"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "`dir` 的权限分析",
      "body": "```text\nd  rwx  r-x  r-x\n┬  ─┬─  ─┬─  ─┬─  \n┆   ┆    ┆    ┆  \n┆   ┆    ┆    ╰─ 4. Other｜5 (4+0+1)\n┆   ┆    ╰────── 3. Group｜5 (4+0+1)\n┆   ╰─────────── 2. User ｜7 (4+2+1)\n╰─────────────── 1. File Type | directory\n```"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "权限模式",
      "body": "| 权限 | 描述             | 八进制 | 十进制   |\n|------------|-------------------------|-------|-----------|\n`---`      | 没有权限        | 000   | 0 (0+0+0)\n`--x`      | 执行           | 001   | 1 (0+0+1)\n`-w-`      | 写             | 010   | 2 (0+2+0)\n`-wx`      | 执行和写入      | 011   | 3 (0+2+1)\n`r--`      | 读             | 100   | 4 (4+0+0)\n`r-x`      | 读取和执行      | 101   | 5 (4+0+1)\n`rw-`      | 读和写          | 110   | 6 (4+2+0)\n`rwx`      | 读取、写入和执行 | 111   | 7 (4+2+1)"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "Objects",
      "body": "| 谁（缩写）    | 含义            |\n|-------------|--------------------|\n| `u`         | 用户             |\n| `g`         | 组            |\n| `o`         | 其它           |\n| `a`         | 全部，和 ugo 一样 |"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "权限",
      "body": "| 缩写 | 权限    | 值 |\n|--------------|---------------|-------|\n| `r`          | 读      | 4     |\n| `w`          | 写      | 2     |\n| `x`          | 执行     | 1     |\n| `-`          | 没有权限  | 0     |"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "文件类型",
      "body": "| 缩写 | 文件类型    |\n|--------------|----------|\n| `d`          | 目录      |\n| `-`          | 常规文件   |\n| `l`          | 符号链接   |"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "操作符",
      "body": "| Symbol | Description |\n|--------|-------------|\n| `+`    | 添加         |\n| `-`    | 删除      |\n| `=`    | 设置        |"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "chmod 600",
      "body": "```shell\n$ chmod 600 example.txt\n$ chmod u=rw,g=,o= example.txt\n$ chmod a+rwx,u-x,g-rwx,o-rwx example.txt\n```"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "chmod 664",
      "body": "```shell\n$ chmod 664 example.txt\n$ chmod u=rw,g=rw,o=r example.txt\n$ chmod a+rwx,u-x,g-x,o-wx example.txt\n```"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "chmod 777",
      "body": "```shell\n$ chmod 777 example.txt\n$ chmod u=rwx,g=rwx,o=rwx example.txt\n$ chmod a=rwx example.txt\n```"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "符号模式",
      "body": "拒绝所有人的执行权限。\n\n```shell\n$ chmod a-x chmodExampleFile.txt\n```\n\n向所有人授予读取权限。\n\n```shell\n$ chmod a+r chmodExampleFile.txt\n```\n\n使文件可由组和其他人读写。\n\n```shell\n$ chmod go+rw chmodExampleFile.txt\n```\n\n使用户/所有者可执行 shell。\n\n```shell\n$ chmod u+x chmodExampleScript.sh\n```\n\n允许每个人读取、写入和执行文件并打开设置的 group-ID。\n\n```shell\n$ chmod =rwx,g+s chmodExampleScript.sh\n```"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "删除权限",
      "body": "要删除赋予文件的读写权限，请使用以下语法：\n\n```shell\n$ chmod o-rw example.txt\n```\n\n对于我们的文件 example.txt，我们可以通过运行以下命令使用 chmod for group 删除读写权限：\n\n```shell\n$ chmod  g-rx example.txt\n```\n\n要从组中删除 chmod 读写权限，同时向 public/others 添加读写权限，我们可以使用以下命令：\n\n```shell\n$ chmod g-rx, o+rx example.txt\n```\n\n但是，如果你想删除组和其他人的所有权限，你可以使用 go= 来代替：\n\n```shell\n$ chmod go= example.txt\n```"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "可执行文件",
      "body": "```shell\n$ chmod +x ~/example.py\n$ chmod u+x ~/example.py\n$ chmod a+x ~/example.py\n```"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "chmod 754",
      "body": "```shell\n$ chmod 754 foo.sh\n$ chmod u=rwx,g=rx,o=r foo.sh\n```"
    },
    {
      "id": "s3-38",
      "sectionId": "s3",
      "title": "SSH 权限",
      "body": "```shell\n$ chmod 700 ~/.ssh\n$ chmod 600 ~/.ssh/authorized_keys\n$ chmod 600 ~/.ssh/id_rsa\n$ chmod 600 ~/.ssh/id_rsa.pub\n$ chmod 400 /path/to/access_key.pem\n```"
    },
    {
      "id": "s3-39",
      "sectionId": "s3",
      "title": "网络权限",
      "body": "```shell\n$ chmod -R 644 /var/www/html/\n$ chmod 644 .htaccess\n$ chmod 644 robots.txt\n$ chmod 755 /var/www/uploads/\n$ find /var/www/html -type d -exec chmod 755 {} \\;\n```"
    },
    {
      "id": "s3-40",
      "sectionId": "s3",
      "title": "批量更改",
      "body": "```shell\n$ chmod -R 644 /your_path\n$ find /path -type d -exec chmod 755 {} \\;\n$ find /path -type f -exec chmod 644 {} \\;\n```\n\n请参阅：[命令替换](https://tldp.org/LDP/abs/html/commandsub.html)"
    },
    {
      "id": "s4-42",
      "sectionId": "s4",
      "title": "另见",
      "body": "• [使用 chmod 修改文件权限](https://www.linode.com/docs/guides/modify-file-permissions-with-chmod/) _(linode.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/chmod.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/chmod.md",
    "lang": "zh",
    "mode": "local"
  }
}