{
  "id": "graphql",
  "name": "GraphQL 备忘清单",
  "title": "这份快速参考备忘单提供了 [GraphQL](https://graphql.org/) 的简要概述",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/graphql.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "查询和变更(Mutations)",
      "startIndex": 23
    },
    {
      "id": "s3",
      "title": "另见",
      "startIndex": 69
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这份快速参考备忘单提供了 [GraphQL](https://graphql.org/) 的简要概述"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "概述",
      "kind": "text",
      "body": "• RESTful API 的另一种方法\n• GraphQL 是一种 API 查询语言\n• 使用清晰的共享术语轻松描述 GraphQL API 的形状。\n• 客户端发出查询/突变以读取和更新数据\n• GraphQL 语法可以表达复杂的实体关系\n• 用 [不同语言](https://graphql.org/code/) 实现 GraphQL 的库"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "概述",
      "kind": "text",
      "body": "[GraphQL](https://graphql.org/)"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Schema",
      "kind": "text",
      "body": ":-|-\n:-|-\n`schema`       | GraphQL 架构定义\n`query`        | 读取和遍历数据\n`mutation`     | 修改数据或触发动作\n`subscription` | 发生事件时运行查询"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "内置标量类型",
      "kind": "text",
      "body": ":-|-\n:-|-\n`Int`     | 有符号 32 位整数\n`Float`   | 有符号双精度浮点值\n`String`  | UTF-8 字符序列\n`Boolean` | 对或错布尔值类型\n`ID`      | 唯一标识符"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "类型定义",
      "kind": "text",
      "body": ":-|-\n:-|-\n`scalar`    | 标量类型\n`type`      | 对象类型\n`interface` | 接口类型\n`union`     | 联合类型\n`enum`      | 枚举类型\n`input`     | 输入对象类型"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "类型修饰符",
      "kind": "text",
      "body": ":-|-\n:-|-\n`String`     | 可空字符串\n`String!`    | 非空字符串\n`[String]`   | 可空字符串列表\n`[String]!`  | 可空字符串的非空列表\n`[String!]!` | 非空字符串的非空列表"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "text",
      "body": "#### 基本输入"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "code",
      "lang": "graphql",
      "code": "type Query {\n  users(limit: Int): [User]\n}"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "text",
      "body": "#### 输入默认值"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "code",
      "lang": "graphql",
      "code": "type Query {\n  users(limit: Int = 10): [User]\n}"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "text",
      "body": "#### 具有多个参数的输入"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "code",
      "lang": "graphql",
      "code": "type Query {\n  users(limit: Int, sort: String): [User]\n}"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "text",
      "body": "#### 具有多个参数和默认值的输入"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "输入参数",
      "kind": "code",
      "lang": "graphql",
      "code": "type Query {\n  users(limit: Int = 10, sort: String): [User]\n}\ntype Query {\n  users(limit: Int, sort: String = \"asc\"): [User]\n}\ntype Query {\n  users(limit: Int = 10, sort: String = \"asc\"): [User]\n}"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "输入类型",
      "kind": "code",
      "lang": "graphql",
      "code": "input ListUsersInput {\n  limit: Int\n  since_id: ID\n}"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "输入类型",
      "kind": "code",
      "lang": "graphql",
      "code": "type Mutation {\n  users(params: ListUsersInput): [User]!\n}"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "自定义标量",
      "kind": "code",
      "lang": "graphql",
      "code": "scalar Url\ntype User {\n  name: String\n  homepage: Url\n}"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "接口",
      "kind": "code",
      "lang": "graphql",
      "code": "interface Foo {\n  is_foo: Boolean\n}\ninterface Goo {\n  is_goo: Boolean\n}\ntype Bar implements Foo {\n  is_foo: Boolean\n  is_bar: Boolean\n}\ntype Baz implements Foo, Goo {\n  is_foo: Boolean\n  is_goo: Boolean\n  is_baz: Boolean\n}"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "接口",
      "kind": "text",
      "body": "实现一个或多个接口的对象"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "联合",
      "kind": "code",
      "lang": "graphql",
      "code": "type Foo {\n  name: String\n}\ntype Bar {\n  is_bar: String\n}\nunion SingleUnion = Foo\nunion MultipleUnion = Foo | Bar\ntype Root {\n  single: SingleUnion\n  multiple: MultipleUnion\n}"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "联合",
      "kind": "text",
      "body": "一个或多个对象的联合"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "枚举",
      "kind": "code",
      "lang": "graphql",
      "code": "enum USER_STATE {\n  NOT_FOUND\n  ACTIVE\n  INACTIVE\n  SUSPENDED\n}\ntype Root {\n  stateForUser(userID: ID!): USER_STATE!\n  users(state: USER_STATE, limit: Int = 10): [User]\n}"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "字段",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  hero {\n    name\n  }\n}"
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "字段",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "字段",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"hero\": {\n      \"name\": \"R2-D2\"\n    }\n  }\n}"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "查询可以有注释",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  hero {\n    name\n    # 查询可以有注释！\n    friends {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "查询可以有注释",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "查询可以有注释",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"hero\": {\n      \"name\": \"R2-D2\",\n      \"friends\": [\n        { \"name\": \"Luke Skywalker\" },\n        { \"name\": \"Han Solo\" }\n      ]\n    }\n  }\n}"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "参数 Arguments",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  human(id: \"1000\") {\n    name\n    height\n  }\n}"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "参数 Arguments",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "参数 Arguments",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"human\": {\n      \"name\": \"Luke Skywalker\",\n      \"height\": 1.72\n    }\n  }\n}"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "不同类型的参数",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  human(id: \"1000\") {\n    name\n    height(unit: FOOT)\n  }\n}"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "不同类型的参数",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "不同类型的参数",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"human\": {\n      \"name\": \"Luke Skywalker\",\n      \"height\": 5.6430448\n    }\n  }\n}"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "别名(Aliases)",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  empireHero: hero(episode: EMPIRE) {\n    name\n  }\n  jediHero: hero(episode: JEDI) {\n    name\n  }\n}"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "别名(Aliases)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "别名(Aliases)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"empireHero\": {\n      \"name\": \"Luke Skywalker\"\n    },\n    \"jediHero\": {\n      \"name\": \"R2-D2\"\n    }\n  }\n}"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "片段(Fragments)",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  leftComparison: hero(episode: EMPIRE) {\n    ...comparisonFields\n  }\n  rightComparison: hero(episode: JEDI) {\n    ...comparisonFields\n  }\n}\n​\nfragment comparisonFields on Character {\n  name\n  appearsIn\n  friends {\n    name\n  }\n}"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "片段(Fragments)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "片段(Fragments)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"leftComparison\": {\n      \"name\": \"Luke Skywalker\",\n      \"appearsIn\": [\n        \"NEWHOPE\",\n        \"EMPIRE\",\n        \"JEDI\"\n      ],\n      \"friends\": [\n        { \"name\": \"Han Solo\" },\n        { \"name\": \"Leia Organa\" },\n        { \"name\": \"C-3PO\" },\n        { \"name\": \"R2-D2\" }\n      ]\n    },\n    \"rightComparison\": {\n      \"name\": \"R2-D2\",\n      \"appearsIn\": [\n        \"NEWHOPE\",\n        \"EMPIRE\",\n        \"JEDI\"\n      ],\n      \"friends\": [\n        { \"name\": \"Luke Skywalker\" },\n        { \"name\": \"Han Solo\" },\n        { \"name\": \"Leia Organa\" }\n      ]\n    }\n  }\n}"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "在片段内使用变量",
      "kind": "code",
      "lang": "graphql",
      "code": "query HeroComparison($first: Int = 3) {\n  leftComparison: hero(episode: EMPIRE) {\n    ...comparisonFields\n  }\n  rightComparison: hero(episode: JEDI) {\n    ...comparisonFields\n  }\n}\n​\nfragment comparisonFields on Character {\n  name\n  friendsConnection(first: $first) {\n    totalCount\n    edges {\n      node {\n        name\n      }\n    }\n  }\n}"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "在片段内使用变量",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "在片段内使用变量",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"leftComparison\": {\n      \"name\": \"Luke Skywalker\",\n      \"friendsConnection\": {\n        \"totalCount\": 4,\n        \"edges\": [\n          {\n            \"node\": {\n              \"name\": \"Han Solo\"\n            }\n          },\n          {\n            \"node\": {\n              \"name\": \"Leia Organa\"\n            }\n          }\n        ]\n      }\n    },\n    \"rightComparison\": {\n      \"name\": \"R2-D2\",\n      \"friendsConnection\": {\n        \"totalCount\": 3,\n        \"edges\": [\n          {\n            \"node\": {\n              \"name\": \"Luke Skywalker\"\n            }\n          },\n          {\n            \"node\": {\n              \"name\": \"Han Solo\"\n            }\n          }\n        ]\n      }\n    }\n  }\n}"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "操作名称(Operation name)",
      "kind": "code",
      "lang": "graphql",
      "code": "query HeroNameAndFriends {\n  hero {\n    name\n    friends {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "操作名称(Operation name)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "操作名称(Operation name)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"hero\": {\n      \"name\": \"R2-D2\",\n      \"friends\": [\n        { \"name\": \"Luke Skywalker\" },\n        { \"name\": \"Han Solo\" },\n        { \"name\": \"Leia Organa\" }\n      ]\n    }\n  }\n}"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "变量(Variables)",
      "kind": "code",
      "lang": "graphql",
      "code": "# { \"graphiql\": true, \"variables\": { \"episode\": JEDI } }\nquery HeroNameAndFriends($episode: Episode) {\n  hero(episode: $episode) {\n    name\n    friends {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "变量(Variables)",
      "kind": "text",
      "body": "变量前缀必须为 `$`，后跟其类型"
    },
    {
      "id": "s2-49",
      "sectionId": "s2",
      "title": "默认变量(Default variables)",
      "kind": "code",
      "lang": "graphql",
      "code": "query HeroNameAndFriends($episode: Episode = \"JEDI\") {\n  hero(episode: $episode) {\n    name\n    friends {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-50",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "code",
      "lang": "graphql",
      "code": "query Hero($episode: Episode, $withFriends: Boolean!) {\n  hero(episode: $episode) {\n    name\n    friends @include(if: $withFriends) {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-51",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "text",
      "body": "----"
    },
    {
      "id": "s2-52",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "code",
      "lang": "graphql",
      "code": "{ \"episode\": \"JEDI\", \"withFriends\": false }"
    },
    {
      "id": "s2-53",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-54",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": { \"hero\": { \"name\": \"R2-D2\" } }\n}"
    },
    {
      "id": "s2-55",
      "sectionId": "s2",
      "title": "指令(Directives)",
      "kind": "text",
      "body": "• `@include(if: Boolean)` 仅在参数为 `true` 时，包含此字段\n• `@skip(if: Boolean)` 如果参数为 `true`，跳过此字段"
    },
    {
      "id": "s2-56",
      "sectionId": "s2",
      "title": "变更(Mutations)",
      "kind": "code",
      "lang": "graphql",
      "code": "mutation CreateReviewForEpisode($ep: Episode!, $review: ReviewInput!) {\n  createReview(episode: $ep, review: $review) {\n    stars\n    commentary\n  }\n}"
    },
    {
      "id": "s2-57",
      "sectionId": "s2",
      "title": "变更(Mutations)",
      "kind": "text",
      "body": "----"
    },
    {
      "id": "s2-58",
      "sectionId": "s2",
      "title": "变更(Mutations)",
      "kind": "code",
      "lang": "",
      "code": "{\n  \"ep\": \"JEDI\",\n  \"review\": {\n    \"stars\": 5,\n    \"commentary\": \"This is a great movie!\"\n  }\n}"
    },
    {
      "id": "s2-59",
      "sectionId": "s2",
      "title": "变更(Mutations)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "变更(Mutations)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"createReview\": {\n      \"stars\": 5,\n      \"commentary\": \"This is a great movie!\"\n    }\n  }\n}"
    },
    {
      "id": "s2-61",
      "sectionId": "s2",
      "title": "内联片段(Inline Fragments)",
      "kind": "code",
      "lang": "graphql",
      "code": "query HeroForEpisode($ep: Episode!) {\n  hero(episode: $ep) {\n    name\n    ... on Droid {\n      primaryFunction\n    }\n    ... on Human {\n      height\n    }\n  }\n}"
    },
    {
      "id": "s2-62",
      "sectionId": "s2",
      "title": "内联片段(Inline Fragments)",
      "kind": "text",
      "body": "----"
    },
    {
      "id": "s2-63",
      "sectionId": "s2",
      "title": "内联片段(Inline Fragments)",
      "kind": "code",
      "lang": "graphql",
      "code": "{ \"ep\": \"JEDI\" }"
    },
    {
      "id": "s2-64",
      "sectionId": "s2",
      "title": "内联片段(Inline Fragments)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-65",
      "sectionId": "s2",
      "title": "内联片段(Inline Fragments)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"hero\": {\n      \"name\": \"R2-D2\",\n      \"primaryFunction\": \"Astromech\"\n    }\n  }\n}"
    },
    {
      "id": "s2-66",
      "sectionId": "s2",
      "title": "元字段(Meta fields)",
      "kind": "code",
      "lang": "graphql",
      "code": "{\n  search(text: \"an\") {\n    __typename\n    ... on Human {\n      name\n    }\n    ... on Droid {\n      name\n    }\n    ... on Starship {\n      name\n    }\n  }\n}"
    },
    {
      "id": "s2-67",
      "sectionId": "s2",
      "title": "元字段(Meta fields)",
      "kind": "text",
      "body": "结果:"
    },
    {
      "id": "s2-68",
      "sectionId": "s2",
      "title": "元字段(Meta fields)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"data\": {\n    \"search\": [\n      {\n        \"__typename\": \"Human\",\n        \"name\": \"Han Solo\"\n      },\n      {\n        \"__typename\": \"Human\",\n        \"name\": \"Leia Organa\"\n      },\n      {\n        \"__typename\": \"Starship\",\n        \"name\": \"TIE Advanced x1\"\n      }\n    ]\n  }\n}"
    },
    {
      "id": "s3-69",
      "sectionId": "s3",
      "title": "另见",
      "kind": "text",
      "body": "• [GraphQL Schema Language Cheat Sheet](https://github.com/sogko/graphql-schema-language-cheat-sheet) _(github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/graphql.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/graphql.md",
    "lang": "zh",
    "mode": "local"
  }
}