{
  "id": "reactrouter",
  "name": "React Router 备忘清单",
  "title": "[![NPM version](https://img.shields.io/npm/v/react-router-dom.svg?style=flat)](https://npmjs.org/package/react-router-dom)",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/reactrouter.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "Routers",
      "startIndex": 59
    },
    {
      "id": "s3",
      "title": "另见",
      "startIndex": 95
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![NPM version](https://img.shields.io/npm/v/react-router-dom.svg?style=flat)](https://npmjs.org/package/react-router-dom)\n[![Downloads](https://img.shields.io/npm/dm/react-router-dom.svg?style=flat)](https://www.npmjs.com/package/react-router-dom)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/remix-run/react-router)](https://github.com/remix-run/react-router/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/remix-run/react-router)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "适合初学者的综合 [React Router 6.x](https://reactrouter.com/en/main/start/overview) 备忘清单\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "安装使用",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm create vite@latest myApp --\\\n     --template react\n# 按照提示操作\n$ cd <myApp>\n$ npm install react-router-dom \\\n    localforage \\\n    match-sorter \\\n    sort-by\n$ npm run dev"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "添加路由器",
      "kind": "text",
      "body": "```jsx {3-6,8-13,19}\nimport React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport {\ncreateBrowserRouter,\nRouterProvider,\n} from \"react-router-dom\";"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "添加路由器",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nelement: <div>Hello world!</div>,\n},\n]);"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "添加路由器",
      "kind": "text",
      "body": "const root=document.getElementById('root');"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "添加路由器",
      "kind": "text",
      "body": "ReactDOM.createRoot(root).render(\n<React.StrictMode>\n<RouterProvider router={router} />\n</React.StrictMode>\n);"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "添加路由器",
      "kind": "code",
      "lang": "",
      "code": "\n### 根路由\n\n```jsx {1,6}\nimport Root from \"./routes/root\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n  },\n]);"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "处理未找到错误",
      "kind": "text",
      "body": "```jsx {1,7}\nimport ErrorPage from \"./error-page\";"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "处理未找到错误",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nelement: <Root />,\nerrorElement: <ErrorPage />,\n},\n]);"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "处理未找到错误",
      "kind": "code",
      "lang": "",
      "code": "\n### `contacts` 用户界面\n\n```jsx {1,9-12}\nimport Contact from \"./routes/contact\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    errorElement: <ErrorPage />,\n  },\n  {\n    path: \"contacts/:contactId\",\n    element: <Contact />,\n  },\n]);"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "嵌套路由",
      "kind": "text",
      "body": "`src/main.jsx`"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "嵌套路由",
      "kind": "text",
      "body": "```jsx {6-11}\nconst router = createBrowserRouter([\n{\npath: \"/\",\nelement: <Root />,\nerrorElement: <ErrorPage />,\nchildren: [\n{\npath: \"contacts/:contactId\",\nelement: <Contact />,\n},\n],\n},\n]);"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "嵌套路由",
      "kind": "code",
      "lang": "",
      "code": "\n`src/routes/root.jsx`\n\n```jsx {1,8}\nimport { Outlet } from \"react-router-dom\";\n\nexport default function Root() {\n  return (\n    <>\n      {/* 所有其他元素 */}\n      <div id=\"detail\">\n        <Outlet />\n      </div>\n    </>\n  );\n}"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "```jsx {2,9,14}\nimport {\nOutlet, Link\n} from \"react-router-dom\";"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "export default function Root() {\nreturn (\n<ul>\n<li>\n<Link to={`contacts/1`}>\nYour Name\n</Link>\n</li>\n<li>\n<Link to={`contacts/2`}>\nYour Friend\n</Link>\n</li>\n</ul>\n);\n}"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "code",
      "lang": "",
      "code": "\n### 创建联系人\n<!--rehype:wrap-class=row-span-2-->\n\n创建动作并将 `<form>` 更改为 `<Form>`\n\n```jsx {5,8,11-14,20-22}\nimport {\n  Outlet,\n  Link,\n  useLoaderData,\n  Form,\n} from \"react-router-dom\";\nimport {\n  getContacts, createContact\n} from \"../contacts\";\n\nexport async function action() {\n  const contact = await createContact();\n  return { contact };\n}\nexport default function Root() {\n  const { contacts } = useLoaderData();\n  return (\n    <div id=\"sidebar\">\n      <h1>React Router Contacts</h1>\n      <Form method=\"post\">\n        <button type=\"submit\">New</button>\n      </Form>\n    </div>\n  );\n}"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "导入并设置路由上的 `action`"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "```jsx {3,12}\nimport Root, {\nloader as rootLoader,\naction as rootAction,\n} from \"./routes/root\";"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nelement: <Root />,\nerrorElement: <ErrorPage />,\nloader: rootLoader,\naction: rootAction,\nchildren: [\n{\npath: \"contacts/:contactId\",\nelement: <Contact />,\n},\n],\n},\n]);"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "code",
      "lang": "",
      "code": "\n### 加载程序中的 URL 参数\n<!--rehype:wrap-class=row-span-3-->\n\n```jsx {3}\n[\n  {\n    path: \"contacts/:contactId\",\n    element: <Contact />,\n  },\n];"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "`:contactId` URL 段。 冒号（<pur>:</pur>）具有特殊含义，将其变成“`动态段`”"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "```jsx {1-4,6-8,11}\nimport {\nuseLoaderData\n} from \"react-router-dom\";\nimport { getContact } from \"../contacts\";"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "export async function loader({ params }) {\nreturn getContact(params.contactId);\n}"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "text",
      "body": "export default function Contact() {\nconst contact = useLoaderData();\n// existing code\n}"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "客户端路由",
      "kind": "code",
      "lang": "",
      "code": "\n在路由上配置 `loader`\n\n```jsx {2,16}\nimport Contact, {\n  loader as contactLoader,\n} from \"./routes/contact\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    errorElement: <ErrorPage />,\n    loader: rootLoader,\n    action: rootAction,\n    children: [\n      {\n        path: \"contacts/:contactId\",\n        element: <Contact />,\n        loader: contactLoader,\n      },\n    ],\n  },\n]);"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "更新数据",
      "kind": "code",
      "lang": "jsx",
      "code": "import {\n  Form, useLoaderData\n} from \"react-router-dom\";\n\nexport default function EditContact() {\n  const contact = useLoaderData();\n\n  return (\n    <Form method=\"post\" id=\"contact-form\">\n      <label>\n        <span>Twitter</span>\n        <input\n          type=\"text\"\n          name=\"twitter\"\n          placeholder=\"@jack\"\n          defaultValue={contact.twitter}\n        />\n      </label>\n      <label>\n        <span>Notes</span>\n        <textarea\n          name=\"notes\"\n          defaultValue={contact.notes}\n          rows={6}\n        />\n      </label>\n      <p>\n        <button type=\"submit\">保存</button>\n        <button type=\"button\">取消</button>\n      </p>\n    </Form>\n  );\n}"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "更新数据",
      "kind": "text",
      "body": "添加新的编辑路由"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "更新数据",
      "kind": "text",
      "body": "```jsx {1,16-20}\nimport EditContact from \"./routes/edit\";"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "更新数据",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nelement: <Root />,\nerrorElement: <ErrorPage />,\nloader: rootLoader,\naction: rootAction,\nchildren: [\n{\npath: \"contacts/:contactId\",\nelement: <Contact />,\nloader: contactLoader,\n},\n{\npath: \"contacts/:contactId/edit\",\nelement: <EditContact />,\nloader: contactLoader,\n},\n],\n},\n]);"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "更新数据",
      "kind": "code",
      "lang": "",
      "code": "\n### 活动链接样式\n\n```jsx {2,7-8}\nimport {\n  NavLink,\n} from \"react-router-dom\";\n\n<NavLink\n  to={`contacts/${contact.id}`}\n  className={({ isActive, isPending }) =>\n    isActive\n      ? \"active\"\n      : isPending\n      ? \"pending\"\n      : \"\"\n  }\n>\n  {/* other code */}\n</NavLink>"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "```jsx {7,13-14}\nimport {\nuseNavigation,\n} from \"react-router-dom\";"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "export default function Root() {\nconst { contacts } = useLoaderData();\nconst navigation = useNavigation();"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "return (\n<div\nid=\"detail\"\nclassName={\nnavigation.state === 'loading'\n? 'loading' : ''\n}\n>\n<Outlet />\n</div>\n);\n}"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "code",
      "lang": "",
      "code": "\n### 使用 FormData 更新联系人\n<!--rehype:wrap-class=col-span-2-->\n\n向编辑模块添加一个动作\n\n```jsx {4,6,8-13}\nimport {\n  Form,\n  useLoaderData,\n  redirect,\n} from \"react-router-dom\";\nimport { updateContact } from \"../contacts\";\n\nexport async function action({ request, params }) {\n  const formData = await request.formData();\n  const updates = Object.fromEntries(formData);\n  await updateContact(params.contactId, updates);\n  return redirect(`/contacts/${params.contactId}`);\n}"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "将动作连接到路由"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "```jsx {2,22}\nimport EditContact, {\naction as editAction,\n} from \"./routes/edit\";"
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nelement: <Root />,\nerrorElement: <ErrorPage />,\nloader: rootLoader,\naction: rootAction,\nchildren: [\n{\npath: \"contacts/:contactId\",\nelement: <Contact />,\nloader: contactLoader,\n},\n{\npath: \"contacts/:contactId/edit\",\nelement: <EditContact />,\nloader: contactLoader,\naction: editAction,\n},\n],\n},\n]);"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "code",
      "lang": "",
      "code": "\n### 删除记录\n\n```jsx {3}\n<Form\n  method=\"post\"\n  action=\"destroy\"\n  onSubmit={(event) => {\n    if (!confirm(\"请确认您要删除此记录\")) {\n      event.preventDefault();\n    }\n  }}\n>\n  <button type=\"submit\">删除</button>\n</Form>"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "添加销毁动作"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "code",
      "lang": "jsx",
      "code": "import {redirect} from \"react-router-dom\";\nimport {deleteContact} from \"../contacts\";\n\nexport async function action({ params }) {\n  await deleteContact(params.contactId);\n  return redirect(\"/\");\n}"
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "将 `destroy` 路由添加到路由配置中"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "```jsx {2,9-12}\nimport {\naction as destroyAction\n} from \"./routes/destroy\";"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "const router = createBrowserRouter([\n{\npath: \"/\",\nchildren: [\n{\npath: \"contacts/:contactId/destroy\",\naction: destroyAction,\n},\n],\n},\n]);"
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "code",
      "lang": "",
      "code": "\n### 上下文错误\n\n```jsx {2}\nexport async function action({ params }) {\n  throw new Error(\"oh dang!\");\n  await deleteContact(params.contactId);\n  return redirect(\"/\");\n}"
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "让我们为 `destroy` 路由创建上下文错误消息："
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "text",
      "body": "```jsx {5}\n[\n{\npath: \"contacts/:contactId/destroy\",\naction: destroyAction,\nerrorElement: <div>哎呀！有一个错误</div>,\n},\n];"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "全局待定用户界面",
      "kind": "code",
      "lang": "",
      "code": "\n### 首页路由\n\n```jsx {1,11}\nimport Index from \"./routes/index\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    errorElement: <ErrorPage />,\n    loader: rootLoader,\n    action: rootAction,\n    children: [\n      { index: true, element: <Index /> },\n    ],\n  },\n]);"
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "text",
      "body": "```jsx {5,10,18-20}\nimport {\nForm,\nuseLoaderData,\nredirect,\nuseNavigate,\n} from \"react-router-dom\";"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "text",
      "body": "export default function Edit() {\nconst contact = useLoaderData();\nconst navigate = useNavigate();"
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "text",
      "body": "return (\n<Form method=\"post\" id=\"contact-form\">\n<div>\n<button type=\"submit\">保存</button>\n<button\ntype=\"button\"\nonClick={() => {\nnavigate(-1);\n}}\n>\n取消\n</button>\n</div>\n</Form>\n);\n}"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "code",
      "lang": "",
      "code": "\n### 使用客户端路由获取提交\n<!--rehype:wrap-class=row-span-2-->\n\n将 `<form>` 更改为 `<Form>`\n\n```jsx {1,9}\n<Form id=\"search-form\" role=\"search\">\n  <input\n    id=\"q\"\n    aria-label=\"Search contacts\"\n    placeholder=\"Search\"\n    type=\"search\"\n    name=\"q\"\n  />\n</Form>"
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "text",
      "body": "如果有 `URLSearchParams` 过滤列表"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "text",
      "body": "```jsx {1,4}\nexport async function loader({ request }) {\nconst url = new URL(request.url);\nconst q = url.searchParams.get(\"q\");\nconst contacts = await getContacts(q);\nreturn { contacts };\n}"
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "取消按钮",
      "kind": "code",
      "lang": "",
      "code": "\n### 将 URL 同步到表单状态\n<!--rehype:wrap-class=row-span-2-->\n\n```jsx {5,9,20}\nexport async function loader({ request }) {\n  const url = new URL(request.url);\n  const q = url.searchParams.get(\"q\");\n  const contacts = await getContacts(q);\n  return { contacts, q };\n}\n\nexport default function Root() {\n  const { contacts, q } = useLoaderData();\n  const navigation = useNavigation();\n\n  return (\n    <Form id=\"search-form\" role=\"search\">\n      <input\n        id=\"q\"\n        aria-label=\"Search contacts\"\n        placeholder=\"Search\"\n        type=\"search\"\n        name=\"q\"\n        defaultValue={q}\n      />\n      {/* existing code */}\n    </Form>\n  );\n}"
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "将输入值与 URL 搜索参数同步",
      "kind": "text",
      "body": "```jsx {1,7-9}\nimport { useEffect } from \"react\";"
    },
    {
      "id": "s1-56",
      "sectionId": "s1",
      "title": "将输入值与 URL 搜索参数同步",
      "kind": "text",
      "body": "export default function Root() {\nconst { contacts, q } = useLoaderData();\nconst navigation = useNavigation();"
    },
    {
      "id": "s1-57",
      "sectionId": "s1",
      "title": "将输入值与 URL 搜索参数同步",
      "kind": "text",
      "body": "useEffect(() => {\ndocument.getElementById(\"q\").value = q;\n}, [q]);\n}"
    },
    {
      "id": "s1-58",
      "sectionId": "s1",
      "title": "将输入值与 URL 搜索参数同步",
      "kind": "code",
      "lang": "",
      "code": "\n### 提交变更 Forms\n\n```jsx {2,8,19-21}\nimport {\n  useSubmit,\n} from \"react-router-dom\";\n\nexport default function Root() {\n  const { contacts, q } = useLoaderData();\n  const navigation = useNavigation();\n  const submit = useSubmit();\n\n  return (\n    <Form id=\"search-form\" role=\"search\">\n      <input\n        id=\"q\"\n        aria-label=\"Search contacts\"\n        placeholder=\"Search\"\n        type=\"search\"\n        name=\"q\"\n        defaultValue={q}\n        onChange={(event) => {\n          submit(event.currentTarget.form);\n        }}\n      />\n      {/* existing code */}\n    </Form>\n  );\n}"
    },
    {
      "id": "s2-59",
      "sectionId": "s2",
      "title": "挑选路由器",
      "kind": "text",
      "body": "在 v6.4 中，引入了支持新数据 API 的新路由器："
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "挑选路由器",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`createBrowserRouter` | [#](https://reactrouter.com/en/main/routers/create-browser-router)\n`createMemoryRouter` | [#](https://reactrouter.com/en/main/routers/create-memory-router)\n`createHashRouter` | [#](https://reactrouter.com/en/main/routers/create-hash-router)"
    },
    {
      "id": "s2-61",
      "sectionId": "s2",
      "title": "挑选路由器",
      "kind": "text",
      "body": "以下路由器不支持数据 `data` API："
    },
    {
      "id": "s2-62",
      "sectionId": "s2",
      "title": "挑选路由器",
      "kind": "text",
      "body": ":-- | --\n:-- | --\n`<BrowserRouter>` | [#](https://reactrouter.com/en/main/router-components/browser-router)\n`<MemoryRouter>` | [#](https://reactrouter.com/en/main/router-components/memory-router)\n`<HashRouter>` | [#](https://reactrouter.com/en/main/router-components/hash-router)\n`<NativeRouter>` | [#](https://reactrouter.com/en/main/router-components/native-router)\n`<StaticRouter>` | [#](https://reactrouter.com/en/main/router-components/static-router)"
    },
    {
      "id": "s2-63",
      "sectionId": "s2",
      "title": "路由示例",
      "kind": "text",
      "body": "快速更新到 v6.4 的最简单方法是从 createRoutesFromElements 获得帮助，因此您无需将 `<Route>` 元素转换为路由对象"
    },
    {
      "id": "s2-64",
      "sectionId": "s2",
      "title": "路由示例",
      "kind": "code",
      "lang": "jsx",
      "code": "import {\n  createBrowserRouter,\n  createRoutesFromElements,\n  Route,\n  RouterProvider,\n} from \"react-router-dom\";\n\nconst router = createBrowserRouter(\n  createRoutesFromElements(\n    <Route path=\"/\" element={<Root />}>\n      <Route path=\"dashboard\" element={<Dashboard />} />\n      {/* ... etc. */}\n    </Route>\n  )\n);\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(\n  <React.StrictMode>\n    <RouterProvider router={router} />\n  </React.StrictMode>\n);"
    },
    {
      "id": "s2-65",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "code",
      "lang": "jsx",
      "code": "import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\n  createBrowserRouter,\n  RouterProvider,\n} from \"react-router-dom\";\n\nimport Root, {rootLoader} from \"./root\";\nimport Team, {teamLoader} from \"./team\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    loader: rootLoader,\n    children: [\n      {\n        path: \"team\",\n        element: <Team />,\n        loader: teamLoader,\n      },\n    ],\n  },\n]);\n\nconst root=document.getElementById('root');\n\nReactDOM.createRoot(root).render(\n  <RouterProvider router={router} />\n);"
    },
    {
      "id": "s2-66",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "text",
      "body": "Type Declaration"
    },
    {
      "id": "s2-67",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "code",
      "lang": "jsx",
      "code": "function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    window?: Window;\n  }\n): RemixRouter;"
    },
    {
      "id": "s2-68",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "text",
      "body": "routes"
    },
    {
      "id": "s2-69",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "code",
      "lang": "jsx",
      "code": "createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    loader: rootLoader,\n    children: [\n      {\n        path: \"events/:id\",\n        element: <Event />,\n        loader: eventLoader,\n      },\n    ],\n  },\n]);"
    },
    {
      "id": "s2-70",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "text",
      "body": "`basename` 用于您无法部署到域的根目录，而是部署到子目录的情况"
    },
    {
      "id": "s2-71",
      "sectionId": "s2",
      "title": "createBrowserRouter",
      "kind": "code",
      "lang": "jsx",
      "code": "createBrowserRouter(routes, {\n  basename: \"/app\",\n});\n\ncreateBrowserRouter(routes, {\n  basename: \"/app\",\n});\n<Link to=\"/\" />;\n// results in <a href=\"/app\" />\n\ncreateBrowserRouter(routes, {\n  basename: \"/app/\",\n});\n<Link to=\"/\" />;\n// results in <a href=\"/app/\" />"
    },
    {
      "id": "s2-72",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "```jsx {4,11}\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\ncreateHashRouter,\nRouterProvider,\n} from \"react-router-dom\";"
    },
    {
      "id": "s2-73",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "import Root, { rootLoader } from \"./root\";\nimport Team, { teamLoader } from \"./team\";"
    },
    {
      "id": "s2-74",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "const router = createHashRouter([\n{\npath: \"/\",\nelement: <Root />,\nloader: rootLoader,\nchildren: [\n{\npath: \"team\",\nelement: <Team />,\nloader: teamLoader,\n},\n],\n},\n]);"
    },
    {
      "id": "s2-75",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "const root=document.getElementById('root');"
    },
    {
      "id": "s2-76",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "ReactDOM.createRoot(root).render(\n<RouterProvider router={router} />\n);"
    },
    {
      "id": "s2-77",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "code",
      "lang": "",
      "code": "\n### createMemoryRouter\n<!--rehype:wrap-class=row-span-2-->\n\n```jsx {2-3,24-27}\nimport {\n  RouterProvider,\n  createMemoryRouter,\n} from \"react-router-dom\";\nimport * as React from \"react\";\nimport {\n  render,\n  waitFor,\n  screen,\n} from \"@testing-library/react\";\nimport \"@testing-library/jest-dom\";\nimport CalendarEvent from \"./event\";\n\ntest(\"event route\", async () => {\n  const FAKE_EVENT = { name: \"测试事件\" };\n  const routes = [\n    {\n      path: \"/events/:id\",\n      element: <CalendarEvent />,\n      loader: () => FAKE_EVENT,\n    },\n  ];\n\n  const router=createMemoryRouter(routes,{\n    initialEntries: [\"/\", \"/events/123\"],\n    initialIndex: 1,\n  });\n\n  render(\n    <RouterProvider router={router} />\n  );\n\n  await waitFor(\n    () => screen.getByRole(\"heading\")\n  );\n  expect(screen.getByRole(\"heading\"))\n    .toHaveTextContent(\n    FAKE_EVENT.name\n  );\n});"
    },
    {
      "id": "s2-78",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "initialEntries"
    },
    {
      "id": "s2-79",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "code",
      "lang": "jsx",
      "code": "createMemoryRouter(routes, {\n  initialEntries: [\"/\", \"/events/123\"],\n});"
    },
    {
      "id": "s2-80",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "initialIndex"
    },
    {
      "id": "s2-81",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "```jsx {3}\ncreateMemoryRouter(routes, {\ninitialEntries: [\"/\", \"/events/123\"],\ninitialIndex: 1,\n// start at \"/events/123\"\n});"
    },
    {
      "id": "s2-82",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "code",
      "lang": "",
      "code": "\n### \\<RouterProvider>\n\n```jsx {26}\nimport {\n  createBrowserRouter,\n  RouterProvider,\n} from \"react-router-dom\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    children: [\n      {\n        path: \"dashboard\",\n        element: <Dashboard />,\n      },\n      {\n        path: \"about\",\n        element: <About />,\n      },\n    ],\n  },\n]);\n\nconst root=document.getElementById('root');\n\nReactDOM.createRoot(root).render(\n  <RouterProvider\n    router={router}\n    fallbackElement={<BigSpinner />}\n  />\n);"
    },
    {
      "id": "s2-83",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "`fallbackElement` 如果您不是服务器渲染您的应用程序，DataBrowserRouter 将在安装时启动所有匹配的路由加载器。 在此期间，您可以提供一个 fallbackElement 来向用户表明该应用程序正在运行"
    },
    {
      "id": "s2-84",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "```jsx {3}\n<RouterProvider\nrouter={router}\nfallbackElement={<SpinnerOfDoom />}\n/>"
    },
    {
      "id": "s2-85",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "code",
      "lang": "",
      "code": "\nRouter Components\n---\n\n### \\<BrowserRouter>\n\n```jsx {4}\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\n  BrowserRouter\n} from \"react-router-dom\";\n\nconst root=document.getElementById('root');\nReactDOM.createRoot(root).render(\n  <HashRouter>\n    {/* 你的应用程序的其余部分在这里 */}\n  </HashRouter>,\n);"
    },
    {
      "id": "s2-86",
      "sectionId": "s2",
      "title": "createHashRouter",
      "kind": "text",
      "body": "`<BrowserRouter>` 使用干净的 `URL` 将当前位置存储在浏览器的地址栏中，并使用浏览器的内置历史堆栈进行导航"
    },
    {
      "id": "s2-87",
      "sectionId": "s2",
      "title": "\\<HashRouter>",
      "kind": "text",
      "body": "```jsx {4}\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\nHashRouter\n} from \"react-router-dom\";"
    },
    {
      "id": "s2-88",
      "sectionId": "s2",
      "title": "\\<HashRouter>",
      "kind": "text",
      "body": "const root=document.getElementById('root');\nReactDOM.createRoot(root).render(\n<HashRouter>\n{/* 你的应用程序的其余部分在这里 */}\n</HashRouter>,\n);"
    },
    {
      "id": "s2-89",
      "sectionId": "s2",
      "title": "\\<HashRouter>",
      "kind": "code",
      "lang": "",
      "code": "\n`<HashRouter>` 用于 Web 浏览器，因为某些原因不应（或不能）将 URL 发送到服务器\n\n### \\<NativeRouter>\n\n```jsx {3}\nimport * as React from \"react\";\nimport {\n  NativeRouter\n} from \"react-router-native\";\n\nfunction App() {\n  return (\n    <NativeRouter>\n      {/* 你的应用程序的其余部分在这里 */}\n    </NativeRouter>\n  );\n}"
    },
    {
      "id": "s2-90",
      "sectionId": "s2",
      "title": "\\<HashRouter>",
      "kind": "text",
      "body": "`<NativeRouter>` 是在 React Native 应用程序中运行 React Router 的推荐接口"
    },
    {
      "id": "s2-91",
      "sectionId": "s2",
      "title": "\\<MemoryRouter>",
      "kind": "code",
      "lang": "jsx",
      "code": "import * as React from \"react\";\nimport { create } from \"react-test-renderer\";\nimport {\n  MemoryRouter,\n  Routes,\n  Route,\n} from \"react-router-dom\";\n\ndescribe(\"My app\", () => {\n  it(\"renders correctly\", () => {\n    let renderer = create(\n      <MemoryRouter initialEntries={[\"/users/mjackson\"]}>\n        <Routes>\n          <Route path=\"users\" element={<Users />}>\n            <Route path=\":id\" element={<UserProfile />} />\n          </Route>\n        </Routes>\n      </MemoryRouter>\n    );\n\n    expect(renderer.toJSON()).toMatchSnapshot();\n  });\n});"
    },
    {
      "id": "s2-92",
      "sectionId": "s2",
      "title": "\\<MemoryRouter>",
      "kind": "text",
      "body": "`<MemoryRouter>` 在内部将其位置存储在一个数组中。 与 `<BrowserHistory>` 和 `<HashHistory>` 不同，它不依赖于外部源，例如浏览器中的历史堆栈。 这使得它非常适合需要完全控制历史堆栈的场景，例如测试"
    },
    {
      "id": "s2-93",
      "sectionId": "s2",
      "title": "\\<Router>",
      "kind": "text",
      "body": "`<Router>` 是所有路由器组件（如 `<BrowserRouter>` 和 `<StaticRouter>`）共享的低级接口。 就 React 而言，`<Router>` 是一个上下文提供者，它向应用程序的其余部分提供路由信息"
    },
    {
      "id": "s2-94",
      "sectionId": "s2",
      "title": "\\<StaticRouter>",
      "kind": "code",
      "lang": "jsx",
      "code": "import * as React from \"react\";\nimport * as ReactDOMServer from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom/server\";\nimport http from \"http\";\n\nfunction requestHandler(req, res) {\n  let html = ReactDOMServer.renderToString(\n    <StaticRouter location={req.url}>\n      {/* 你的应用程序的其余部分在这里 */}\n    </StaticRouter>\n  );\n\n  res.write(html);\n  res.end();\n}\n\nhttp.createServer(requestHandler)\n    .listen(3000);"
    },
    {
      "id": "s3-95",
      "sectionId": "s3",
      "title": "另见",
      "kind": "text",
      "body": "• [React Router 官网](https://reactrouter.com/)"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/reactrouter.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/reactrouter.md",
    "lang": "zh",
    "mode": "local"
  }
}