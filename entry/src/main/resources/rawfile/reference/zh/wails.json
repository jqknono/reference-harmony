{
  "id": "wails",
  "name": "Wails V2 备忘清单",
  "title": "[![GitHub Repo stars](https://img.shields.io/github/stars/wailsapp/wails?style=flat)](https://github.com/wailsapp/wails)    [![GitHub release (latest by date)](https://img.shields.io/github/v/release/wailsapp/wails?style=flat)](https://github.com/wailsapp/wails/releases/latest)    [![Go Reference](https://pkg.go.dev/badge/github.com/wailsapp/wails/v2.svg)](https://pkg.go.dev/github.com/wailsapp/wails/v2)",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/wails.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "命令行工具 (CLI)",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "项目配置",
      "startIndex": 7
    },
    {
      "id": "s3",
      "title": "核心交互与生命周期",
      "startIndex": 20
    },
    {
      "id": "s4",
      "title": "运行时 API (Runtime)",
      "startIndex": 34
    },
    {
      "id": "s5",
      "title": "应用打包与分发",
      "startIndex": 59
    },
    {
      "id": "s6",
      "title": "进阶主题与杂项",
      "startIndex": 93
    },
    {
      "id": "s7",
      "title": "参考资料",
      "startIndex": 108
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![GitHub Repo stars](https://img.shields.io/github/stars/wailsapp/wails?style=flat)](https://github.com/wailsapp/wails)    [![GitHub release (latest by date)](https://img.shields.io/github/v/release/wailsapp/wails?style=flat)](https://github.com/wailsapp/wails/releases/latest)    [![Go Reference](https://pkg.go.dev/badge/github.com/wailsapp/wails/v2.svg)](https://pkg.go.dev/github.com/wailsapp/wails/v2)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "Wails 是一个基于 Go 和现代 Web 技术（如 Vue、React、Svelte 等）构建跨平台桌面应用的轻量级开源框架，可作为 Electron 的替代方案，以下是 Wails v2 的常用命令和示例速查（v3 仍在开发中）。"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "安装与更新",
      "kind": "code",
      "lang": "bash",
      "code": "# 安装 Wails CLI\n$ go install github.com/wailsapp/wails/v2/cmd/wails@latest\n\n# 更新到最新稳定版\n$ wails update\n# 更新到最新预发布版\n$ wails update -pre"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "常用命令参数",
      "kind": "qa",
      "front": "`init`",
      "back": "`-n` | **项目名称 (必填)**"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "常用命令参数",
      "kind": "qa",
      "front": "`dev`",
      "back": "`-browser` | 在浏览器中打开前端界面进行调试"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "常用命令参数",
      "kind": "qa",
      "front": "`build`",
      "back": "`-platform` | 交叉编译目标平台, 如 `darwin/arm64`"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "项目命令",
      "kind": "code",
      "lang": "bash",
      "code": "# 初始化新项目 (以 Vue 模板为例)\n$ wails init -n my-project -t vue\n\n# 使用自定义模板\n$ wails init -n my-project -t https://github.com/user/template\n\n# 进入项目目录并启动实时开发\n$ cd my-project\n$ wails dev\n\n# 构建生产版本 (以 Windows 平台为例)\n$ wails build -platform windows/amd64 -clean -upx\n\n# 检查环境依赖\n$ wails doctor\n\n# 生成绑定文件\n$ wails generate module"
    },
    {
      "id": "s2-7",
      "sectionId": "s2",
      "title": "项目结构",
      "kind": "code",
      "lang": "shell",
      "code": "my-project/\n├── build/          # 构建输出目录\n├── frontend/       # 前端源文件\n│   └── wailsjs/    # Wails 自动生成的模块\n├── app.go          # 应用核心逻辑\n├── main.go         # 应用入口\n├── go.mod\n└── wails.json      # 项目配置文件"
    },
    {
      "id": "s2-8",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`name`",
      "back": "项目名称 | `\"my-app\"`"
    },
    {
      "id": "s2-9",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`outputfilename`",
      "back": "输出的二进制文件名 | `\"my-app.exe\"`"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`frontend:install`",
      "back": "前端依赖安装命令 | `\"npm install\"`"
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`frontend:build`",
      "back": "前端构建命令 | `\"npm run build\"`"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`frontend:dev:watcher`",
      "back": "开发模式下运行的前端监视命令 | `\"npm run dev\"`"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`frontend:dev:serverUrl`",
      "back": "前端开发服务器 URL | `\"http://localhost:3000\"`"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`wailsjsdir`",
      "back": "生成 JS 模块的目录 | `\"./frontend/wailsjs\"`"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`assetdir`",
      "back": "前端资产目录 | `\"./frontend/dist\"`"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`reloaddirs`",
      "back": "监听重载的目录 | `\"frontend/src,app.go\"`"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`author.name`",
      "back": "作者名称，用于打包元数据 | `\"Your Name\"`"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`author.email`",
      "back": "作者邮箱 | `\"you@example.com\"`"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "`wails.json` 详解",
      "kind": "qa",
      "front": "`info`",
      "back": "(macOS) 用于 `Info.plist` 的元数据 | `{\"CFBundleName\": \"MyApp\"}`"
    },
    {
      "id": "s3-20",
      "sectionId": "s3",
      "title": "方法绑定 (Go <-> JS)",
      "kind": "text",
      "body": "在 Go 中定义公共方法，即可在前端直接调用。"
    },
    {
      "id": "s3-21",
      "sectionId": "s3",
      "title": "方法绑定 (Go <-> JS)",
      "kind": "code",
      "lang": "go",
      "code": "// app.go\ntype App struct {\n    ctx context.Context\n}\n\nfunc (a *App) Greet(name string) string {\n    return fmt.Sprintf(\"Hello %s!\", name)\n}\n\n// main.go\napp := NewApp()\nerr := wails.Run(&options.App{\n    Title: \"My App\",\n    Bind: []interface{}{\n        app, // 暴露 app 实例的所有公共方法\n    },\n})"
    },
    {
      "id": "s3-22",
      "sectionId": "s3",
      "title": "方法绑定 (Go <-> JS)",
      "kind": "code",
      "lang": "js",
      "code": "// frontend/main.js\nimport { Greet } from '../wailsjs/go/main/App';\n\nGreet(\"World\").then(result => console.log(result));"
    },
    {
      "id": "s3-23",
      "sectionId": "s3",
      "title": "事件系统 (Events)",
      "kind": "text",
      "body": "用于在 Go 和前端之间异步发送和监听消息。"
    },
    {
      "id": "s3-24",
      "sectionId": "s3",
      "title": "事件系统 (Events)",
      "kind": "text",
      "body": "#### Go 端 (`runtime.Events*`)"
    },
    {
      "id": "s3-25",
      "sectionId": "s3",
      "title": "事件系统 (Events)",
      "kind": "code",
      "lang": "go",
      "code": "import \"github.com/wailsapp/wails/v2/pkg/runtime\"\n\n// 发送事件到前端\nruntime.EventsEmit(app.ctx, \"go-event\", \"data from Go\")\n\n// 监听来自前端的事件\nruntime.EventsOn(app.ctx, \"js-event\", func(optionalData ...interface{}) {\n    // ... 处理数据\n})"
    },
    {
      "id": "s3-26",
      "sectionId": "s3",
      "title": "事件系统 (Events)",
      "kind": "text",
      "body": "#### JavaScript 端 (`runtime.Events*`)"
    },
    {
      "id": "s3-27",
      "sectionId": "s3",
      "title": "事件系统 (Events)",
      "kind": "code",
      "lang": "js",
      "code": "import { EventsOn, EventsEmit } from '../wailsjs/runtime';\n\n// 发送事件到 Go\nEventsEmit(\"js-event\", { \"payload\": 123 });\n\n// 监听来自 Go 的事件\nEventsOn(\"go-event\", (data) => {\n    console.log(\"Received data from Go:\", data);\n});"
    },
    {
      "id": "s3-28",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "text",
      "body": "在 `wails.Run()` 中定义，用于在应用关键节点执行 Go 代码。"
    },
    {
      "id": "s3-29",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "code",
      "lang": "go",
      "code": "// main.go\nerr := wails.Run(&options.App{\n    // ...\n    OnStartup:     app.startup,\n    OnDomReady:    app.domReady,\n    OnShutdown:    app.shutdown,\n\n    // 返回 bool 值决定是否关闭\n    OnBeforeClose: app.beforeClose,\n})"
    },
    {
      "id": "s3-30",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "qa",
      "front": "`OnStartup`",
      "back": "应用启动时，在窗口创建前调用"
    },
    {
      "id": "s3-31",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "qa",
      "front": "`OnDomReady`",
      "back": "前端 DOM 加载完成后调用"
    },
    {
      "id": "s3-32",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "qa",
      "front": "`OnShutdown`",
      "back": "应用关闭前，在窗口销毁后调用"
    },
    {
      "id": "s3-33",
      "sectionId": "s3",
      "title": "应用生命周期钩子",
      "kind": "qa",
      "front": "`OnBeforeClose`",
      "back": "用户关闭窗口时调用，返回 `true` 可阻止关闭"
    },
    {
      "id": "s4-34",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**设置标题**",
      "back": "`WindowSetTitle(ctx, \"New\")` | `WindowSetTitle(\"New\")`"
    },
    {
      "id": "s4-35",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**设置尺寸**",
      "back": "`WindowSetSize(ctx, 800, 600)` | `WindowSetSize(800, 600)`"
    },
    {
      "id": "s4-36",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**设置最小/最大尺寸**",
      "back": "`WindowSetMinSize(ctx, 400, 300)` | `WindowSetMinSize(400, 300)`"
    },
    {
      "id": "s4-37",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**居中**",
      "back": "`WindowCenter(ctx)` | `WindowCenter()`"
    },
    {
      "id": "s4-38",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**全屏/取消全屏**",
      "back": "`WindowFullscreen(ctx)` | `WindowFullscreen()`"
    },
    {
      "id": "s4-39",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**显示/隐藏**",
      "back": "`WindowShow(ctx)` / `WindowHide(ctx)` | `WindowShow()` / `WindowHide()`"
    },
    {
      "id": "s4-40",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**设为置顶**",
      "back": "`WindowSetAlwaysOnTop(ctx, true)` | `WindowSetAlwaysOnTop(true)`"
    },
    {
      "id": "s4-41",
      "sectionId": "s4",
      "title": "窗口 (Window)",
      "kind": "qa",
      "front": "**拖动窗口**",
      "back": "(仅 JS) | 在 HTML 元素上设置 `style=\"--wails-draggable:drag\"`"
    },
    {
      "id": "s4-42",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "text",
      "body": "#### Go 端"
    },
    {
      "id": "s4-43",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "code",
      "lang": "go",
      "code": "dialogOpts := &runtime.OpenDialogOptions{ Title: \"Select File\" }\nfilePath, err := runtime.OpenFileDialog(app.ctx, *dialogOpts)"
    },
    {
      "id": "s4-44",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "qa",
      "front": "**信息框**",
      "back": "`MessageDialog(ctx, runtime.MessageDialogOptions{...})`"
    },
    {
      "id": "s4-45",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "qa",
      "front": "**打开文件**",
      "back": "`OpenFileDialog(ctx, runtime.OpenDialogOptions{...})`"
    },
    {
      "id": "s4-46",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "qa",
      "front": "**保存文件**",
      "back": "`SaveFileDialog(ctx, runtime.SaveDialogOptions{...})`"
    },
    {
      "id": "s4-47",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "qa",
      "front": "**打开目录**",
      "back": "`OpenDirectoryDialog(ctx, runtime.OpenDialogOptions{...})`"
    },
    {
      "id": "s4-48",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "text",
      "body": "#### JavaScript 端"
    },
    {
      "id": "s4-49",
      "sectionId": "s4",
      "title": "对话框 (Dialog)",
      "kind": "code",
      "lang": "js",
      "code": "import { OpenFileDialog } from '../wailsjs/runtime';\n\nasync function selectFile() {\n    const filePath = await OpenFileDialog({ title: \"Select File\" });\n}"
    },
    {
      "id": "s4-50",
      "sectionId": "s4",
      "title": "菜单 (Menu)",
      "kind": "code",
      "lang": "go",
      "code": "// main.go\nappMenu := menu.NewMenu()\nfileMenu := appMenu.AddSubmenu(\"File\")\nfileMenu.AddText(\"Quit\", keys.CmdOrCtrl(\"q\"), func(_ *menu.CallbackData) {\n    runtime.Quit(app.ctx)\n})\n\nerr := wails.Run(&options.App{\n    // ...\n    Menu: appMenu,\n})"
    },
    {
      "id": "s4-51",
      "sectionId": "s4",
      "title": "菜单 (Menu)",
      "kind": "qa",
      "front": "**文本项**",
      "back": "`menu.AddText(\"Item\", accelerator, callback)`"
    },
    {
      "id": "s4-52",
      "sectionId": "s4",
      "title": "菜单 (Menu)",
      "kind": "qa",
      "front": "**复选框**",
      "back": "`menu.AddCheckbox(\"Toggle\", true, accelerator, callback)`"
    },
    {
      "id": "s4-53",
      "sectionId": "s4",
      "title": "菜单 (Menu)",
      "kind": "qa",
      "front": "**分隔符**",
      "back": "`menu.AddSeparator()`"
    },
    {
      "id": "s4-54",
      "sectionId": "s4",
      "title": "菜单 (Menu)",
      "kind": "qa",
      "front": "**子菜单**",
      "back": "`menu.AddSubmenu(\"Submenu\")`"
    },
    {
      "id": "s4-55",
      "sectionId": "s4",
      "title": "其他 Runtime API",
      "kind": "text",
      "body": "#### 日志"
    },
    {
      "id": "s4-56",
      "sectionId": "s4",
      "title": "其他 Runtime API",
      "kind": "code",
      "lang": "go",
      "code": "// Go 示例 (`runtime.*`) \nLogInfo(ctx, \"Message\") \n// JS 示例 (`runtime.*`)\nLogInfo(\"Message\")"
    },
    {
      "id": "s4-57",
      "sectionId": "s4",
      "title": "其他 Runtime API",
      "kind": "text",
      "body": "#### 剪贴板"
    },
    {
      "id": "s4-58",
      "sectionId": "s4",
      "title": "其他 Runtime API",
      "kind": "code",
      "lang": "go",
      "code": "// Go 示例 (`runtime.*`) \nClipboardSetText(ctx, \"text\")\n// JS 示例 (`runtime.*`)\nClipboardSetText(\"text\")"
    },
    {
      "id": "s5-59",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "#### <red>■</red> 默认生成: `.exe` 可执行文件\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-60",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform windows/amd64"
    },
    {
      "id": "s5-61",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "#### <red>■</red> 生成 NSIS 安装程序\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-62",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "**前提条件**: 需要预先安装 [NSIS (Nullsoft Scriptable Install System)](https://nsis.sourceforge.io/Download)。"
    },
    {
      "id": "s5-63",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "• **下载 NSIS**: 从 [NSIS 官方网站](https://nsis.sourceforge.io/Download) 下载最新版本的 NSIS 安装程序。\n• **安装 NSIS**: 运行安装程序并按照提示完成安装。**确保**在安装过程中选择将 NSIS 添加到系统的 `PATH` 环境变量中，以便 `makensis` 命令可以在命令行中全局访问。\n• **验证安装**:"
    },
    {
      "id": "s5-64",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "  $ makensis -VERSION"
    },
    {
      "id": "s5-65",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "如果安装正确，您将看到 NSIS 的版本号输出。"
    },
    {
      "id": "s5-66",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "**生成安装程序**:"
    },
    {
      "id": "s5-67",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform windows/amd64 -nsis"
    },
    {
      "id": "s5-68",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "#### <red>■</red> 处理 WebView2 依赖\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-69",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "`download`: 提示用户下载 WebView2。"
    },
    {
      "id": "s5-70",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform windows/amd64 -webview2 download"
    },
    {
      "id": "s5-71",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "`embed`: 将 WebView2 嵌入到应用中（推荐）。"
    },
    {
      "id": "s5-72",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform windows/amd64 -webview2 embed"
    },
    {
      "id": "s5-73",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "text",
      "body": "`browser`: 在浏览器中打开下载页面。"
    },
    {
      "id": "s5-74",
      "sectionId": "s5",
      "title": "Windows 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform windows/amd64 -webview2 browser"
    },
    {
      "id": "s5-75",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "text",
      "body": "#### <red>■</red> 默认生成: `.app` 应用程序包\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-76",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform darwin/amd64"
    },
    {
      "id": "s5-77",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "text",
      "body": "#### <red>■</red> 代码签名与公证\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-78",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "text",
      "body": "需要通过 Apple 开发者账户进行 **代码签名** 和 **公证** 才能分发。"
    },
    {
      "id": "s5-79",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "text",
      "body": "#### <red>■</red> 跳过打包成 `.app` 步骤\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-80",
      "sectionId": "s5",
      "title": "macOS 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform darwin/amd64 -skippackage"
    },
    {
      "id": "s5-81",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "#### <red>■</red> 生成可执行文件\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-82",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform linux/amd64"
    },
    {
      "id": "s5-83",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "#### <red>■</red> 打包成 `.deb`\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-84",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform linux/amd64 -deb"
    },
    {
      "id": "s5-85",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "#### <red>■</red> 打包成 `.rpm`\n<!--rehype:style=text-align: left;font-weight: bold;-->"
    },
    {
      "id": "s5-86",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "code",
      "lang": "bash",
      "code": "$ wails build -platform linux/amd64 -rpm"
    },
    {
      "id": "s5-87",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s5-88",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "#### AppImage 支持"
    },
    {
      "id": "s5-89",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "Wails 不直接内置对 AppImage 的支持，但可以使用外部工具手动创建。使用 `appimagetool`:"
    },
    {
      "id": "s5-90",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "code",
      "lang": "shell",
      "code": "appimagetool ./your-app-dir"
    },
    {
      "id": "s5-91",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "**安装 `appimagetool`**:"
    },
    {
      "id": "s5-92",
      "sectionId": "s5",
      "title": "Linux 打包",
      "kind": "text",
      "body": "• 您可以从 [AppImage 官方网站](https://appimage.org/) 获取 `appimagetool`。\n• 下载后，将其添加到您的 `PATH` 中以便全局访问。"
    },
    {
      "id": "s6-93",
      "sectionId": "s6",
      "title": "平台特定构建选项",
      "kind": "text",
      "body": "在 `main.go` 的 `wails.Run()` 中为不同平台提供细粒度配置。"
    },
    {
      "id": "s6-94",
      "sectionId": "s6",
      "title": "平台特定构建选项",
      "kind": "code",
      "lang": "go",
      "code": "err := wails.Run(&options.App{\n    // ...\n    Windows: &windows.Options{\n        WebviewIsTransparent: true, // WebView2 背景透明\n        WindowIsTranslucent:  true, // 窗口背景透明\n        DisableWindowIcon:    false, // 禁用窗口图标\n        Theme:                windows.SystemDefault, // 主题设置\n    },\n    Mac: &mac.Options{\n        TitleBar: &mac.TitleBar{\n            TitlebarAppearsTransparent: true, // 透明标题栏\n            HideTitle:                  false, // 隐藏标题\n            HideTitleBar:               false, // 隐藏标题栏\n            FullSizeContent:            false, // 全尺寸内容\n            UseToolbar:                 false, // 使用工具栏\n        },\n        About: &mac.AboutInfo{\n            Title:   \"My Awesome App\",\n            Message: \"© 2025 Me\",\n            Icon:    icon, // 应用图标\n        },\n        WebviewIsTransparent: true, // WebView 透明\n        WindowIsTranslucent:  false, // 窗口半透明\n    },\n    Linux: &linux.Options{\n        Icon: icon, // Linux 图标\n        WindowIsTranslucent: false, // 窗口半透明\n    },\n})"
    },
    {
      "id": "s6-95",
      "sectionId": "s6",
      "title": "使用 TypeScript",
      "kind": "text",
      "body": "Wails 会自动为 Go 绑定的方法生成 TypeScript 定义。"
    },
    {
      "id": "s6-96",
      "sectionId": "s6",
      "title": "使用 TypeScript",
      "kind": "code",
      "lang": "bash",
      "code": "# wails.json\n\"frontend:build\": \"npm run build\"\n\n# package.json\n\"scripts\": {\n  \"build\": \"tsc && vite build\"\n}"
    },
    {
      "id": "s6-97",
      "sectionId": "s6",
      "title": "上下文 (Context)",
      "kind": "text",
      "body": "使用 Go 的 context 进行更好的资源管理和取消操作。"
    },
    {
      "id": "s6-98",
      "sectionId": "s6",
      "title": "上下文 (Context)",
      "kind": "code",
      "lang": "go",
      "code": "// app.go\nfunc (a *App) LongRunningTask(ctx context.Context) error {\n    select {\n    case <-time.After(5 * time.Second):\n        return nil\n    case <-ctx.Done():\n        return ctx.Err() // 任务被取消\n    }\n}"
    },
    {
      "id": "s6-99",
      "sectionId": "s6",
      "title": "调试",
      "kind": "text",
      "body": "• **Go 部分**: 使用 `wails dev -debug` 启动并附加您的 Go 调试器。\n• **前端部分**: 在 `wails dev` 模式下，右键点击应用，选择“检查”打开浏览器开发者工具。"
    },
    {
      "id": "s6-100",
      "sectionId": "s6",
      "title": "性能优化",
      "kind": "text",
      "body": "#### 构建优化"
    },
    {
      "id": "s6-101",
      "sectionId": "s6",
      "title": "性能优化",
      "kind": "code",
      "lang": "bash",
      "code": "# 使用构建标签优化\n$ wails build -tags production\n\n# 使用 ldflags 减小二进制文件大小\n$ wails build -ldflags \"-s -w\"\n\n# 使用 UPX 压缩\n$ wails build -upx\n\n# 组合使用多个优化选项\n$ wails build -ldflags \"-s -w\" -upx -tags production"
    },
    {
      "id": "s6-102",
      "sectionId": "s6",
      "title": "性能优化",
      "kind": "text",
      "body": "#### 前端优化 (wails.json)"
    },
    {
      "id": "s6-103",
      "sectionId": "s6",
      "title": "性能优化",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"frontend:build\": \"npm run build:prod\",\n  \"frontend:dev:build\": \"npm run build:dev\"\n}"
    },
    {
      "id": "s6-104",
      "sectionId": "s6",
      "title": "常见问题与解决方案",
      "kind": "text",
      "body": "#### 构建问题"
    },
    {
      "id": "s6-105",
      "sectionId": "s6",
      "title": "常见问题与解决方案",
      "kind": "code",
      "lang": "bash",
      "code": "# 清理构建缓存\n$ wails build -clean\n\n# 强制重新生成绑定\n$ wails generate module -f\n\n# 检查环境配置\n$ wails doctor"
    },
    {
      "id": "s6-106",
      "sectionId": "s6",
      "title": "常见问题与解决方案",
      "kind": "text",
      "body": "#### 开发问题"
    },
    {
      "id": "s6-107",
      "sectionId": "s6",
      "title": "常见问题与解决方案",
      "kind": "code",
      "lang": "bash",
      "code": "# 重置前端依赖\n$ rm -rf frontend/node_modules\n$ wails dev\n\n# 使用外部开发服务器\n$ wails dev -frontenddevserverurl http://localhost:3000"
    },
    {
      "id": "s7-108",
      "sectionId": "s7",
      "title": "参考资料",
      "kind": "text",
      "body": "• [Wails 官方文档](https://wails.io/) _(wails.io)_\n• [Wails GitHub 仓库](https://github.com/wailsapp/wails) _(github.com)_\n• [Wails Discord 社区](https://discord.gg/4K6VHPkG5c) _(discord.gg)_\n• [Wails 模板库](https://github.com/wailsapp/awesome-wails) _(github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/wails.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/wails.md",
    "lang": "zh",
    "mode": "local"
  }
}