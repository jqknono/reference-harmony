{
  "id": "npm",
  "name": "npm å¤‡å¿˜æ¸…å•",
  "title": "è¿™ä¸ª [npm](https://www.npmjs.com/) å¿«é€Ÿå‚è€ƒå¤‡å¿˜å•æ˜¾ç¤ºäº†å®ƒçš„å¸¸ç”¨å‘½ä»¤ä½¿ç”¨æ¸…å•",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/npm.svg",
  "sections": [
    {
      "id": "intro",
      "title": "ç®€ä»‹",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "å¸¸ç”¨å‘½ä»¤",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "npx",
      "startIndex": 26
    },
    {
      "id": "s3",
      "title": "é…ç½®",
      "startIndex": 48
    },
    {
      "id": "s4",
      "title": "çº¯ ESM åŒ…",
      "startIndex": 66
    },
    {
      "id": "s5",
      "title": "å¦è§",
      "startIndex": 69
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "ç®€ä»‹",
      "kind": "text",
      "body": "è¿™ä¸ª [npm](https://www.npmjs.com/) å¿«é€Ÿå‚è€ƒå¤‡å¿˜å•æ˜¾ç¤ºäº†å®ƒçš„å¸¸ç”¨å‘½ä»¤ä½¿ç”¨æ¸…å•"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "åŒ…ç®¡ç†",
      "kind": "text",
      "body": "å‘½ä»¤ | æè¿°\n:- |:-\n`npm init -y`                      | åˆ›å»º `package.json` æ–‡ä»¶\n`npm install` æˆ– `npm i`           | å®‰è£… `package.json` ä¸­çš„æ‰€æœ‰å†…å®¹\n`npm install --production`         | å®‰è£… `package.json` ä¸­çš„æ‰€æœ‰å†…å®¹ <br /> _(é™¤äº† `devDependecies`)_\n`npm install lodash`               | å®‰è£…ä¸€ä¸ªåŒ…\n`npm install --save-dev lodash`    | å®‰è£…ä¸º `devDependency`\n`npm install --save-exact lodash`  | å‡†ç¡®å®‰è£…\n`npm install @scope/package-name`  | å®‰è£…ä¸€ä¸ªä½œç”¨åŸŸçš„å…¬å…±åŒ…\n`npm install <package_name>@<tag>` | ä½¿ç”¨ `dist-tags` å®‰è£…åŒ…\n`npm install -g <package_name>`    | å…¨å±€å®‰è£…åŒ…\n`npm uninstall <package_name>`     | å¸è½½åŒ…\n`npm uninstall -g <package_name>`  | å…¨å±€å¸è½½åŒ…\n<!--rehype:class=auto-wrap-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "å®‰è£…",
      "kind": "text",
      "body": "å‘½ä»¤ | æè¿°\n:- |:-\n`npm i sax`                          | `NPM` åŒ…\n`npm i sax@latest`                   | æŒ‡å®šæ ‡ç­¾ `æœ€æ–°`\n`npm i sax@3.0.0`                    | æŒ‡å®šç‰ˆæœ¬ `3.0.0`\n`npm i sax@\">=1 <2.0\"`               | æŒ‡å®šç‰ˆæœ¬èŒƒå›´\n`npm i @org/sax`                     | èŒƒå›´å†…çš„ `NPM` åŒ…\n`npm i user/repo`                    | GitHub\n`npm i user/repo#master`             | GitHub\n`npm i github:user/repo`             | GitHub\n`npm i gitlab:user/repo`             | GitLab\n`npm i /path/to/repo`                | ç»å¯¹è·¯å¾„\n`npm i ./archive.tgz`                | å‹ç¼©åŒ…\n`npm i https://site.com/archive.tgz` | é€šè¿‡ `HTTP` å‹ç¼©åŒ…\n<!--rehype:class=auto-wrap-->"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "å®‰è£…",
      "kind": "text",
      "body": "å®‰è£…ä¾èµ–çš„å¯ç”¨å‚æ•°"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "å®‰è£…",
      "kind": "text",
      "body": "â€¢ `-P`, `--save-prod` åŒ…å°†å‡ºç°åœ¨æ‚¨çš„ä¾èµ–é¡¹ä¸­ï¼Œè¿™æ˜¯é»˜è®¤å€¼(npm v8)ï¼Œé™¤éå­˜åœ¨ `-D` æˆ– `-O`\nâ€¢ `-D`, `--save-dev` åŒ…ä¼šå‡ºç°åœ¨ä½ çš„ `devDependencies` ä¸­\nâ€¢ `-O`, `--save-optional` åŒ…å°†å‡ºç°åœ¨æ‚¨çš„ `optionalDependencies` ä¸­\nâ€¢ `--no-save` é˜²æ­¢ä¿å­˜åˆ°ä¾èµ–é¡¹\nâ€¢ `-E`, `--save-exact` ä¾èµ–é¡¹å°†ä½¿ç”¨ç²¾ç¡®çš„ç‰ˆæœ¬è¿›è¡Œé…ç½®ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `npm` çš„é»˜è®¤ [`semver`](./semver.md) èŒƒå›´è¿ç®—ç¬¦\nâ€¢ `-B`, `--save-bundle` ä¾èµ–é¡¹ä¹Ÿå°†æ·»åŠ åˆ°æ‚¨çš„ [`bundleDependencies`](./package.json.md#bundleddependencies) åˆ—è¡¨ä¸­"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "å®‰è£…",
      "kind": "text",
      "body": "å‘½ä»¤ `npm i` æ˜¯ `npm install` çš„åˆ«å"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "æ¸…å•",
      "kind": "text",
      "body": "å‘½ä»¤ | æè¿°\n:- |:-\n`npm list`              | åˆ—å‡ºæ­¤è½¯ä»¶ä¸­æ‰€æœ‰ä¾èµ–é¡¹çš„å·²å®‰è£…ç‰ˆæœ¬\n`npm list -g --depth 0` | åˆ—å‡ºæ‰€æœ‰å…¨å±€å®‰è£…åŒ…çš„å®‰è£…ç‰ˆæœ¬\n`npm view`              | åˆ—å‡ºæ­¤è½¯ä»¶ä¸­æ‰€æœ‰ä¾èµ–é¡¹çš„æœ€æ–°ç‰ˆæœ¬\n`npm outdated`          | ä»…åˆ—å‡ºæ­¤è½¯ä»¶ä¸­å·²è¿‡æ—¶çš„ä¾èµ–é¡¹\n<!--rehype:class=auto-wrap-->"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "ç¼“å­˜ cache",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm cache add <package-spec>    # å°†æŒ‡å®šçš„åŒ…æ·»åŠ åˆ°æœ¬åœ°ç¼“å­˜\n$ npm cache clean [<key>]         # åˆ é™¤ç¼“å­˜æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ•°æ®\n$ npm cache ls [<name>@<version>]\n$ npm cache verify # éªŒè¯ç¼“å­˜æ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œåƒåœ¾æ”¶é›†ä»»ä½•ä¸éœ€è¦çš„æ•°æ®ï¼Œ\n                 # å¹¶éªŒè¯ç¼“å­˜ç´¢å¼•å’Œæ‰€æœ‰ç¼“å­˜æ•°æ®çš„å®Œæ•´æ€§"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "ç¼“å­˜ cache",
      "kind": "text",
      "body": "ç”¨äºæ·»åŠ ã€åˆ—å‡ºæˆ–æ¸…ç† [npm](https://www.npmjs.com/) ç¼“å­˜æ–‡ä»¶å¤¹"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "æ›´æ–°",
      "kind": "text",
      "body": "å‘½ä»¤ | æè¿°\n:- | -\n`npm version <version>` | è¦æ›´æ”¹ `package.json` ä¸­çš„ç‰ˆæœ¬å·\n`npm update`            | æ›´æ–°ç”Ÿäº§åŒ…\n`npm update --dev`      | æ›´æ–°å¼€å‘åŒ…\n`npm update -g`         | æ›´æ–°å…¨å±€åŒ…\n`npm update lodash`     | æ›´æ–° `lodash` åŒ…"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "æ‚é¡¹åŠŸèƒ½",
      "kind": "code",
      "lang": "bash",
      "code": "# å°†æŸäººæ·»åŠ ä¸ºæ‰€æœ‰è€…\n$ npm owner add USERNAME PACKAGENAME\n# åˆ—å‡ºåŒ…\n$ npm ls\n# å‘å®‰è£…æ—§ç‰ˆæœ¬è½¯ä»¶åŒ…çš„ç”¨æˆ·æ·»åŠ è­¦å‘Š(å¼ƒç”¨)\n$ npm deprecate PACKAGE@\"< 0.2.0\" \"critical bug fixed in v0.2.0\"\n# æ›´æ–°æ‰€æœ‰åŒ…æˆ–é€‰å®šçš„åŒ…\n$ npm update [-g] PACKAGE\n# æ£€æŸ¥è¿‡æ—¶çš„åŒ…\n$ npm outdated [PACKAGE]"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "å–æ¶ˆå‘å¸ƒåŒ…",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm unpublish <package-name> -f\n# å–æ¶ˆæŒ‡å®šç‰ˆæœ¬\n$ npm unpublish <package-name>@<version>"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "å–æ¶ˆå‘å¸ƒåŒ…",
      "kind": "text",
      "body": "æ³¨æ„ï¼šå¦‚æœæ‚¨å–æ¶ˆå‘å¸ƒæ•´ä¸ªåŒ…ï¼Œåˆ™å¿…é¡»åœ¨ 24 å°æ—¶åæ‰èƒ½å‘å¸ƒè¯¥åŒ…çš„ä»»ä½•æ–°ç‰ˆæœ¬"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "æ›´æ”¹åŒ…è£¹å¯è§æ€§",
      "kind": "code",
      "lang": "bash",
      "code": "# å°†å…¬å…±åŒ…è®¾ä¸ºç§æœ‰\n$ npm access restricted <package-name>\n# å…¬å¼€ç§æœ‰åŒ…\n$ npm access public <package-name>\n# æˆäºˆç§æœ‰åŒ…è®¿é—®æƒé™\n$ npm owner add <user> <your-package-name>"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "è¦å°†åŒ…è½¬ç§»åˆ° npm ç”¨æˆ·å¸æˆ·",
      "kind": "code",
      "lang": "bash",
      "code": "# æ–°ç»´æŠ¤è€…æ¥å—é‚€è¯·\n$ npm owner add <their-username> <package-name>\n# åˆ é™¤ç»´æŠ¤è€…\n$ npm owner rm <your-username> <package-name>\n# å†™å…¥å¯ç”¨äº†åŒå› ç´ èº«ä»½éªŒè¯\n$ npm owner add <their-username> <package-name> --otp=123456"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "å‘å¸ƒåŒ… npmjs.org",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm publish\n# ç¬¬ä¸€æ¬¡éœ€è¦æŒ‡å®šå…¬å¼€å‚æ•°\n$ npm publish --access public\n$ npm publish --access public --tag previous"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "å‘å¸ƒåŒ… npmjs.org",
      "kind": "text",
      "body": "å‘å¸ƒå…¬å¼€åŒ…ï¼Œåˆ° [npmjs.org](https://docs.npmjs.com)"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "ä½¿ç”¨ nrm åˆ‡æ¢ registry",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm install -g nrm # å®‰è£… nrm åŒ…\n# æŸ¥çœ‹ registry åˆ—è¡¨\n$ nrm ls             \n# å°†æ³¨å†Œè¡¨åˆ‡æ¢åˆ° cnpm\n$ nrm use cnpm"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "init",
      "kind": "text",
      "body": "ç”¨äºè®¾ç½®æ–°çš„æˆ–ç°æœ‰çš„ `npm` åŒ…"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "init",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm init <package-spec> # (å¦‚åŒ `npx <package-spec>)\n$ npm init <@scope>       # (å¦‚åŒ `npx <@scope>/create`)"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "init",
      "kind": "text",
      "body": "åˆ«å: `create`, `innit`"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "init",
      "kind": "text",
      "body": ":- | --\n:- | --\n`npm init foo` | `npm exec create-foo`\n`npm init @usr/foo` | `npm exec @usr/create-foo`\n`npm init @usr` | `npm exec @usr/create`\n`npm init @usr@2.0.0` | `npm exec @usr/create@2.0.0`\n`npm init @usr/foo@2.0.0` | `npm exec @usr/create-foo@2.0.0`\n<!--rehype:className=left-align-->"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "exec",
      "kind": "text",
      "body": "å‘½ä»¤å…è®¸æ‚¨åœ¨ä¸é€šè¿‡ `npm run` è¿è¡Œå®ƒç±»ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ä» npm åŒ…"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "exec",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec -- <pkg>[@<version>] [args...]\n$ npm exec --package=<pkg>[@<version>] -- <cmd> [args...]\n$ npm exec -c '<cmd> [args...]'\n$ npm exec --package=foo -c '<cmd> [args...]'"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "exec",
      "kind": "text",
      "body": "åˆ«å: x"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "exec",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec --package yo --package generator-node --call \"yo node\"\n\n$ npm exec --package=foo -- bar --bar-argument\n# ~ or ~\n$ npx --package=foo bar --bar-argument"
    },
    {
      "id": "s2-26",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "text",
      "body": "ä»æœ¬åœ°æˆ–è¿œç¨‹ npm åŒ…è¿è¡Œå‘½ä»¤"
    },
    {
      "id": "s2-27",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "code",
      "lang": "bash",
      "code": "npx -- <pkg>[@<version>] [args...]\nnpx --package=<pkg>[@<version>] -- <cmd> [args...]\nnpx -c '<cmd> [args...]'\nnpx --package=foo -c '<cmd> [args...]'"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "text",
      "body": "`npx` äºŒè¿›åˆ¶æ–‡ä»¶åœ¨ `npm v7.0.0` ä¸­è¢«é‡å†™ï¼Œå¹¶ä¸”å½“æ—¶ä¸æ¨èä½¿ç”¨ç‹¬ç«‹çš„ `npx` åŒ…"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm install eslint\n# è¿è¡Œï¼š\n$ ./node_modules/.bin/eslint"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "text",
      "body": "ä¸Šé¢å‘½ä»¤ç®€åŒ–ï¼Œç›´æ¥è¿è¡Œä¸‹é¢ğŸ‘‡å‘½ä»¤"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "code",
      "lang": "bash",
      "code": "$ npx eslint"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "ä»‹ç»",
      "kind": "text",
      "body": "å‘½ä»¤ `npx` å°†è‡ªåŠ¨å®‰è£…å¹¶è¿è¡Œ `eslint`"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "npx VS npm exec",
      "kind": "code",
      "lang": "bash",
      "code": "$ npx foo@latest bar --package=@npmcli/foo\n# npm å°†è§£æ foo åŒ…åï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ foo bar --package=@npmcli/foo"
    },
    {
      "id": "s2-34",
      "sectionId": "s2",
      "title": "npx VS npm exec",
      "kind": "text",
      "body": "ç”±äº npm çš„å‚æ•°è§£æé€»è¾‘ï¼Œè¿è¡Œè¿™ä¸ªå‘½ä»¤æ˜¯ä¸åŒçš„:"
    },
    {
      "id": "s2-35",
      "sectionId": "s2",
      "title": "npx VS npm exec",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec foo@latest bar --package=@npmcli/foo\n# npm å°†é¦–å…ˆè§£æ --package é€‰é¡¹\n# è§£æ @npmcli/foo åŒ…\n# ç„¶åï¼Œå®ƒå°†åœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ foo@latest bar"
    },
    {
      "id": "s2-36",
      "sectionId": "s2",
      "title": "npx VS npm exec",
      "kind": "text",
      "body": "ä¸‹é¢å‘½ä»¤æ˜¯ä¸ `npx` ç­‰æ•ˆçš„"
    },
    {
      "id": "s2-37",
      "sectionId": "s2",
      "title": "npx VS npm exec",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec -- foo@latest bar --package=@npmcli/foo\n# ç­‰æ•ˆçš„\n$ npx foo@latest bar --package=@npmcli/foo"
    },
    {
      "id": "s2-38",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "text",
      "body": "ä½¿ç”¨æä¾›çš„å‚æ•°åœ¨æœ¬åœ°ä¾èµ–é¡¹ä¸­è¿è¡Œ `tap` ç‰ˆæœ¬ï¼š"
    },
    {
      "id": "s2-39",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec -- tap --bail test/foo.js\n$ npx tap --bail test/foo.js"
    },
    {
      "id": "s2-40",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "text",
      "body": "é€šè¿‡æŒ‡å®š `--package` é€‰é¡¹è¿è¡Œåç§°ä¸åŒ…åç§°åŒ¹é…çš„å‘½ä»¤ä»¥å¤–çš„å‘½ä»¤ï¼š"
    },
    {
      "id": "s2-41",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm exec --package=foo -- bar --bar-argument\n# ~ or ~\n$ npx --package=foo bar --bar-argument"
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "text",
      "body": "åœ¨å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œä»»æ„ `shell` è„šæœ¬ï¼š"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "npx VS npm exec ç¤ºä¾‹",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm x -c 'eslint && say \"hooray, lint passed\"'\n$ npx -c 'eslint && say \"hooray, lint passed\"'"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "åˆ›å»ºä¸€ä¸ª React Naive é¡¹ç›®",
      "kind": "code",
      "lang": "bash",
      "code": "$ npx react-native init AwesomeProject\n$ npx react-native init AwesomeTSProject --template react-native-template-typescript"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "åˆ›å»ºä¸€ä¸ª React Naive é¡¹ç›®",
      "kind": "text",
      "body": "ä½¿ç”¨ `npx` ç›´æ¥åˆ›å»ºä¸€ä¸ª  [React Native](https://reactnative.dev/docs/environment-setup#creating-a-new-application) åº”ç”¨"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "åˆ›å»ºä¸€ä¸ª React åº”ç”¨",
      "kind": "code",
      "lang": "bash",
      "code": "$ npx create-react-app my-app\n$ npx create-react-app my-app --template typescript"
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "åˆ›å»ºä¸€ä¸ª React åº”ç”¨",
      "kind": "text",
      "body": "ä½¿ç”¨ `npx` è·³è¿‡å®‰è£… [CRA](https://reactnative.dev/docs/environment-setup#creating-a-new-application)ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ª [React](./react.md) åº”ç”¨"
    },
    {
      "id": "s3-48",
      "sectionId": "s3",
      "title": ".npmrc",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`/path/to/project/.npmrc` | æ¯ä¸ªé¡¹ç›®çš„é…ç½®æ–‡ä»¶\n`~/.npmrc` | æ¯ä¸ªç”¨æˆ·çš„é…ç½®æ–‡ä»¶\n`$PREFIX/etc/npmrc` | å…¨å±€é…ç½®æ–‡ä»¶\n`/path/to/npm/npmrc` | npm å†…ç½®é…ç½®æ–‡ä»¶\n<!--rehype:className=left-align-->"
    },
    {
      "id": "s3-49",
      "sectionId": "s3",
      "title": "é…ç½®å†…å®¹",
      "kind": "code",
      "lang": "ini",
      "code": "# last modified: 01 Jan 2016\n; Set a new registry for a scoped package\n@myscope:registry=https://registry.npmmirror.com"
    },
    {
      "id": "s3-50",
      "sectionId": "s3",
      "title": "é…ç½®å†…å®¹",
      "kind": "text",
      "body": "æ³¨é‡Šä½¿ç”¨ `#`, `;` æ”¾ç½®åˆ°ä¸€è¡Œçš„å¼€å¤´ï¼Œ [`.npmrc`](https://docs.npmjs.com/cli/v8/configuring-npm/npmrc) æ–‡ä»¶ç”±æŒ‡å®šæ­¤æ³¨é‡Šè¯­æ³•çš„ [`npm/ini`](https://github.com/npm/ini) è§£æ"
    },
    {
      "id": "s3-51",
      "sectionId": "s3",
      "title": "registry",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`npm` | <https://registry.npmjs.org/>\n`yarn` | <https://registry.yarnpkg.com/>\n`tencent` | <https://mirrors.cloud.tencent.com/npm/>\n`cnpm` | <https://r.cnpmjs.org/>\n`taobao` | <https://registry.npmmirror.com/>\n`npmMirror` | <https://skimdb.npmjs.com/registry/>\n<!--rehype:className=left-align-->"
    },
    {
      "id": "s3-52",
      "sectionId": "s3",
      "title": "`.npmignore`",
      "kind": "text",
      "body": "å°†ä¸‹é¢å†…å®¹å­˜æ”¾åˆ° `.npmignore` æ–‡ä»¶ä¸­ï¼Œæ”¾ç½®åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚"
    },
    {
      "id": "s3-53",
      "sectionId": "s3",
      "title": "`.npmignore`",
      "kind": "code",
      "lang": "gitignore",
      "code": ".git\n.svn\n# å¿½ç•¥ .swp åç¼€çš„æ–‡ä»¶\n.*.swp\n/logs/*\n\n# â€œï¼â€ æ„æ€æ˜¯ä¸è¦å¿½è§†\n!logs/.gitkeep"
    },
    {
      "id": "s3-54",
      "sectionId": "s3",
      "title": "`.npmignore`",
      "kind": "text",
      "body": "`.npmignore` æ–‡ä»¶å°±åƒ [`.gitignore`](./git.md#å¿½ç•¥æ–‡ä»¶) ä¸€æ ·å·¥ä½œã€‚å®ƒä¸èƒ½è¦†ç›– `package.json#files` å­—æ®µã€‚"
    },
    {
      "id": "s3-55",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "code",
      "lang": "bash",
      "code": "# ä¸´æ—¶ä½¿ç”¨\n$ npm install -g <package-name> --registry=https://registry.npmmirror.com"
    },
    {
      "id": "s3-56",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "text",
      "body": "å°†é…ç½®æ”¾ç½®åœ¨ [`.npmrc`](https://docs.npmjs.com/cli/v8/configuring-npm/npmrc) å…¨å±€é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ–è€…åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚"
    },
    {
      "id": "s3-57",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "code",
      "lang": "ini",
      "code": "; registry=https://registry.npmjs.org/\nregistry=https://registry.npmmirror.com"
    },
    {
      "id": "s3-58",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "text",
      "body": "æˆ–è€…é…ç½®åˆ° [`package.json#publishConfig`](./package.json.md#publishconfig) å­—æ®µä¸Š"
    },
    {
      "id": "s3-59",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "code",
      "lang": "json",
      "code": "\"publishConfig\":{\n  \"registry\": \"https://registry.npmmirror.com\"\n}"
    },
    {
      "id": "s3-60",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "text",
      "body": "æ›¿æ¢ npm ä»“åº“åœ°å€ä¸º npmmirror(æ·˜å®) é•œåƒåœ°å€"
    },
    {
      "id": "s3-61",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "code",
      "lang": "bash",
      "code": "$ npm config set registry https://registry.npmmirror.com"
    },
    {
      "id": "s3-62",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "text",
      "body": "è¯·å‚é˜…ï¼š[npmmirror ä¸­å›½é•œåƒç«™](https://npmmirror.com/)"
    },
    {
      "id": "s3-63",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "text",
      "body": "#### electronjs é•œåƒå’Œç¼“å­˜"
    },
    {
      "id": "s3-64",
      "sectionId": "s3",
      "title": "ä¸­å›½é•œåƒç«™å®‰è£…",
      "kind": "code",
      "lang": "ini",
      "code": "ELECTRON_MIRROR=\"https://npmmirror.com/mirrors/electron/\"\nELECTRON_BUILDER_BINARIES_MIRROR=https://npmmirror.com/mirrors/electron-builder-binaries/\n; ELECTRON_CUSTOM_DIR=\"{{ version }}\""
    },
    {
      "id": "s3-65",
      "sectionId": "s3",
      "title": "èº«ä»½éªŒè¯ç›¸å…³é…ç½®",
      "kind": "code",
      "lang": "ini",
      "code": "//registry.npmjs.org/:_authToken=MYTOKEN\n; å°†é€‚ç”¨äº @myorg å’Œ @another\n//somewhere.com/:_authToken=MYTOKEN\n; å°†é€‚ç”¨äº @myorg\n//somewhere.com/myorg/:_authToken=MYTOKEN1\n; å°†é€‚ç”¨äº @another\n//somewhere.com/another/:_authToken=MYTOKEN2"
    },
    {
      "id": "s4-66",
      "sectionId": "s4",
      "title": "CommonJS é¡¹ç›®ç§»åŠ¨åˆ° ESM",
      "kind": "text",
      "body": "â€¢ å°† `\"type\": \"module\"` æ·»åŠ åˆ°æ‚¨çš„ [package.json](./package.json.md)\nâ€¢ å°† [package.json](./package.json.md) ä¸­çš„ `\"main\": \"index.js\"` æ›¿æ¢ä¸º `\"exports\": \"./index.js\"`ã€‚\nâ€¢ å°† [package.json](./package.json.md) ä¸­çš„ `\"engines\"` å­—æ®µæ›´æ–°ä¸º Node.js 14: `\"node\": \">=14.16\"`ã€‚(ä¸åŒ…æ‹¬ <red>~~Node.js 12~~</red>ï¼Œå› ä¸ºå®ƒä¸å†å—æ”¯æŒ)\nâ€¢ åˆ é™¤ `\"use strict\"`ï¼›æ¥è‡ªæ‰€æœ‰ JavaScript æ–‡ä»¶\nâ€¢ å°†æ‰€æœ‰ `require()` / `module.export` æ›¿æ¢ä¸º `import` / `export`\nâ€¢ ä»…ä½¿ç”¨å®Œæ•´çš„ç›¸å¯¹æ–‡ä»¶è·¯å¾„è¿›è¡Œå¯¼å…¥ï¼š`import x from '.';` â†’ `import x from './index.js';`\nâ€¢ å¦‚æœæ‚¨æœ‰ `TypeScript` ç±»å‹å®šä¹‰ï¼ˆä¾‹å¦‚ `index.d.ts`ï¼‰ï¼Œè¯·å°†å…¶æ›´æ–°ä¸ºä½¿ç”¨ ESM å¯¼å…¥/å¯¼å‡º\nâ€¢ å¯é€‰ä½†æ¨èä½¿ç”¨ `node:` å¯¼å…¥[åè®®](https://nodejs.org/api/esm.html#esm_node_imports)"
    },
    {
      "id": "s4-67",
      "sectionId": "s4",
      "title": "TypeScript é¡¹ç›®è¾“å‡º ESM",
      "kind": "text",
      "body": "â€¢ ç¡®ä¿æ‚¨ä½¿ç”¨çš„æ˜¯ TypeScript 4.7 æˆ–æ›´é«˜ç‰ˆæœ¬\nâ€¢ å°† `\"type\": \"module\"` æ·»åŠ åˆ°æ‚¨çš„ [package.json](./package.json.md)\nâ€¢ å°† [package.json](./package.json.md) ä¸­çš„ `\"main\": \"index.js\"` æ›¿æ¢ä¸º `\"exports\": \"./index.js\"`\nâ€¢ å°† [package.json](./package.json.md) ä¸­çš„ `\"engines\"` å­—æ®µæ›´æ–°ä¸º Node.js 14: `\"node\": \">=14.16\"`ã€‚ ï¼ˆä¸åŒ…æ‹¬ <red>~~Node.js 12~~</red>ï¼Œå› ä¸ºå®ƒä¸å†å—æ”¯æŒï¼‰\nâ€¢ å°† `\"module\": \"node16\"`, `\"moduleResolution\": \"node16\"` æ·»åŠ åˆ°æ‚¨çš„ [tsconfig.json](./typescript.md) ([åˆ—å­](https://github.com/sindresorhus/tsconfig/blob/main/tsconfig.json))\nâ€¢ ä»…ä½¿ç”¨å®Œæ•´çš„ç›¸å¯¹æ–‡ä»¶è·¯å¾„è¿›è¡Œå¯¼å…¥ï¼š`import x from '.';` â†’ `import x from './index.js';`\nâ€¢ åˆ é™¤ `namespace` ä½¿ç”¨å¹¶æ”¹ç”¨ `export`\nâ€¢ å¯é€‰ä½†æ¨èä½¿ç”¨ `node:` å¯¼å…¥[åè®®](https://nodejs.org/api/esm.html#esm_node_imports)\nâ€¢ **å³ä½¿æ‚¨æ­£åœ¨å¯¼å…¥ `.ts` æ–‡ä»¶ï¼Œä¹Ÿå¿…é¡»åœ¨ç›¸å¯¹å¯¼å…¥ä¸­ä½¿ç”¨ `.js` æ‰©å±•å**"
    },
    {
      "id": "s4-68",
      "sectionId": "s4",
      "title": "TypeScript é¡¹ç›®è¾“å‡º ESM",
      "kind": "text",
      "body": "é˜…è¯»[å®˜æ–¹ ESM æŒ‡å—](https://www.typescriptlang.org/docs/handbook/esm-node.html)"
    },
    {
      "id": "s5-69",
      "sectionId": "s5",
      "title": "å¦è§",
      "kind": "text",
      "body": "â€¢ [npm ä»“åº“ã€ç½‘ç«™å’Œå‘½ä»¤è¡Œç•Œé¢çš„æ–‡æ¡£](https://docs.npmjs.com/) _(npmjs.com)_\nâ€¢ [npmmirror ä¸­å›½é•œåƒç«™](https://npmmirror.com/) _(npmmirror.com)_\nâ€¢ [Dev Cheatsheets npx](https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/javascript/npm/commands/npx.html) _(michaelcurrin.github.io)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/npm.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/npm.md",
    "lang": "zh",
    "mode": "local"
  }
}