{
  "id": "react",
  "name": "React 备忘清单",
  "title": "[![NPM version](https://img.shields.io/npm/v/react.svg?style=flat)](https://npmjs.org/package/react)",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/react.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "默认值",
      "startIndex": 60
    },
    {
      "id": "s3",
      "title": "Props",
      "startIndex": 68
    },
    {
      "id": "s4",
      "title": "JSX",
      "startIndex": 88
    },
    {
      "id": "s5",
      "title": "组件",
      "startIndex": 124
    },
    {
      "id": "s6",
      "title": "Hooks",
      "startIndex": 144
    },
    {
      "id": "s7",
      "title": "生命周期",
      "startIndex": 162
    },
    {
      "id": "s8",
      "title": "PropTypes 属性类型检查",
      "startIndex": 177
    },
    {
      "id": "s9",
      "title": "另见",
      "startIndex": 201
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![NPM version](https://img.shields.io/npm/v/react.svg?style=flat)](https://npmjs.org/package/react)\n[![Downloads](https://img.shields.io/npm/dm/react.svg?style=flat)](https://www.npmjs.com/package/react)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/facebook/react)](https://github.com/facebook/react/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/facebook/react)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "适合初学者的综合 React 备忘清单\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "React 是一个用于构建用户界面的 JavaScript 库"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• [React 官方文档](https://react.dev) _(react.dev)_\n• [Styled Components 备忘清单](./styled-components.md) _(jaywcjlove.github.io)_\n• [TypeScript JSX 备忘清单](./typescript.md#jsx) _(jaywcjlove.github.io)_"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "import {createRoot} from 'react-dom/client'\nimport App from './App'\n\nconst elm = document.getElementById('app')\nconst root = createRoot(elm);\nroot.render(<App />);"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "快速创建 **React** 项目 ([CRA](https://github.com/facebook/create-react-app))",
      "kind": "code",
      "lang": "shell",
      "code": "npx create-react-app my-app"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, {Component} from 'react'\nimport ReactDOM from 'react-dom'\n\nexport class Hello extends Component {\n  ...\n}\nexport default function World() {\n  /* ... */\n}"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "使用 `export` 导出 **`Hello`**，`export default` 导出 **`World`** 组件"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "import World, { Hello } from './hello.js';"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "使用 `import` 导入 `Hello` 组件，在示例中使用。"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "React%20%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%20CSS",
      "kind": "text",
      "body": "%60%60%60jsx%20%7B2%2C5%7D%0Aimport%20React%20from%20%22react%22%3B%0Aimport%20%22.%2FStudent.css%22%3B",
      "encoded": true
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "export%20const%20Student%20%3D%20(%0A%3Cdiv%20className%3D%22Student%22%3E%3C%2Fdiv%3E%0A)%3B",
      "encoded": true
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n注意：类属性 `className`\n\n```jsx\nconst divStyle = {\n  backgroundImage: 'url(' + imgUrl + ')',\n};\nexport const Student = (\n  <div style={divStyle}></div>\n);"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "%E5%B1%9E%E6%80%A7",
      "kind": "code",
      "lang": "jsx",
      "code": "%3CStudent%20name%3D%22Julie%22%20age%3D%7B23%7D%0A%20%20pro%3D%7Btrue%7D%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "函数组件 `Student` 中访问属性"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function Student(props) {\n  return <h1>Hello, {props.name}</h1>;\n}"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Class 组件 `Student` 中访问属性"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "class Student extends React.Component {\n  render() {\n    return (\n      <h1>Hello, {this.props.name}</h1>\n    );\n  }\n}"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "`class` 组件使用 `this.props` 访问传递给组件的属性。"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "Children",
      "kind": "code",
      "lang": "jsx",
      "code": "function Example() {\n  return (\n    <AlertBox>\n      <h1>您有待处理的通知</h1>\n    </AlertBox>\n  )\n}"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "函数 `AlertBox` 组件"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "%60%60%60jsx%20%7B4%7D%0Afunction%20AlertBox(props)%20%7B%0Areturn%20(%0A%3Cdiv%20className%3D%22alert-box%22%3E%0A%7Bprops.children%7D%0A%3C%2Fdiv%3E%0A)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n-----\n\n```jsx\n{props.children}"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "Class `AlertBox` 组件，与函数组件 `AlertBox` 组件相同"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "%60%60%60jsx%20%7B5%7D%0Aclass%20AlertBox%20extends%20React.Component%20%7B%0Arender%20()%20%7B%0Areturn%20(%0A%3Cdiv%20className%3D%22alert-box%22%3E%0A%7Bthis.props.children%7D%0A%3C%2Fdiv%3E%0A)%3B%0A%7D%0A%7D",
      "encoded": true
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n-----\n\n```jsx\n{this.props.children}"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "`children` 作为子组件的的属性传递。"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "函数中的 State，Hook 是 React 16.8 的新增特性"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "```jsx {4,8}\nimport { useState } from 'react';"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "function Student() {\nconst [count, setCount] = useState(0);\nconst click = () => setCount(count + 1);\nreturn (\n<div>\n<p>您点击了 {count} 次</p>\n<button onClick={click}>\n点击我\n</button>\n</div>\n);\n}"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n使用 `setState` 更新状态，下面是函数组件读取状态\n\n```jsx\n<p>您点击了 {count} 次</p>"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "Class 中的 State",
      "kind": "text",
      "body": "```jsx {6,12,20}\nimport React from 'react';"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "class Student extends React.Component {\nconstructor(props) {\nsuper(props);\nthis.state = {count: 1};\n// 确保函数可以访问组件属性（ES2015）\nthis.click = this.click.bind(this);\n}\nclick() {\nconst count = this.state.count;\nthis.setState({ count: count + 1})\n}\nrender() {\nreturn (\n<div>\n<button onClick={this.click}>\n点击我\n</button>\n<p>您点击了{this.state.count}次</p>\n</div>\n);\n}\n}"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n使用 `setState` 更新状态，`class` 组件中不能使用 <yel>~~hooks~~</yel>。下面是 `class` 组件读取状态\n\n```jsx\n<p>您点击了{this.state.count}次</p>"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "循环",
      "kind": "code",
      "lang": "jsx",
      "code": "const elm = ['one', 'two', 'three'];\nfunction Student() {\n  return (\n    <ul>\n      {elm.map((value, index) => (\n        <li key={index}>{value}</li>\n      ))}\n    </ul>\n  );\n}"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "`key` 值在兄弟节点之间必须唯一"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC",
      "kind": "code",
      "lang": "jsx",
      "code": "export%20default%20function%20Hello()%20%7B%0A%20%20function%20handleClick(event)%20%7B%0A%20%20%20%20event.preventDefault()%3B%0A%20%20%20%20alert(%22Hello%20World%22)%3B%0A%20%20%7D%0A%0A%20%20return%20(%0A%20%20%20%20%3Ca%20href%3D%22%2F%22%20onClick%3D%7BhandleClick%7D%3E%0A%20%20%20%20%20%20Say%20Hi%0A%20%20%20%20%3C%2Fa%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "函数注入",
      "kind": "code",
      "lang": "jsx",
      "code": "function addNumbers(x1, x2) {\n  return x1 + x2;\n}\n\nconst element = (\n  <div>\n    {addNumbers(2, 5)}\n  </div>\n);"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "嵌套",
      "kind": "code",
      "lang": "jsx",
      "code": "import { useState } from 'react'\nimport Avatar from './Avatar';\nimport Profile from './Profile';\n\nfunction Student() {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <Avatar src={count} />\n      <Profile username={count} />\n    </div>\n  );\n}"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "Portals",
      "kind": "text",
      "body": "React 并_没有_创建一个新的 `div`。它只是把子元素渲染到 `domNode` 中。`domNode` 是一个可以在任何位置的有效 DOM 节点。"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "render() {\n  return ReactDOM.createPortal(\n    this.props.children,\n    domNode\n  );\n}"
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "提供了一种将子节点渲染到存在于父组件以外的 DOM 节点的优秀的方案"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "Fragment",
      "kind": "text",
      "body": "```jsx {1,6,9}\nimport { Fragment } from 'react'\nimport Avatar from './Avatar';\nimport Profile from './Profile';"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "const%20Student%20%3D%20()%20%3D%3E%20(%0A%3CFragment%3E%0A%3CAvatar%20src%3D%22.%2Fdemo.jpg%22%20%2F%3E%0A%3CProfile%20username%3D%22name%22%20%2F%3E%0A%3C%2FFragment%3E%0A)%3B",
      "encoded": true
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A%E4%BB%8E%20%60v16.2.0%60%20%E5%BC%80%E5%A7%8B%20%60Fragment%60%20%E5%8F%AF%E7%94%A8%E4%BA%8E%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E8%80%8C%E6%97%A0%E9%9C%80%E5%90%91%20DOM%20%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E5%8C%85%E8%A3%85%E8%8A%82%E7%82%B9%E3%80%82%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8%20%60%3C%3E%3C%2F%3E%60%20%E6%95%88%E6%9E%9C%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%E3%80%82%0A%0A%60%60%60jsx%20%7B2%2C5%7D%0Aconst%20Student%20%3D%20()%20%3D%3E%20(%0A%20%20%3C%3E%0A%20%20%20%20%3CAvatar%20src%3D%22.%2Fdemo.jpg%22%20%2F%3E%0A%20%20%20%20%3CProfile%20username%3D%22name%22%20%2F%3E%0A%20%20%3C%2F%3E%0A)%3B",
      "encoded": true
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看: [Fragments & strings](https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings)"
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "返回字符串",
      "kind": "text",
      "body": "```jsx {2}\nrender() {\nreturn 'Look ma, no spans!';\n}"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A%E6%82%A8%E5%8F%AF%E4%BB%A5%E5%8F%AA%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%E6%9F%A5%E7%9C%8B%3A%20%5BFragments%20%26%20strings%5D(https%3A%2F%2Freactjs.org%2Fblog%2F2017%2F09%2F26%2Freact-v16.0.html%23new-render-return-types-fragments-and-strings)%0A%0A%23%23%23%20%E8%BF%94%E5%9B%9E%E6%95%B0%E7%BB%84%0A%0A%60%60%60jsx%0Aconst%20Student%20%3D%20()%20%3D%3E%20%5B%0A%20%20%3Cli%20key%3D%22A%22%3EFirst%20item%3C%2Fli%3E%2C%0A%20%20%3Cli%20key%3D%22B%22%3ESecond%20item%3C%2Fli%3E%0A%5D%3B",
      "encoded": true
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "不要忘记 `key`！查看: [Fragments & strings](https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings)"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "Refs%20%E8%BD%AC%E5%8F%91",
      "kind": "code",
      "lang": "jsx",
      "code": "const%20FancyButton%20%3D%20React.forwardRef(%0A%20%20(props%2C%20ref)%20%3D%3E%20(%0A%20%20%20%20%3Cbutton%20ref%3D%7Bref%7D%20className%3D%22btn%22%3E%0A%20%20%20%20%20%20%7Bprops.children%7D%0A%20%20%20%20%3C%2Fbutton%3E%0A%20%20)%0A)%3B",
      "encoded": true
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "使用",
      "kind": "code",
      "lang": "jsx",
      "code": "// 你可以直接获取 DOM button 的 ref：\nconst ref = React.createRef();\n\n<FancyButton ref={ref}>\n  点击我\n</FancyButton>;"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "Class 组件内部使用 ref 属性",
      "kind": "text",
      "body": "```jsx {6,10}\nimport {Component,createRef} from 'react'"
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "class MyComponent extends Component {\nconstructor(props) {\nsuper(props);\nthis.myRef = createRef();\n}"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "render() {\nreturn <div ref={this.myRef} />;\n}\n}"
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A%E6%8F%90%E7%A4%BA%EF%BC%9ARefs%20%E9%80%82%E7%94%A8%E4%BA%8E%E7%B1%BB%E7%BB%84%E4%BB%B6%EF%BC%8C%E4%BD%86%E4%B8%8D%E9%80%82%E7%94%A8%E4%BA%8E%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%EF%BC%88%E9%99%A4%E9%9D%9E%E6%82%A8%E4%BD%BF%E7%94%A8%20useRef%20hook%EF%BC%8C%E8%AF%B7%E5%8F%82%E9%98%85%5Bhooks%5D(%23hooks)%EF%BC%89%0A%0A%23%23%23%20%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%20ref%20%E5%B1%9E%E6%80%A7%0A%0A%60%60%60jsx%20%7B3%2C9%7D%0Afunction%20CustomTextInput(props)%20%7B%0A%20%20%2F%2F%20%E8%BF%99%E9%87%8C%E5%BF%85%E9%A1%BB%E5%A3%B0%E6%98%8E%20%24input%EF%BC%8C%E8%BF%99%E6%A0%B7%20ref%20%E6%89%8D%E5%8F%AF%E4%BB%A5%E5%BC%95%E7%94%A8%E5%AE%83%0A%20%20const%20%24input%20%3D%20useRef(null)%3B%0A%20%20function%20handleClick()%20%7B%0A%20%20%20%20%24input.current.focus()%3B%0A%20%20%7D%0A%20%20return%20(%0A%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ref%3D%7B%24input%7D%20%2F%3E%0A%20%20%20%20%20%20%3Cinput%0A%20%20%20%20%20%20%20%20type%3D%22button%22%20value%3D%22%E8%81%9A%E7%84%A6%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%22%0A%20%20%20%20%20%20%20%20onClick%3D%7BhandleClick%7D%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": "```jsx {3,8}\n<div>\n<Header />\n<React.StrictMode>\n<div>\n<ComponentOne />\n<ComponentTwo />\n</div>\n</React.StrictMode>\n<Footer />\n</div>"
    },
    {
      "id": "s1-56",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A-----%0A%0A-%20%5B%E8%AF%86%E5%88%AB%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23identifying-unsafe-lifecycles)%0A-%20%5B%E5%85%B3%E4%BA%8E%E4%BD%BF%E7%94%A8%E8%BF%87%E6%97%B6%E5%AD%97%E7%AC%A6%E4%B8%B2%20ref%20API%20%E7%9A%84%E8%AD%A6%E5%91%8A%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23warning-about-legacy-string-ref-api-usage)%0A-%20%5B%E5%85%B3%E4%BA%8E%E4%BD%BF%E7%94%A8%E5%BA%9F%E5%BC%83%E7%9A%84%20findDOMNode%20%E6%96%B9%E6%B3%95%E7%9A%84%E8%AD%A6%E5%91%8A%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23warning-about-deprecated-finddomnode-usage)%0A-%20%5B%E6%A3%80%E6%B5%8B%E6%84%8F%E5%A4%96%E7%9A%84%E5%89%AF%E4%BD%9C%E7%94%A8%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23detecting-unexpected-side-effects)%0A-%20%5B%E6%A3%80%E6%B5%8B%E8%BF%87%E6%97%B6%E7%9A%84%20context%20API%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23detecting-legacy-context-api)%0A-%20%5B%E7%A1%AE%E4%BF%9D%E5%8F%AF%E5%A4%8D%E7%94%A8%E7%9A%84%E7%8A%B6%E6%80%81%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html%23ensuring-reusable-state)%0A%0A%E7%AA%81%E5%87%BA%E6%98%BE%E7%A4%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E6%BD%9C%E5%9C%A8%E9%97%AE%E9%A2%98%E7%9A%84%E5%B7%A5%E5%85%B7%E3%80%82%E8%AF%B7%E5%8F%82%E9%98%85%EF%BC%9A%5B%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%5D(https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fstrict-mode.html)%0A%0A%23%23%23%20Profiler%0A%3C!--rehype%3Awrap-class%3Dcol-span-2--%3E%0A%0A%E6%B5%8B%E9%87%8F%E4%B8%80%E4%B8%AA%20React%20%E5%BA%94%E7%94%A8%E5%A4%9A%E4%B9%85%E6%B8%B2%E6%9F%93%E4%B8%80%E6%AC%A1%E4%BB%A5%E5%8F%8A%E6%B8%B2%E6%9F%93%E4%B8%80%E6%AC%A1%E7%9A%84%20%60%E4%BB%A3%E4%BB%B7%60%0A%0A%60%60%60jsx%0A%3CProfiler%20id%3D%22Navigation%22%20onRender%3D%7Bcallback%7D%3E%0A%20%20%3CNavigation%20%7B...props%7D%20%2F%3E%0A%3C%2FProfiler%3E",
      "encoded": true
    },
    {
      "id": "s1-57",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "为了分析 `Navigation` 组件和它的子代。应该在需要时才去使用它。"
    },
    {
      "id": "s1-58",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`id(string)` | 发生提交的 `Profiler` 树的 `id`\n`onRender(function)` | 组件树任何组件 “提交” 一个更新的时候调用这个函数"
    },
    {
      "id": "s1-59",
      "sectionId": "s1",
      "title": "onRender%20%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0",
      "kind": "text",
      "body": "%3A-%20%7C%20%3A-%0A%3A-%20%7C%20%3A-%0A%60phase%3A%20%22mount%22%20%5C%7C%20%22update%22%60%20%7C%20%20%E5%88%A4%E6%96%AD%E6%98%AF%E7%94%B1%20%60props%60%2F%60state%60%2F%60hooks%60%20%E6%94%B9%E5%8F%98%20%E6%88%96%20%E2%80%9C%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%A3%85%E8%BD%BD%E2%80%9D%20%E5%BC%95%E8%B5%B7%E7%9A%84%E9%87%8D%E6%B8%B2%E6%9F%93%0A%60actualDuration%3A%20number%60%20%7C%20%E6%9C%AC%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%9C%A8%E6%B8%B2%E6%9F%93%20Profiler%20%E5%92%8C%E5%AE%83%E7%9A%84%E5%AD%90%E4%BB%A3%E4%B8%8A%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%97%B6%E9%97%B4%0A%60baseDuration%3A%20number%60%20%7C%20%E5%9C%A8%20Profiler%20%E6%A0%91%E4%B8%AD%E6%9C%80%E8%BF%91%E4%B8%80%E6%AC%A1%E6%AF%8F%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6%20render%20%E7%9A%84%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%0A%60startTime%3A%20number%60%20%7C%20%E6%9C%AC%E6%AC%A1%E6%9B%B4%E6%96%B0%E4%B8%AD%20React%20%E5%BC%80%E5%A7%8B%E6%B8%B2%E6%9F%93%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%0A%60commitTime%3A%20number%60%20%7C%20%E6%9C%AC%E6%AC%A1%E6%9B%B4%E6%96%B0%E4%B8%AD%20React%20commit%20%E9%98%B6%E6%AE%B5%E7%BB%93%E6%9D%9F%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%0A%60interactions%3A%20Set%60%20%7C%20%E5%BD%93%E6%9B%B4%E6%96%B0%E8%A2%AB%E5%88%B6%E5%AE%9A%E6%97%B6%EF%BC%8C%E2%80%9C%5Binteractions%5D(https%3A%2F%2Ffb.me%2Freact-interaction-tracing)%E2%80%9D%20%E7%9A%84%E9%9B%86%E5%90%88%E4%BC%9A%E8%A2%AB%E8%BF%BD%E8%B8%AA",
      "encoded": true
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "Class 组件默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "class CustomButton extends React.Component {\n  // ...\n}\nCustomButton.defaultProps = {\n  color: 'blue'\n};"
    },
    {
      "id": "s2-61",
      "sectionId": "s2",
      "title": "使用",
      "kind": "code",
      "lang": "jsx",
      "code": "<CustomButton /> ;"
    },
    {
      "id": "s2-62",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "不传值 `props.color` 将自动设置为 `blue`"
    },
    {
      "id": "s2-63",
      "sectionId": "s2",
      "title": "Class 组件默认 state",
      "kind": "code",
      "lang": "jsx",
      "code": "class Hello extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { visible: true }\n  }\n}"
    },
    {
      "id": "s2-64",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "在构造 `constructor()`中设置默认状态。"
    },
    {
      "id": "s2-65",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "class Hello extends Component {\n  state = { visible: true }\n}"
    },
    {
      "id": "s2-66",
      "sectionId": "s2",
      "title": "函数组件默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "function CustomButton(props) {\n  const { color = 'blue' } = props;\n  return <div>{color}</div>\n}"
    },
    {
      "id": "s2-67",
      "sectionId": "s2",
      "title": "函数组件默认 state",
      "kind": "code",
      "lang": "jsx",
      "code": "function CustomButton() {\n  const [color, setColor]=useState('blue')\n  return <div>{color}</div>\n}"
    },
    {
      "id": "s3-68",
      "sectionId": "s3",
      "title": "Props 的 Spread 运算符",
      "kind": "text",
      "body": "扩展运算符可用于一次传递所有 Props。"
    },
    {
      "id": "s3-69",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20Profile(props)%20%7B%0A%20%20return%20%3Cp%3E%7Bprops.name%7D%2C%20%7Bprops.age%7D%3C%2Fp%3E%3B%0A%7D%0A%0Aconst%20user%20%3D%20%7B%20name%3A%20%22John%22%2C%20age%3A%2025%20%7D%3B%0A%3CProfile%20%7B...user%7D%2F%3E",
      "encoded": true
    },
    {
      "id": "s3-70",
      "sectionId": "s3",
      "title": "什么是 Props？",
      "kind": "text",
      "body": "• Props（“properties”的缩写）用于将数据从父组件传递到子组件。\n• 它们是只读的，不能在子组件内修改。"
    },
    {
      "id": "s3-71",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3CMyComponent%20propName%3D%22value%22%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s3-72",
      "sectionId": "s3",
      "title": "将 Pros 传递给组件",
      "kind": "text",
      "body": "您可以通过 JSX 中的属性将 props 从父组件传递到子组件。"
    },
    {
      "id": "s3-73",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20ParentComponent()%20%7B%0A%20%20return%20%3CChildComponent%20name%3D%22John%22%20age%3D%7B25%7D%20%2F%3E%3B%0A%7D%0A%0Afunction%20ChildComponent%20(props)%20%7B%0A%20%20return%20%3Cdiv%3EHello%EF%BC%8C%7Bprops.name%7D.%20You%20are%20%7Bprops.age%7D%20years%20old.%20%3C%2Fdiv%3E%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s3-74",
      "sectionId": "s3",
      "title": "解构 props",
      "kind": "text",
      "body": "props 可以解构以便于访问。"
    },
    {
      "id": "s3-75",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting({ name }) {\n  return <h1>Hello, {name}!</h1>;\n}"
    },
    {
      "id": "s3-76",
      "sectionId": "s3",
      "title": "访问功能组件中的 Props",
      "kind": "text",
      "body": "可以使用 props 对象在功能组件中访问 Props。"
    },
    {
      "id": "s3-77",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting(props) {\n  return <h1>Hello, {props.name}!</h1>;\n}"
    },
    {
      "id": "s3-78",
      "sectionId": "s3",
      "title": "使用 Pros 进行条件渲染",
      "kind": "text",
      "body": "道具可用于组件内部的条件渲染。"
    },
    {
      "id": "s3-79",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting({ name, isLoggedIn }) {\n  return isLoggedIn ? <hl>Welcome back, {name}</h1>: <h1>Please log in</h1>;\n}"
    },
    {
      "id": "s3-80",
      "sectionId": "s3",
      "title": "Prop%20Drilling%EF%BC%88%E5%B1%9E%E6%80%A7%E4%BC%A0%E9%80%92%EF%BC%89",
      "kind": "code",
      "lang": "js",
      "code": "function%20Parent()%20%7B%0A%20%20const%20name%20%3D%20%22John%22%3B%0A%20%20return%20%3CChild%20name%3D%7Bname%7D%2F%3E%3B%0A%7D%0A%0Afunction%20Child(%7B%20name%20%7D)%20%7B%0A%20%20return%20%3CGrandchild%20name%3D%7Bname%7D%20%2F%3E%0A%7D%0A%0Afunction%20Grandchild(%7B%20name%20%7D)%20%7B%0A%20%20return%20%3Cp%3E%7Bname%7D%3C%2Fp%3E%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s3-81",
      "sectionId": "s3",
      "title": "",
      "kind": "text",
      "body": "将属性（props）在多个组件层级中逐层传递可能会变得繁琐。这种方式称为属性传递（prop drilling）。"
    },
    {
      "id": "s3-82",
      "sectionId": "s3",
      "title": "Props 与 State",
      "kind": "text",
      "body": "• `props` 被传递给组件并且是不可变的。\n• `State` 是组件的本地状态，可以更改。"
    },
    {
      "id": "s3-83",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function ChildComponent({ name }) {\n  return <h2>Hi,my name is {name}.</h2>;\n}\n\nfunction ParentComponent() {\n  // State to manage the name value\n  const ［name, setName］= usestate('John');\n  const changeName = () => {\n    setName('Jane');\n  };\n  return (\n    <div>\n      <ChildComponent name={name}/>\n      <button onClick={changeName}>\n        Change Names\n      </button>\n    </div>\n  );\n}"
    },
    {
      "id": "s3-84",
      "sectionId": "s3",
      "title": "%E9%BB%98%E8%AE%A4%20props",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20Greeting(%7B%20name%20%3D%20%22Bob%22%20%7D%20%3D%200%7D)%20%7B%0A%20%20return%20%3Ch1%3EHello%2C%20%7Bname%7D!%3C%2Fh1%3E%3B%0A%7D%0A%2F%2F%20Renders%20%22Hello%2C%20Bob!%22%0A%3C%20Greeting%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s3-85",
      "sectionId": "s3",
      "title": "",
      "kind": "text",
      "body": "您可以为 `props` 设置默认值。"
    },
    {
      "id": "s3-86",
      "sectionId": "s3",
      "title": "使用 prop 处理事件",
      "kind": "text",
      "body": "你可以将事件处理程序作为 props 传递给 handle 用户交互。"
    },
    {
      "id": "s3-87",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20Button(%7B%20onClick%20%7D)%20%7B%0A%20%20return%20%3C%20button%20onClick%3D%7BonClick%7D%3EClick%20me%3C%2Fbutton%3E%3B%0A%7D%0A%0Afunction%20App()%20%7B%0A%20%20const%20handleClick%20%3D%20()%20%3D%3E%20alert(%22Button%20clicked!%22)%3A%0A%20%20return%20%3CButton%20onClick%3D%7BhandleClick%7D%20%2F%3E%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s4-88",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "text",
      "body": "`JSX` 仅仅只是 `React.createElement(component, props, ...children)` 函数的语法糖"
    },
    {
      "id": "s4-89",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3CMyButton%20color%3D%22blue%22%20shadowSize%3D%7B2%7D%3E%0A%20%20%E7%82%B9%E5%87%BB%E6%88%91%0A%3C%2FMyButton%3E",
      "encoded": true
    },
    {
      "id": "s4-90",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "会编译为"
    },
    {
      "id": "s4-91",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "React.createElement(\n  MyButton,\n  {color: 'blue', shadowSize: 2},\n  '点击我'\n);"
    },
    {
      "id": "s4-92",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "没有子节点"
    },
    {
      "id": "s4-93",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3Cdiv%20className%3D%22sidebar%22%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s4-94",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "会编译为"
    },
    {
      "id": "s4-95",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "js",
      "code": "React.createElement(\n  'div',\n  {className: 'sidebar'}\n)"
    },
    {
      "id": "s4-96",
      "sectionId": "s4",
      "title": "JSX%20%E7%82%B9%E8%AF%AD%E6%B3%95",
      "kind": "code",
      "lang": "jsx",
      "code": "const%20Menu%20%3D%20(%7B%20children%20%7D)%20%3D%3E%20(%0A%20%20%3Cdiv%20className%3D%22menu%22%3E%7Bchildren%7D%3Cdiv%3E%0A)%3B%0A%0AMenu.Item%20%3D%20(%7B%20children%20%7D)%20%3D%3E%20(%0A%20%20%3Cdiv%3E%7Bchildren%7D%3Cdiv%3E%0A)%3B%0A%0A%3CMenu%3E%0A%20%20%3CMenu.Item%3E%E8%8F%9C%E5%8D%95%E4%B8%80%3C%2FMenu.Item%3E%0A%20%20%3CMenu.Item%3E%E8%8F%9C%E5%8D%95%E4%BA%8C%3C%2FMenu.Item%3E%0A%3CMenu%3E",
      "encoded": true
    },
    {
      "id": "s4-97",
      "sectionId": "s4",
      "title": "JSX Element",
      "kind": "code",
      "lang": "jsx",
      "code": "let element = <h1>Hello, world!</h1>;\nlet emptyHeading = <h1 />;\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root')\n);\n\nconst element = <h1>Hello, world</h1>;\nroot.render(element);"
    },
    {
      "id": "s4-98",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "参考：[渲染元素](https://reactjs.org/docs/rendering-elements.html)"
    },
    {
      "id": "s4-99",
      "sectionId": "s4",
      "title": "JSX%20%E5%B1%9E%E6%80%A7",
      "kind": "code",
      "lang": "jsx",
      "code": "const%20avatarUrl%20%3D%20%22img%2Fpicture.jpg%22%0Aconst%20element%20%3D%20%3Cimg%20src%3D%7BavatarUrl%7D%20%2F%3E%3B%0A%0Aconst%20element%20%3D%20(%0A%20%20%3Cbutton%20className%3D%22btn%22%3E%0A%20%20%20%20%E7%82%B9%E5%87%BB%E6%88%91%0A%20%20%3C%2Fbutton%3E%0A)%3B",
      "encoded": true
    },
    {
      "id": "s4-100",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "注意：类属性 `className`"
    },
    {
      "id": "s4-101",
      "sectionId": "s4",
      "title": "JSX 表达式",
      "kind": "code",
      "lang": "jsx",
      "code": "let name = '张三';\nlet element = <h1>Hello, {name}</h1>;\n\nfunction fullName(firstName, lastName) {\n  return firstName + ' ' + lastName;\n}\nlet element = (\n  <h1>\n    Hello, {fullName('三', '张')}\n  </h1>\n);"
    },
    {
      "id": "s4-102",
      "sectionId": "s4",
      "title": "JSX style",
      "kind": "code",
      "lang": "jsx",
      "code": "const divStyle = {\n  color: 'blue',\n  backgroundImage: 'url(' + imgUrl + ')',\n};\nfunction MyComponent() {\n  return <div style={divStyle}>组件</div>;\n}"
    },
    {
      "id": "s4-103",
      "sectionId": "s4",
      "title": "JSX dangerouslySetInnerHTML",
      "kind": "code",
      "lang": "jsx",
      "code": "const markup = {__html: '我 &middot; 你' };\n\nconst MyComponent = () => (\n  <div dangerouslySetInnerHTML={markup} />\n);"
    },
    {
      "id": "s4-104",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "`dangerouslySetInnerHTML` 是 React 为浏览器 DOM 提供 `innerHTML` 的替换方案。"
    },
    {
      "id": "s4-105",
      "sectionId": "s4",
      "title": "JSX%20htmlFor",
      "kind": "code",
      "lang": "jsx",
      "code": "const%20MyComponent%20%3D%20()%20%3D%3E%20(%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cinput%20type%3D%22radio%22%20id%3D%22ab%22%20name%3D%22v%22%3E%0A%20%20%20%20%3Clabel%20for%3D%22ab%22%3EHTML%3C%2Flabel%3E%0A%20%20%3C%2Fdiv%3E%0A)%3B",
      "encoded": true
    },
    {
      "id": "s4-106",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "`for` 在 `JS` 中是保留字，JSX 元素使用了 `htmlFor` 代替"
    },
    {
      "id": "s4-107",
      "sectionId": "s4",
      "title": "JSX defaultValue",
      "kind": "text",
      "body": "非受控组件的属性，设置组件第一次挂载时的 `value`"
    },
    {
      "id": "s4-108",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3Ctextarea%20defaultValue%3D%22Hello%22%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s4-109",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "`<input>`、`<select>` 和 `<textarea>` 支持 value 属性"
    },
    {
      "id": "s4-110",
      "sectionId": "s4",
      "title": "JSX defaultChecked",
      "kind": "text",
      "body": "非受控组件的属性，设置组件是否被选中"
    },
    {
      "id": "s4-111",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3Cinput%20type%3D%22radio%22%20defaultChecked%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s4-112",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "类型为 `checkbox` 或 `radio` 时，组件支持 checked 属性"
    },
    {
      "id": "s4-113",
      "sectionId": "s4",
      "title": "JSX className",
      "kind": "text",
      "body": "属性用于指定 `CSS` 的 `class`"
    },
    {
      "id": "s4-114",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "%3Cdiv%20className%3D%22warp%22%3E...%3C%2Fdiv%3E",
      "encoded": true
    },
    {
      "id": "s4-115",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "React 中使用 [Web Components](https://developer.mozilla.org/zh-CN/docs/Web/Web_Components) 使用 `class` 属性代替"
    },
    {
      "id": "s4-116",
      "sectionId": "s4",
      "title": "JSX%20%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93",
      "kind": "code",
      "lang": "jsx",
      "code": "import%20React%20from%20%22react%22%3B%0A%0Afunction%20formatName(user)%20%7B%0A%20%20return%20user.firstName%20%0A%20%20%20%20%2B%20'%20'%20%0A%20%20%20%20%2B%20user.lastName%3B%0A%7D%0A%0Aexport%20function%20Greeting(user)%20%7B%0A%20%20if%20(user)%20%7B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%3Ch1%3E%E4%BD%A0%E5%A5%BD%2C%20%7BformatName(user)%7D!%3C%2Fh1%3E%0A%20%20%20%20)%3B%0A%20%20%7D%0A%20%20return%20(%0A%20%20%20%20%3Ch1%3E%E4%BD%A0%E5%A5%BD%2C%20%E5%85%88%E7%94%9F%E3%80%82%3C%2Fh1%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s4-117",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "注意：组件必须总是返回一些东西。"
    },
    {
      "id": "s4-118",
      "sectionId": "s4",
      "title": "%E4%BD%BF%E7%94%A8",
      "kind": "code",
      "lang": "jsx",
      "code": "%3CGreeting%20firstName%3D%22%E4%B8%89%22%20lastName%3D%22%E5%BC%A0%22%20%2F%3E",
      "encoded": true
    },
    {
      "id": "s4-119",
      "sectionId": "s4",
      "title": "JSX 三目运算符 / 与运算符 &&",
      "kind": "code",
      "lang": "jsx",
      "code": "export default function Weather(props) {\n  const isLoggedIn = props.isLoggedIn;\n  return (\n    <div>\n      <b>{isLoggedIn ? '已' : '未'}</b>登录。\n    </div>\n  );\n}\n\n{isShow && <div>内容</div>}"
    },
    {
      "id": "s4-120",
      "sectionId": "s4",
      "title": "JSX 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "<Dropdown>\n  下拉列表\n  <Menu>\n    <Menu.Item>菜单一</Menu.Item>\n    <Menu.Item>菜单二</Menu.Item>\n    <Menu.Item>菜单三</Menu.Item>\n  </Menu>\n</Dropdown>"
    },
    {
      "id": "s4-121",
      "sectionId": "s4",
      "title": "",
      "kind": "text",
      "body": "组件名称以大驼峰式命名。"
    },
    {
      "id": "s4-122",
      "sectionId": "s4",
      "title": "JSX 元素变量",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting(props) {\n  let button;\n  if (props.isLoggedIn) {\n    button = <UserGreeting />;\n  } else {\n    button = <GuestGreeting />;\n  }\n  return <div>{button}</div>;\n}"
    },
    {
      "id": "s4-123",
      "sectionId": "s4",
      "title": "JSX 注释",
      "kind": "code",
      "lang": "jsx",
      "code": "function Student() {\n  const [count, setCount] = useState(0);\n  return (\n    <Fragment>\n      {/* 这里写注释 */}\n    </Fragment>\n  );\n}"
    },
    {
      "id": "s5-124",
      "sectionId": "s5",
      "title": "%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6",
      "kind": "code",
      "lang": "jsx",
      "code": "import%20React%20from%20'react'%3B%0A%0Aconst%20UserName%20%3D%20()%20%3D%3E%20%3Ch1%3EKenny%3C%2Fh1%3E%3B%0A%0Aexport%20default%20function%20UserProfile()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3Cdiv%20className%3D%22UserProfile%22%3E%0A%20%20%20%20%20%20%3Cdiv%3EHello%3C%2Fdiv%3E%20%20%0A%20%20%20%20%20%20%3CUserName%20%2F%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s5-125",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "注意：每个组件都需要一个根元素，[更多说明](https://reactjs.org/docs/components-and-props.html)。"
    },
    {
      "id": "s5-126",
      "sectionId": "s5",
      "title": "Class 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "class Welcome extends React.Component {\n  render() {\n    return <h1>{this.props.name}</h1>;\n  }\n}"
    },
    {
      "id": "s5-127",
      "sectionId": "s5",
      "title": "Class 组件 API - 额外的 API",
      "kind": "text",
      "body": ":- | -\n:- | -\n`this.forceUpdate()` | 强制重新渲染\n`this.setState({ ... })` | 更新状态\n`this.setState(state =>{ ... })` | 更新状态"
    },
    {
      "id": "s5-128",
      "sectionId": "s5",
      "title": "属性",
      "kind": "text",
      "body": ":- | -\n:- | -\n`defaultProps` | 默认 props\n`displayName` | 显示组件名称(用于调试)"
    },
    {
      "id": "s5-129",
      "sectionId": "s5",
      "title": "实例属性",
      "kind": "text",
      "body": ":- | -\n:- | -\n`this.props` | 组件接受参数\n`this.state` | 组件内状态"
    },
    {
      "id": "s5-130",
      "sectionId": "s5",
      "title": "Pure 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, {PureComponent} from 'react'\n\nclass MessageBox extends PureComponent {\n  ···\n}"
    },
    {
      "id": "s5-131",
      "sectionId": "s5",
      "title": "高阶组件",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, { Component } from 'react';\n// 高阶组件 with\nconst with = data => WrappedComponent => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n    }\n    render() {\n      return (\n        <WrappedComponent data={data} />\n      )\n    }\n  }\n}"
    },
    {
      "id": "s5-132",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "使用高阶组件"
    },
    {
      "id": "s5-133",
      "sectionId": "s5",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "const LowComponent = (props) => (\n  <div>{props.data}</div>\n);\n\nconst MyComp = with('Hello')(LowComponent)"
    },
    {
      "id": "s5-134",
      "sectionId": "s5",
      "title": "包含关系",
      "kind": "code",
      "lang": "jsx",
      "code": "function FancyBorder(props) {\n  return (\n    <div className={'Fancy'+props.color}>\n      {props.children}\n    </div>\n  );\n}"
    },
    {
      "id": "s5-135",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "组件可以通过 JSX 嵌套"
    },
    {
      "id": "s5-136",
      "sectionId": "s5",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20WelcomeDialog()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3CFancyBorder%20color%3D%22blue%22%3E%0A%20%20%20%20%20%20%3Ch1%20className%3D%22title%22%3E%E6%AC%A2%E8%BF%8E%3C%2Fh1%3E%0A%20%20%20%20%20%20%3Cp%20className%3D%22message%22%3E%0A%20%20%20%20%20%20%20%20%E6%84%9F%E8%B0%A2%E6%82%A8%E8%AE%BF%E9%97%AE%E6%88%91%E4%BB%AC%E7%9A%84%E5%AE%87%E5%AE%99%E9%A3%9E%E8%88%B9%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3C%2FFancyBorder%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s5-137",
      "sectionId": "s5",
      "title": "%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20SplitPane(props)%20%7B%0A%20%20return%20(%0A%20%20%20%20%3Cdiv%20className%3D%22SplitPane%22%3E%0A%20%20%20%20%20%20%3Cdiv%20className%3D%22left%22%3E%0A%20%20%20%20%20%20%20%20%7Bprops.left%7D%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20className%3D%22right%22%3E%0A%20%20%20%20%20%20%20%20%7Bprops.right%7D%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20)%3B%0A%7D%0A%0Afunction%20App()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3CSplitPane%0A%20%20%20%20%20%20left%3D%7B%3CContacts%20%2F%3E%7D%0A%20%20%20%20%20%20right%3D%7B%3CChat%20%2F%3E%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s5-138",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "给组件 `SplitPane` 传递 `left` 和 `right` 两个组件参数"
    },
    {
      "id": "s5-139",
      "sectionId": "s5",
      "title": "%E5%B5%8C%E5%85%A5%E5%86%85%E9%83%A8%E7%BB%84%E4%BB%B6",
      "kind": "text",
      "body": "%60%60%60jsx%20%7B2%7D%0Aimport%20React%20from%20'react'%3B%0Aimport%20UserAvatar%20from%20%22.%2FUserAvatar%22%3B",
      "encoded": true
    },
    {
      "id": "s5-140",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "export%20default%20function%20UserProfile()%20%7B%0Areturn%20(%0A%3Cdiv%20className%3D%22UserProfile%22%3E%0A%3CUserAvatar%20%2F%3E%0A%3CUserAvatar%20%2F%3E%0A%3C%2Fdiv%3E%0A)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s5-141",
      "sectionId": "s5",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "%0A%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%81%87%E8%AE%BE%20%60UserAvatar%60%20%E5%9C%A8%20%60UserAvatar.js%60%20%E4%B8%AD%E5%A3%B0%E6%98%8E%0A%0A%23%23%23%20%E5%B5%8C%E5%85%A5%E5%A4%96%E9%83%A8%E7%BB%84%E4%BB%B6%0A%0A%60%60%60jsx%20%7B2%7D%0Aimport%20React%20from%20'react'%3B%0Aimport%20%7BButton%7D%20from%20'uiw'%3B%0Aexport%20default%20function%20UserProfile()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3Cdiv%20className%3D%22UserProfile%22%3E%0A%20%20%20%20%20%20%3CButton%20type%3D%22primary%22%3E%0A%20%20%20%20%20%20%20%20%E4%B8%BB%E8%A6%81%E6%8C%89%E9%92%AE%0A%20%20%20%20%20%20%3C%2FButton%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s5-142",
      "sectionId": "s5",
      "title": "",
      "kind": "text",
      "body": "注意：[uiw](http://npmjs.com/uiw) 组件在 [npmjs.com](https://www.npmjs.com) 上找到，需要先安装导入"
    },
    {
      "id": "s5-143",
      "sectionId": "s5",
      "title": "%E7%82%B9%E7%BB%84%E4%BB%B6%E8%AF%AD%E6%B3%95%E6%8A%80%E5%B7%A7",
      "kind": "code",
      "lang": "jsx",
      "code": "const%20Menu%20%3D%20(%7B%20children%20%7D)%20%3D%3E%20(%0A%20%20%3Cdiv%20className%3D%22menu%22%3E%7Bchildren%7D%3Cdiv%3E%0A)%3B%0A%0AMenu.Item%20%3D%20(%7B%20children%20%7D)%20%3D%3E%20(%0A%20%20%3Cdiv%3E%7Bchildren%7D%3Cdiv%3E%0A)%3B%0A%0A%3CMenu%3E%0A%20%20%3CMenu.Item%3E%E8%8F%9C%E5%8D%95%E4%B8%80%3C%2FMenu.Item%3E%0A%20%20%3CMenu.Item%3E%E8%8F%9C%E5%8D%95%E4%BA%8C%3C%2FMenu.Item%3E%0A%3CMenu%3E",
      "encoded": true
    },
    {
      "id": "s6-144",
      "sectionId": "s6",
      "title": "Hooks API 参考 - 基础 Hook",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useState` | 返回一个 `state`，更新 `state` 的函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usestate)\n`useEffect` | 可能有副作用代码的函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useeffect)\n`useContext` | 接收并返回该 `context` 的当前值 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usecontext)"
    },
    {
      "id": "s6-145",
      "sectionId": "s6",
      "title": "额外的 Hook",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useReducer` | `useState` 的替代方案 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usestate)\n`useCallback` | 返回一个回调函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usecallback)\n`useMemo` | 返回一个 [memoized](https://en.wikipedia.org/wiki/Memoization) 值[#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usememo)\n`useRef` | 返回一个可变的 `ref` 对象 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useref)\n`useImperativeHandle` | 暴露给父组件的实例值 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useimperativehandle)\n`useLayoutEffect` | DOM 变更后同步调用函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#uselayouteffect)\n`useDebugValue` | 开发者工具中显示标签 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usedebugvalue)\n`useDeferredValue` | 接受并返回该值的新副本 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usedeferredvalue)\n`useTransition` | 过渡任务的等待状态 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usetransition)\n`useId` | 用于生成唯一 ID [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useid)"
    },
    {
      "id": "s6-146",
      "sectionId": "s6",
      "title": "Library Hooks",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useSyncExternalStore` | 读取和订阅外部数据源 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usesyncexternalstore)\n`useInsertionEffect` |  DOM 突变之前 同步触发 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usesyncexternalstore)"
    },
    {
      "id": "s6-147",
      "sectionId": "s6",
      "title": "函数式更新",
      "kind": "code",
      "lang": "jsx",
      "code": "function Counter({ initialCount }) {\n  const [count, setCount] = useState(initialCount);\n  return (\n    <>\n      Count: {count} <button onClick={() => setCount(initialCount)}>Reset</button>\n      <button onClick={() => setCount(prevCount => prevCount - 1)}>-</button>\n      <button onClick={() => setCount(prevCount => prevCount + 1)}>+</button>\n    </>\n  );\n}"
    },
    {
      "id": "s6-148",
      "sectionId": "s6",
      "title": "useRef",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20TextInputWithFocusButton()%20%7B%0A%20%20const%20%24input%20%3D%20useRef(null)%3B%0A%20%20const%20onButtonClick%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%24input.current.focus()%3B%0A%20%20%7D%3B%0A%20%20return%20(%0A%20%20%20%20%3C%3E%0A%20%20%20%20%20%20%3Cinput%20ref%3D%7B%24input%7D%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%20%20%3Cbutton%20onClick%3D%7BonButtonClick%7D%3E%0A%20%20%20%20%20%20%20%20%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%0A%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%3C%2F%3E%0A%20%20)%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s6-149",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "`current` 指向已挂载到 DOM 上的文本输入元素"
    },
    {
      "id": "s6-150",
      "sectionId": "s6",
      "title": "useImperativeHandle",
      "kind": "code",
      "lang": "jsx",
      "code": "function FancyInput(props, ref) {\n  const inputRef = useRef();\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      inputRef.current.focus();\n    }\n  }));\n  return <input ref={inputRef} />;\n}\nFancyInput = forwardRef(FancyInput);"
    },
    {
      "id": "s6-151",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "父组件使用"
    },
    {
      "id": "s6-152",
      "sectionId": "s6",
      "title": "",
      "kind": "code",
      "lang": "jsx",
      "code": "<FancyInput ref={inputRef} />\ninputRef.current.focus()"
    },
    {
      "id": "s6-153",
      "sectionId": "s6",
      "title": "useEffect",
      "kind": "code",
      "lang": "jsx",
      "code": "useEffect(() => {\n  const subs = props.source.subscribe();\n  return () => {\n    subs.unsubscribe();\n  };\n}, [props.source]);"
    },
    {
      "id": "s6-154",
      "sectionId": "s6",
      "title": "useCallback",
      "kind": "code",
      "lang": "jsx",
      "code": "const memoizedCallback = useCallback(\n  () => {\n    doSomething(a, b);\n  },\n  [a, b],\n);"
    },
    {
      "id": "s6-155",
      "sectionId": "s6",
      "title": "useMemo",
      "kind": "code",
      "lang": "jsx",
      "code": "const memoizedValue = useMemo(\n  () => {\n    return computeExpensiveValue(a, b)\n  },\n  [a, b]\n);"
    },
    {
      "id": "s6-156",
      "sectionId": "s6",
      "title": "useId",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20Checkbox()%20%7B%0A%20%20const%20id%20%3D%20useId()%3B%0A%20%20return%20(%0A%20%20%20%20%3C%3E%0A%20%20%20%20%20%20%3Clabel%20htmlFor%3D%7Bid%7D%3E%0A%20%20%20%20%20%20%20%20%E4%BD%A0%E5%96%9C%E6%AC%A2React%E5%90%97%EF%BC%9F%0A%20%20%20%20%20%20%3C%2Flabel%3E%0A%20%20%20%20%20%20%3Cinput%20id%3D%7Bid%7D%20type%3D%22checkbox%22%20%2F%3E%0A%20%20%20%20%3C%2F%3E%0A%20%20)%3B%0A%7D%3B",
      "encoded": true
    },
    {
      "id": "s6-157",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "用于生成跨服务端和客户端稳定的唯一 `ID` 的同时避免 `hydration` 不匹配"
    },
    {
      "id": "s6-158",
      "sectionId": "s6",
      "title": "useDebugValue",
      "kind": "code",
      "lang": "jsx",
      "code": "function%20useFriendStatus(friendID)%20%7B%0A%20%20const%20%5B%0A%20%20%20%20isOnline%2C%20setIsOnline%0A%20%20%5D%20%3D%20useState(null)%3B%0A%20%20%2F%2F%20...%0A%20%20%2F%2F%20%E5%9C%A8%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E4%B8%AD%E7%9A%84%E8%BF%99%E4%B8%AA%20Hook%20%E6%97%81%E8%BE%B9%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE%0A%20%20%2F%2F%20e.g.%20%22FriendStatus%3A%20Online%22%0A%20%20useDebugValue(%0A%20%20%20%20isOnline%20%3F%20'Online'%20%3A%20'Offline'%0A%20%20)%3B%0A%20%20return%20isOnline%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s6-159",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "不推荐你向每个自定义 `Hook` 添加 `debug` 值"
    },
    {
      "id": "s6-160",
      "sectionId": "s6",
      "title": "componentDidMount & componentWillUnmount",
      "kind": "code",
      "lang": "jsx",
      "code": "useEffect(\n  () => {\n    // componentDidMount\n    // 组件挂载时，可以在这里完成你的任务\n    return () => {\n      // componentWillUnmount\n      // 卸载时执行，清除 effect\n    };\n  },\n  [ ]\n);"
    },
    {
      "id": "s6-161",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "这是一个类似 `class` 组件中 `componentDidMount` & `componentWillUnmount` 两个生命周期函数的写法。"
    },
    {
      "id": "s7-162",
      "sectionId": "s7",
      "title": "挂载",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`constructor` _(props)_  | 渲染前 [#](https://zh-hans.reactjs.org/docs/react-component.html#constructor)\n`static getDerivedStateFromProps()` | 调用 `render` 方法之前调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`render()`               |  `class` 组件中唯一必须实现的方法 [#](https://reactjs.org/docs/react-component.html#render)\n`componentDidMount()`    | 在组件挂载后(插入 DOM 树中)立即调用 [#](https://reactjs.org/docs/react-component.html#componentdidmount)\n`UNSAFE_componentWillMount()` | 在挂载之前被调用，建议使用 `constructor()` [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillmount)"
    },
    {
      "id": "s7-163",
      "sectionId": "s7",
      "title": "",
      "kind": "text",
      "body": "在 `constructor()` 上设置初始状态。在 `componentDidMount()` 上添加 DOM 事件处理程序、计时器(等），然后在 `componentWillUnmount()` 上删除它们。"
    },
    {
      "id": "s7-164",
      "sectionId": "s7",
      "title": "卸载",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`componentWillUnmount()` | 在组件卸载及销毁之前直接调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentwillunmount)"
    },
    {
      "id": "s7-165",
      "sectionId": "s7",
      "title": "过时 API",
      "kind": "text",
      "body": "过时方法 | 新方法\n:- | -\n~~`componentWillMount()`~~ | `UNSAFE_componentWillMount()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillmount)\n~~`componentWillReceiveProps()`~~ | `UNSAFE_componentWillReceiveProps()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops)\n~~`componentWillUpdate()`~~ | `UNSAFE_componentWillUpdate()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillupdate)"
    },
    {
      "id": "s7-166",
      "sectionId": "s7",
      "title": "",
      "kind": "text",
      "body": "17+ 之后不再支持，在 `17` 版本之后，只有新的 `UNSAFE_` 生命周期名称可以使用。"
    },
    {
      "id": "s7-167",
      "sectionId": "s7",
      "title": "更新",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`static getDerivedStateFromProps(props, state)` | 调用 `render` 之前调用，在初始挂载及后续更新时都会被调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`shouldComponentUpdate(nextProps, nextState)` | 如果返回 `false`，则跳过 `render()` [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`render()` | 在不修改组件 `state` 的情况下，每次调用时都返回相同的结果 [#](https://zh-hans.reactjs.org/docs/react-component.html#render)\n`getSnapshotBeforeUpdate()` | 在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置） [#](https://zh-hans.reactjs.org/docs/react-component.html#getsnapshotbeforeupdate)\n`componentDidUpdate()` | 这里使用 `setState()`，但记得比较 `props`。首次渲染不会执行此方法 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentdidupdate)"
    },
    {
      "id": "s7-168",
      "sectionId": "s7",
      "title": "错误处理",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`static getDerivedStateFromError(error)` | 后代组件抛出错误后被调用，它将抛出的错误作为参数，并返回一个值以更新 `state` [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromerror)\n`componentDidCatch(error, info)` | 在后代组件抛出错误后被调用，会在“提交”阶段被调用，因此允许执行副作用 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentdidcatch)"
    },
    {
      "id": "s7-169",
      "sectionId": "s7",
      "title": "render()",
      "kind": "text",
      "body": "```jsx {2}\nclass Welcome extends React.Component {\nrender() {\nreturn <h1>Hello, {this.props.name}</h1>;\n}\n}"
    },
    {
      "id": "s7-170",
      "sectionId": "s7",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n### constructor()\n\n```jsx {1}\nconstructor(props) {\n  super(props);\n  // 不要在这里调用 this.setState()\n  this.state = { counter: 0 };\n  this.handleClick = this.handleClick.bind(this);\n}"
    },
    {
      "id": "s7-171",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "text",
      "body": "```jsx {7,13}\nclass ErrorBoundary extends React.Component {\nconstructor(props) {\nsuper(props);\nthis.state = { hasError: false };\n}"
    },
    {
      "id": "s7-172",
      "sectionId": "s7",
      "title": "",
      "kind": "text",
      "body": "static getDerivedStateFromError(error) {\n// 更新 state 使下一次渲染可以显降级 UI\nreturn { hasError: true };\n}"
    },
    {
      "id": "s7-173",
      "sectionId": "s7",
      "title": "",
      "kind": "text",
      "body": "render() {\nif (this.state.hasError) {\n// 你可以渲染任何自定义的降级  UI\nreturn <h1>Something went wrong.</h1>;\n}"
    },
    {
      "id": "s7-174",
      "sectionId": "s7",
      "title": "",
      "kind": "text",
      "body": "return this.props.children;\n}\n}"
    },
    {
      "id": "s7-175",
      "sectionId": "s7",
      "title": "",
      "kind": "code",
      "lang": "",
      "code": "\n### componentDidUpdate()\n\n```jsx {1}\ncomponentDidUpdate(prevProps) {\n  // 典型用法（不要忘记比较 props）：\n  if (this.props.uid !== prevProps.uid) {\n    this.fetchData(this.props.uid);\n  }\n}"
    },
    {
      "id": "s7-176",
      "sectionId": "s7",
      "title": "getSnapshotBeforeUpdate()",
      "kind": "code",
      "lang": "jsx",
      "code": "getSnapshotBeforeUpdate(prevProps, prevState) {\n  // 我们是否在 list 中添加新的 items ？\n  // 捕获滚动​​位置以便我们稍后调整滚动位置。\n  if (prevProps.list.length < this.props.list.length) {\n    const list = this.listRef.current;\n    return list.scrollHeight - list.scrollTop;\n  }\n  return null;\n}"
    },
    {
      "id": "s8-177",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "code",
      "lang": "jsx",
      "code": "import PropTypes from 'prop-types'"
    },
    {
      "id": "s8-178",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": ":- | -\n:- | -\n`any` | 任意类型\n`(props, propName, 组件名称)=>{}` | 自定义验证器"
    },
    {
      "id": "s8-179",
      "sectionId": "s8",
      "title": "_基础_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`string` | 字符串\n`number` | 数组\n`func` | 函数\n`bool` | 布尔值\n`symbol` | -"
    },
    {
      "id": "s8-180",
      "sectionId": "s8",
      "title": "_枚举 Enum_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`oneOf(any)` | 枚举类型\n`oneOfType([type])` | 几种类型中的任意一个类型"
    },
    {
      "id": "s8-181",
      "sectionId": "s8",
      "title": "_数组 Array_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`array` | 数组\n`arrayOf` | 数组由某一类型的元素组成"
    },
    {
      "id": "s8-182",
      "sectionId": "s8",
      "title": "_对象 Object_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`object` | 对象\n`objectOf` | 对象由某一类型的值组成\n`instanceOf(...)` | 类的实例\n`shape` | 对象由特定的类型值组成\n`exact` | 有额外属性警告"
    },
    {
      "id": "s8-183",
      "sectionId": "s8",
      "title": "_元素 Elements_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`element` | React 元素\n`elementType` | React 元素类型(即 `MyComponent`)\n`node` | DOM 节点"
    },
    {
      "id": "s8-184",
      "sectionId": "s8",
      "title": "_必需的_",
      "kind": "text",
      "body": ":- | -\n:- | -\n`(···).isRequired` | 必需的"
    },
    {
      "id": "s8-185",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "请参阅：[使用 PropTypes 进行类型检查](https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html)"
    },
    {
      "id": "s8-186",
      "sectionId": "s8",
      "title": "基本类型",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  email:      PropTypes.string,\n  seats:      PropTypes.number,\n  callback:   PropTypes.func,\n  isClosed:   PropTypes.bool,\n  any:        PropTypes.any\n  symbol:     PropTypes.symbol,\n}"
    },
    {
      "id": "s8-187",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "你可以将属性声明为 JS 原生类型，默认都是可选的。"
    },
    {
      "id": "s8-188",
      "sectionId": "s8",
      "title": "必需的",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 确保这个 prop 没有被提供时，会打印警告信息\n  requiredFunc: PropTypes.func.isRequired,\n\n  // 任意类型的必需数据\n  requiredAny: PropTypes.any.isRequired,\n}"
    },
    {
      "id": "s8-189",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "你可以在任何 `PropTypes` 属性后面加上 `isRequired`。"
    },
    {
      "id": "s8-190",
      "sectionId": "s8",
      "title": "枚举",
      "kind": "code",
      "lang": "js",
      "code": "MyComponent.propTypes = {\n  // 只能是特定的值，枚举类型。\n  optionalEnum: PropTypes.oneOf([\n    'News', 'Photos'\n  ]),\n  // 一个对象可以是几种类型中的任意一个类型\n  optionalUnion: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.instanceOf(Message)\n  ]),\n}"
    },
    {
      "id": "s8-191",
      "sectionId": "s8",
      "title": "元素 Elements",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 任何可被渲染的元素\n  // (包括数字、字符串、元素或数组)\n  // (或 Fragment) 也包含这些类型。\n  node: PropTypes.node,\n\n  // 一个 React 元素。\n  element: PropTypes.element,\n\n  // 一个 React 元素类型（即，MyComponent）\n  elementType: PropTypes.elementType,\n}"
    },
    {
      "id": "s8-192",
      "sectionId": "s8",
      "title": "对象 Object",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 可以指定一个对象由某一类型的值组成\n  objectOf: PropTypes.objectOf(\n    PropTypes.number\n  ),\n  // 可以指定一个对象由特定的类型值组成\n  objectWithShape: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n  // 带有额外属性警告的对象\n  objectWithStrictShape: PropTypes.exact({\n    name: PropTypes.string,\n    quantity: PropTypes.number\n  }),\n}"
    },
    {
      "id": "s8-193",
      "sectionId": "s8",
      "title": "自定义验证器",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  custom: (props, propName, compName) => {\n    if (!/matchm/.test(props[propName])) {\n      // 它在验证失败时应返回一个 Error 对象\n      return new Error(\n        '无效的prop `'\n        ` \\`${propName}\\` 提供给` + \n        ` \\`${compName}\\`。验证失败。`\n      );\n\n    }\n  },\n}"
    },
    {
      "id": "s8-194",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "请不要使用 `console.warn` 或抛出异常，因为这在 `oneOfType` 中不会起作用。"
    },
    {
      "id": "s8-195",
      "sectionId": "s8",
      "title": "自定义的 `arrayOf` 或 `objectOf` 验证器",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  arrayProp: PropTypes.arrayOf((propValue, key, componentName, location, propFullName) => {\n    if (!/matchme/.test(propValue[key])) {\n      // 它应该在验证失败时返回一个 Error 对象。\n      return new Error(\n        'Invalid prop `' + propFullName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  })\n}"
    },
    {
      "id": "s8-196",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "`propValue` 是数组或对象本身，`key` 是他们当前的键。"
    },
    {
      "id": "s8-197",
      "sectionId": "s8",
      "title": "数组",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  arr: PropTypes.arrayOf(PropTypes.number),\n};"
    },
    {
      "id": "s8-198",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "可以指定一个数组由某一类型的元素组成"
    },
    {
      "id": "s8-199",
      "sectionId": "s8",
      "title": "验证类的实例",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  message: PropTypes.instanceOf(Message),\n};"
    },
    {
      "id": "s8-200",
      "sectionId": "s8",
      "title": "",
      "kind": "text",
      "body": "声明 `message` 为类的实例"
    },
    {
      "id": "s9-201",
      "sectionId": "s9",
      "title": "另见",
      "kind": "text",
      "body": "• [React 官方中文文档](https://zh-hans.reactjs.org/) _(zh-hans.reactjs.org)_\n• [反应生命周期方法图](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/) _(projects.wojtekmaj.pl)_\n• [React 16 Cheat Sheet](https://reactcheatsheet.com)\n• [Awesome React](https://github.com/enaqx/awesome-react) _(github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/react.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/react.md",
    "lang": "zh",
    "mode": "local"
  }
}