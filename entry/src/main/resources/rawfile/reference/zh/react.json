{
  "id": "react",
  "name": "React 备忘清单",
  "title": "[![NPM version](https://img.shields.io/npm/v/react.svg?style=flat)](https://npmjs.org/package/react)",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/react.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "默认值",
      "startIndex": 68
    },
    {
      "id": "s3",
      "title": "Props",
      "startIndex": 77
    },
    {
      "id": "s4",
      "title": "JSX",
      "startIndex": 97
    },
    {
      "id": "s5",
      "title": "组件",
      "startIndex": 136
    },
    {
      "id": "s6",
      "title": "Hooks",
      "startIndex": 161
    },
    {
      "id": "s7",
      "title": "生命周期",
      "startIndex": 182
    },
    {
      "id": "s8",
      "title": "PropTypes 属性类型检查",
      "startIndex": 197
    },
    {
      "id": "s9",
      "title": "另见",
      "startIndex": 228
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![NPM version](https://img.shields.io/npm/v/react.svg?style=flat)](https://npmjs.org/package/react)\n[![Downloads](https://img.shields.io/npm/dm/react.svg?style=flat)](https://www.npmjs.com/package/react)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/facebook/react)](https://github.com/facebook/react/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/facebook/react)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "适合初学者的综合 React 备忘清单\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "React 是一个用于构建用户界面的 JavaScript 库"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "• [React 官方文档](https://react.dev) _(react.dev)_\n• [Styled Components 备忘清单](./styled-components.md) _(jaywcjlove.github.io)_\n• [TypeScript JSX 备忘清单](./typescript.md#jsx) _(jaywcjlove.github.io)_"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "code",
      "lang": "js",
      "code": "import {createRoot} from 'react-dom/client'\nimport App from './App'"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "-----"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "code",
      "lang": "jsx",
      "code": "const elm = document.getElementById('app')\nconst root = createRoot(elm);\nroot.render(<App />);"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "text",
      "body": "#### 快速创建 **React** 项目 ([CRA](https://github.com/facebook/create-react-app))"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "介绍",
      "kind": "code",
      "lang": "shell",
      "code": "npx create-react-app my-app"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, {Component} from 'react'\nimport ReactDOM from 'react-dom'"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "text",
      "body": "-----"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "code",
      "lang": "jsx",
      "code": "export class Hello extends Component {\n  ...\n}\nexport default function World() {\n  /* ... */\n}"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "text",
      "body": "使用 `export` 导出 **`Hello`**，`export default` 导出 **`World`** 组件"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "code",
      "lang": "jsx",
      "code": "import World, { Hello } from './hello.js';"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "导入多个导出",
      "kind": "text",
      "body": "使用 `import` 导入 `Hello` 组件，在示例中使用。"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "React 组件中的 CSS",
      "kind": "text",
      "body": "```jsx {2,5}\nimport React from \"react\";\nimport \"./Student.css\";"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "React 组件中的 CSS",
      "kind": "text",
      "body": "export const Student = (\n<div className=\"Student\"></div>\n);"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "React 组件中的 CSS",
      "kind": "code",
      "lang": "",
      "code": "\n注意：类属性 `className`\n\n```jsx\nconst divStyle = {\n  backgroundImage: 'url(' + imgUrl + ')',\n};\nexport const Student = (\n  <div style={divStyle}></div>\n);"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "属性",
      "kind": "code",
      "lang": "jsx",
      "code": "<Student name=\"Julie\" age={23}\n  pro={true} />"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "属性",
      "kind": "text",
      "body": "函数组件 `Student` 中访问属性"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "属性",
      "kind": "code",
      "lang": "jsx",
      "code": "function Student(props) {\n  return <h1>Hello, {props.name}</h1>;\n}"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "属性",
      "kind": "text",
      "body": "Class 组件 `Student` 中访问属性"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "属性",
      "kind": "code",
      "lang": "jsx",
      "code": "class Student extends React.Component {\n  render() {\n    return (\n      <h1>Hello, {this.props.name}</h1>\n    );\n  }\n}"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "属性",
      "kind": "text",
      "body": "`class` 组件使用 `this.props` 访问传递给组件的属性。"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "Children",
      "kind": "code",
      "lang": "jsx",
      "code": "function Example() {\n  return (\n    <AlertBox>\n      <h1>您有待处理的通知</h1>\n    </AlertBox>\n  )\n}"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "Children",
      "kind": "text",
      "body": "函数 `AlertBox` 组件"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "Children",
      "kind": "text",
      "body": "```jsx {4}\nfunction AlertBox(props) {\nreturn (\n<div className=\"alert-box\">\n{props.children}\n</div>\n);\n}"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "Children",
      "kind": "code",
      "lang": "",
      "code": "\n-----\n\n```jsx\n{props.children}"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "Children",
      "kind": "text",
      "body": "Class `AlertBox` 组件，与函数组件 `AlertBox` 组件相同"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "Children",
      "kind": "text",
      "body": "```jsx {5}\nclass AlertBox extends React.Component {\nrender () {\nreturn (\n<div className=\"alert-box\">\n{this.props.children}\n</div>\n);\n}\n}"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "Children",
      "kind": "code",
      "lang": "",
      "code": "\n-----\n\n```jsx\n{this.props.children}"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "Children",
      "kind": "text",
      "body": "`children` 作为子组件的的属性传递。"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "函数中的 State，Hook 是 React 16.8 的新增特性"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "```jsx {4,8}\nimport { useState } from 'react';"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "function Student() {\nconst [count, setCount] = useState(0);\nconst click = () => setCount(count + 1);\nreturn (\n<div>\n<p>您点击了 {count} 次</p>\n<button onClick={click}>\n点击我\n</button>\n</div>\n);\n}"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "State",
      "kind": "code",
      "lang": "",
      "code": "\n使用 `setState` 更新状态，下面是函数组件读取状态\n\n```jsx\n<p>您点击了 {count} 次</p>"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "#### Class 中的 State"
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "```jsx {6,12,20}\nimport React from 'react';"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "State",
      "kind": "text",
      "body": "class Student extends React.Component {\nconstructor(props) {\nsuper(props);\nthis.state = {count: 1};\n// 确保函数可以访问组件属性（ES2015）\nthis.click = this.click.bind(this);\n}\nclick() {\nconst count = this.state.count;\nthis.setState({ count: count + 1})\n}\nrender() {\nreturn (\n<div>\n<button onClick={this.click}>\n点击我\n</button>\n<p>您点击了{this.state.count}次</p>\n</div>\n);\n}\n}"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "State",
      "kind": "code",
      "lang": "",
      "code": "\n使用 `setState` 更新状态，`class` 组件中不能使用 <yel>~~hooks~~</yel>。下面是 `class` 组件读取状态\n\n```jsx\n<p>您点击了{this.state.count}次</p>"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "循环",
      "kind": "code",
      "lang": "jsx",
      "code": "const elm = ['one', 'two', 'three'];\nfunction Student() {\n  return (\n    <ul>\n      {elm.map((value, index) => (\n        <li key={index}>{value}</li>\n      ))}\n    </ul>\n  );\n}"
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "循环",
      "kind": "text",
      "body": "`key` 值在兄弟节点之间必须唯一"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "事件监听",
      "kind": "code",
      "lang": "jsx",
      "code": "export default function Hello() {\n  function handleClick(event) {\n    event.preventDefault();\n    alert(\"Hello World\");\n  }\n\n  return (\n    <a href=\"/\" onClick={handleClick}>\n      Say Hi\n    </a>\n  );\n}"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "函数注入",
      "kind": "code",
      "lang": "jsx",
      "code": "function addNumbers(x1, x2) {\n  return x1 + x2;\n}\n\nconst element = (\n  <div>\n    {addNumbers(2, 5)}\n  </div>\n);"
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "嵌套",
      "kind": "code",
      "lang": "jsx",
      "code": "import { useState } from 'react'\nimport Avatar from './Avatar';\nimport Profile from './Profile';\n\nfunction Student() {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <Avatar src={count} />\n      <Profile username={count} />\n    </div>\n  );\n}"
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "Portals",
      "kind": "text",
      "body": "React 并_没有_创建一个新的 `div`。它只是把子元素渲染到 `domNode` 中。`domNode` 是一个可以在任何位置的有效 DOM 节点。"
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "Portals",
      "kind": "code",
      "lang": "jsx",
      "code": "render() {\n  return ReactDOM.createPortal(\n    this.props.children,\n    domNode\n  );\n}"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "Portals",
      "kind": "text",
      "body": "提供了一种将子节点渲染到存在于父组件以外的 DOM 节点的优秀的方案"
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "Fragment",
      "kind": "text",
      "body": "```jsx {1,6,9}\nimport { Fragment } from 'react'\nimport Avatar from './Avatar';\nimport Profile from './Profile';"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "Fragment",
      "kind": "text",
      "body": "const Student = () => (\n<Fragment>\n<Avatar src=\"./demo.jpg\" />\n<Profile username=\"name\" />\n</Fragment>\n);"
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "Fragment",
      "kind": "code",
      "lang": "",
      "code": "\n从 `v16.2.0` 开始 `Fragment` 可用于返回多个子节点，而无需向 DOM 添加额外的包装节点。或者使用 `<></>` 效果是一样的。\n\n```jsx {2,5}\nconst Student = () => (\n  <>\n    <Avatar src=\"./demo.jpg\" />\n    <Profile username=\"name\" />\n  </>\n);"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "Fragment",
      "kind": "text",
      "body": "查看: [Fragments & strings](https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings)"
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "返回字符串",
      "kind": "text",
      "body": "```jsx {2}\nrender() {\nreturn 'Look ma, no spans!';\n}"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "返回字符串",
      "kind": "code",
      "lang": "",
      "code": "\n您可以只返回一个字符串。查看: [Fragments & strings](https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings)\n\n### 返回数组\n\n```jsx\nconst Student = () => [\n  <li key=\"A\">First item</li>,\n  <li key=\"B\">Second item</li>\n];"
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "返回字符串",
      "kind": "text",
      "body": "不要忘记 `key`！查看: [Fragments & strings](https://reactjs.org/blog/2017/09/26/react-v16.0.html#new-render-return-types-fragments-and-strings)"
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "Refs 转发",
      "kind": "code",
      "lang": "jsx",
      "code": "const FancyButton = React.forwardRef(\n  (props, ref) => (\n    <button ref={ref} className=\"btn\">\n      {props.children}\n    </button>\n  )\n);"
    },
    {
      "id": "s1-56",
      "sectionId": "s1",
      "title": "Refs 转发",
      "kind": "text",
      "body": "#### 使用"
    },
    {
      "id": "s1-57",
      "sectionId": "s1",
      "title": "Refs 转发",
      "kind": "code",
      "lang": "jsx",
      "code": "// 你可以直接获取 DOM button 的 ref：\nconst ref = React.createRef();\n\n<FancyButton ref={ref}>\n  点击我\n</FancyButton>;"
    },
    {
      "id": "s1-58",
      "sectionId": "s1",
      "title": "Class 组件内部使用 ref 属性",
      "kind": "text",
      "body": "```jsx {6,10}\nimport {Component,createRef} from 'react'"
    },
    {
      "id": "s1-59",
      "sectionId": "s1",
      "title": "Class 组件内部使用 ref 属性",
      "kind": "text",
      "body": "class MyComponent extends Component {\nconstructor(props) {\nsuper(props);\nthis.myRef = createRef();\n}"
    },
    {
      "id": "s1-60",
      "sectionId": "s1",
      "title": "Class 组件内部使用 ref 属性",
      "kind": "text",
      "body": "render() {\nreturn <div ref={this.myRef} />;\n}\n}"
    },
    {
      "id": "s1-61",
      "sectionId": "s1",
      "title": "Class 组件内部使用 ref 属性",
      "kind": "code",
      "lang": "",
      "code": "\n提示：Refs 适用于类组件，但不适用于函数组件（除非您使用 useRef hook，请参阅[hooks](#hooks)）\n\n### 函数组件内部使用 ref 属性\n\n```jsx {3,9}\nfunction CustomTextInput(props) {\n  // 这里必须声明 $input，这样 ref 才可以引用它\n  const $input = useRef(null);\n  function handleClick() {\n    $input.current.focus();\n  }\n  return (\n    <div>\n      <input type=\"text\" ref={$input} />\n      <input\n        type=\"button\" value=\"聚焦文本输入\"\n        onClick={handleClick}\n      />\n    </div>\n  );\n}"
    },
    {
      "id": "s1-62",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": "```jsx {3,8}\n<div>\n<Header />\n<React.StrictMode>\n<div>\n<ComponentOne />\n<ComponentTwo />\n</div>\n</React.StrictMode>\n<Footer />\n</div>"
    },
    {
      "id": "s1-63",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "code",
      "lang": "",
      "code": "\n-----\n\n- [识别不安全的生命周期](https://zh-hans.reactjs.org/docs/strict-mode.html#identifying-unsafe-lifecycles)\n- [关于使用过时字符串 ref API 的警告](https://zh-hans.reactjs.org/docs/strict-mode.html#warning-about-legacy-string-ref-api-usage)\n- [关于使用废弃的 findDOMNode 方法的警告](https://zh-hans.reactjs.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage)\n- [检测意外的副作用](https://zh-hans.reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects)\n- [检测过时的 context API](https://zh-hans.reactjs.org/docs/strict-mode.html#detecting-legacy-context-api)\n- [确保可复用的状态](https://zh-hans.reactjs.org/docs/strict-mode.html#ensuring-reusable-state)\n\n突出显示应用程序中潜在问题的工具。请参阅：[严格模式](https://zh-hans.reactjs.org/docs/strict-mode.html)\n\n### Profiler\n<!--rehype:wrap-class=col-span-2-->\n\n测量一个 React 应用多久渲染一次以及渲染一次的 `代价`\n\n```jsx\n<Profiler id=\"Navigation\" onRender={callback}>\n  <Navigation {...props} />\n</Profiler>"
    },
    {
      "id": "s1-64",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": "为了分析 `Navigation` 组件和它的子代。应该在需要时才去使用它。"
    },
    {
      "id": "s1-65",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`id(string)` | 发生提交的 `Profiler` 树的 `id`\n`onRender(function)` | 组件树任何组件 “提交” 一个更新的时候调用这个函数"
    },
    {
      "id": "s1-66",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": "#### onRender 回调函数"
    },
    {
      "id": "s1-67",
      "sectionId": "s1",
      "title": "严格模式 StrictMode",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`phase: \"mount\" \\| \"update\"` |  判断是由 `props`/`state`/`hooks` 改变 或 “第一次装载” 引起的重渲染\n`actualDuration: number` | 本次更新在渲染 Profiler 和它的子代上花费的时间\n`baseDuration: number` | 在 Profiler 树中最近一次每一个组件 render 的持续时间\n`startTime: number` | 本次更新中 React 开始渲染的时间戳\n`commitTime: number` | 本次更新中 React commit 阶段结束的时间戳\n`interactions: Set` | 当更新被制定时，“[interactions](https://fb.me/react-interaction-tracing)” 的集合会被追踪"
    },
    {
      "id": "s2-68",
      "sectionId": "s2",
      "title": "Class 组件默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "class CustomButton extends React.Component {\n  // ...\n}\nCustomButton.defaultProps = {\n  color: 'blue'\n};"
    },
    {
      "id": "s2-69",
      "sectionId": "s2",
      "title": "Class 组件默认 props",
      "kind": "text",
      "body": "#### 使用"
    },
    {
      "id": "s2-70",
      "sectionId": "s2",
      "title": "Class 组件默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "<CustomButton /> ;"
    },
    {
      "id": "s2-71",
      "sectionId": "s2",
      "title": "Class 组件默认 props",
      "kind": "text",
      "body": "不传值 `props.color` 将自动设置为 `blue`"
    },
    {
      "id": "s2-72",
      "sectionId": "s2",
      "title": "Class 组件默认 state",
      "kind": "code",
      "lang": "jsx",
      "code": "class Hello extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { visible: true }\n  }\n}"
    },
    {
      "id": "s2-73",
      "sectionId": "s2",
      "title": "Class 组件默认 state",
      "kind": "text",
      "body": "在构造 `constructor()`中设置默认状态。"
    },
    {
      "id": "s2-74",
      "sectionId": "s2",
      "title": "Class 组件默认 state",
      "kind": "code",
      "lang": "jsx",
      "code": "class Hello extends Component {\n  state = { visible: true }\n}"
    },
    {
      "id": "s2-75",
      "sectionId": "s2",
      "title": "函数组件默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "function CustomButton(props) {\n  const { color = 'blue' } = props;\n  return <div>{color}</div>\n}"
    },
    {
      "id": "s2-76",
      "sectionId": "s2",
      "title": "函数组件默认 state",
      "kind": "code",
      "lang": "jsx",
      "code": "function CustomButton() {\n  const [color, setColor]=useState('blue')\n  return <div>{color}</div>\n}"
    },
    {
      "id": "s3-77",
      "sectionId": "s3",
      "title": "Props 的 Spread 运算符",
      "kind": "text",
      "body": "扩展运算符可用于一次传递所有 Props。"
    },
    {
      "id": "s3-78",
      "sectionId": "s3",
      "title": "Props 的 Spread 运算符",
      "kind": "code",
      "lang": "jsx",
      "code": "function Profile(props) {\n  return <p>{props.name}, {props.age}</p>;\n}\n\nconst user = { name: \"John\", age: 25 };\n<Profile {...user}/>"
    },
    {
      "id": "s3-79",
      "sectionId": "s3",
      "title": "什么是 Props？",
      "kind": "text",
      "body": "• Props（“properties”的缩写）用于将数据从父组件传递到子组件。\n• 它们是只读的，不能在子组件内修改。"
    },
    {
      "id": "s3-80",
      "sectionId": "s3",
      "title": "什么是 Props？",
      "kind": "code",
      "lang": "jsx",
      "code": "<MyComponent propName=\"value\" />"
    },
    {
      "id": "s3-81",
      "sectionId": "s3",
      "title": "将 Pros 传递给组件",
      "kind": "text",
      "body": "您可以通过 JSX 中的属性将 props 从父组件传递到子组件。"
    },
    {
      "id": "s3-82",
      "sectionId": "s3",
      "title": "将 Pros 传递给组件",
      "kind": "code",
      "lang": "jsx",
      "code": "function ParentComponent() {\n  return <ChildComponent name=\"John\" age={25} />;\n}\n\nfunction ChildComponent (props) {\n  return <div>Hello，{props.name}. You are {props.age} years old. </div>;\n}"
    },
    {
      "id": "s3-83",
      "sectionId": "s3",
      "title": "解构 props",
      "kind": "text",
      "body": "props 可以解构以便于访问。"
    },
    {
      "id": "s3-84",
      "sectionId": "s3",
      "title": "解构 props",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting({ name }) {\n  return <h1>Hello, {name}!</h1>;\n}"
    },
    {
      "id": "s3-85",
      "sectionId": "s3",
      "title": "访问功能组件中的 Props",
      "kind": "text",
      "body": "可以使用 props 对象在功能组件中访问 Props。"
    },
    {
      "id": "s3-86",
      "sectionId": "s3",
      "title": "访问功能组件中的 Props",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting(props) {\n  return <h1>Hello, {props.name}!</h1>;\n}"
    },
    {
      "id": "s3-87",
      "sectionId": "s3",
      "title": "使用 Pros 进行条件渲染",
      "kind": "text",
      "body": "道具可用于组件内部的条件渲染。"
    },
    {
      "id": "s3-88",
      "sectionId": "s3",
      "title": "使用 Pros 进行条件渲染",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting({ name, isLoggedIn }) {\n  return isLoggedIn ? <hl>Welcome back, {name}</h1>: <h1>Please log in</h1>;\n}"
    },
    {
      "id": "s3-89",
      "sectionId": "s3",
      "title": "Prop Drilling（属性传递）",
      "kind": "code",
      "lang": "js",
      "code": "function Parent() {\n  const name = \"John\";\n  return <Child name={name}/>;\n}\n\nfunction Child({ name }) {\n  return <Grandchild name={name} />\n}\n\nfunction Grandchild({ name }) {\n  return <p>{name}</p>;\n}"
    },
    {
      "id": "s3-90",
      "sectionId": "s3",
      "title": "Prop Drilling（属性传递）",
      "kind": "text",
      "body": "将属性（props）在多个组件层级中逐层传递可能会变得繁琐。这种方式称为属性传递（prop drilling）。"
    },
    {
      "id": "s3-91",
      "sectionId": "s3",
      "title": "Props 与 State",
      "kind": "text",
      "body": "• `props` 被传递给组件并且是不可变的。\n• `State` 是组件的本地状态，可以更改。"
    },
    {
      "id": "s3-92",
      "sectionId": "s3",
      "title": "Props 与 State",
      "kind": "code",
      "lang": "jsx",
      "code": "function ChildComponent({ name }) {\n  return <h2>Hi,my name is {name}.</h2>;\n}\n\nfunction ParentComponent() {\n  // State to manage the name value\n  const ［name, setName］= usestate('John');\n  const changeName = () => {\n    setName('Jane');\n  };\n  return (\n    <div>\n      <ChildComponent name={name}/>\n      <button onClick={changeName}>\n        Change Names\n      </button>\n    </div>\n  );\n}"
    },
    {
      "id": "s3-93",
      "sectionId": "s3",
      "title": "默认 props",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting({ name = \"Bob\" } = 0}) {\n  return <h1>Hello, {name}!</h1>;\n}\n// Renders \"Hello, Bob!\"\n< Greeting />"
    },
    {
      "id": "s3-94",
      "sectionId": "s3",
      "title": "默认 props",
      "kind": "text",
      "body": "您可以为 `props` 设置默认值。"
    },
    {
      "id": "s3-95",
      "sectionId": "s3",
      "title": "使用 prop 处理事件",
      "kind": "text",
      "body": "你可以将事件处理程序作为 props 传递给 handle 用户交互。"
    },
    {
      "id": "s3-96",
      "sectionId": "s3",
      "title": "使用 prop 处理事件",
      "kind": "code",
      "lang": "jsx",
      "code": "function Button({ onClick }) {\n  return < button onClick={onClick}>Click me</button>;\n}\n\nfunction App() {\n  const handleClick = () => alert(\"Button clicked!\"):\n  return <Button onClick={handleClick} />;\n}"
    },
    {
      "id": "s4-97",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "text",
      "body": "`JSX` 仅仅只是 `React.createElement(component, props, ...children)` 函数的语法糖"
    },
    {
      "id": "s4-98",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "code",
      "lang": "jsx",
      "code": "<MyButton color=\"blue\" shadowSize={2}>\n  点击我\n</MyButton>"
    },
    {
      "id": "s4-99",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "text",
      "body": "会编译为"
    },
    {
      "id": "s4-100",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "code",
      "lang": "js",
      "code": "React.createElement(\n  MyButton,\n  {color: 'blue', shadowSize: 2},\n  '点击我'\n);"
    },
    {
      "id": "s4-101",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "text",
      "body": "没有子节点"
    },
    {
      "id": "s4-102",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "code",
      "lang": "jsx",
      "code": "<div className=\"sidebar\" />"
    },
    {
      "id": "s4-103",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "text",
      "body": "会编译为"
    },
    {
      "id": "s4-104",
      "sectionId": "s4",
      "title": "介绍",
      "kind": "code",
      "lang": "js",
      "code": "React.createElement(\n  'div',\n  {className: 'sidebar'}\n)"
    },
    {
      "id": "s4-105",
      "sectionId": "s4",
      "title": "JSX 点语法",
      "kind": "code",
      "lang": "jsx",
      "code": "const Menu = ({ children }) => (\n  <div className=\"menu\">{children}<div>\n);\n\nMenu.Item = ({ children }) => (\n  <div>{children}<div>\n);\n\n<Menu>\n  <Menu.Item>菜单一</Menu.Item>\n  <Menu.Item>菜单二</Menu.Item>\n<Menu>"
    },
    {
      "id": "s4-106",
      "sectionId": "s4",
      "title": "JSX Element",
      "kind": "code",
      "lang": "jsx",
      "code": "let element = <h1>Hello, world!</h1>;\nlet emptyHeading = <h1 />;\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root')\n);\n\nconst element = <h1>Hello, world</h1>;\nroot.render(element);"
    },
    {
      "id": "s4-107",
      "sectionId": "s4",
      "title": "JSX Element",
      "kind": "text",
      "body": "参考：[渲染元素](https://reactjs.org/docs/rendering-elements.html)"
    },
    {
      "id": "s4-108",
      "sectionId": "s4",
      "title": "JSX 属性",
      "kind": "code",
      "lang": "jsx",
      "code": "const avatarUrl = \"img/picture.jpg\"\nconst element = <img src={avatarUrl} />;\n\nconst element = (\n  <button className=\"btn\">\n    点击我\n  </button>\n);"
    },
    {
      "id": "s4-109",
      "sectionId": "s4",
      "title": "JSX 属性",
      "kind": "text",
      "body": "注意：类属性 `className`"
    },
    {
      "id": "s4-110",
      "sectionId": "s4",
      "title": "JSX 表达式",
      "kind": "code",
      "lang": "jsx",
      "code": "let name = '张三';\nlet element = <h1>Hello, {name}</h1>;\n\nfunction fullName(firstName, lastName) {\n  return firstName + ' ' + lastName;\n}\nlet element = (\n  <h1>\n    Hello, {fullName('三', '张')}\n  </h1>\n);"
    },
    {
      "id": "s4-111",
      "sectionId": "s4",
      "title": "JSX style",
      "kind": "code",
      "lang": "jsx",
      "code": "const divStyle = {\n  color: 'blue',\n  backgroundImage: 'url(' + imgUrl + ')',\n};\nfunction MyComponent() {\n  return <div style={divStyle}>组件</div>;\n}"
    },
    {
      "id": "s4-112",
      "sectionId": "s4",
      "title": "JSX dangerouslySetInnerHTML",
      "kind": "code",
      "lang": "jsx",
      "code": "const markup = {__html: '我 &middot; 你' };\n\nconst MyComponent = () => (\n  <div dangerouslySetInnerHTML={markup} />\n);"
    },
    {
      "id": "s4-113",
      "sectionId": "s4",
      "title": "JSX dangerouslySetInnerHTML",
      "kind": "text",
      "body": "`dangerouslySetInnerHTML` 是 React 为浏览器 DOM 提供 `innerHTML` 的替换方案。"
    },
    {
      "id": "s4-114",
      "sectionId": "s4",
      "title": "JSX htmlFor",
      "kind": "code",
      "lang": "jsx",
      "code": "const MyComponent = () => (\n  <div>\n    <input type=\"radio\" id=\"ab\" name=\"v\">\n    <label for=\"ab\">HTML</label>\n  </div>\n);"
    },
    {
      "id": "s4-115",
      "sectionId": "s4",
      "title": "JSX htmlFor",
      "kind": "text",
      "body": "`for` 在 `JS` 中是保留字，JSX 元素使用了 `htmlFor` 代替"
    },
    {
      "id": "s4-116",
      "sectionId": "s4",
      "title": "JSX defaultValue",
      "kind": "text",
      "body": "非受控组件的属性，设置组件第一次挂载时的 `value`"
    },
    {
      "id": "s4-117",
      "sectionId": "s4",
      "title": "JSX defaultValue",
      "kind": "code",
      "lang": "jsx",
      "code": "<textarea defaultValue=\"Hello\" />"
    },
    {
      "id": "s4-118",
      "sectionId": "s4",
      "title": "JSX defaultValue",
      "kind": "text",
      "body": "`<input>`、`<select>` 和 `<textarea>` 支持 value 属性"
    },
    {
      "id": "s4-119",
      "sectionId": "s4",
      "title": "JSX defaultChecked",
      "kind": "text",
      "body": "非受控组件的属性，设置组件是否被选中"
    },
    {
      "id": "s4-120",
      "sectionId": "s4",
      "title": "JSX defaultChecked",
      "kind": "code",
      "lang": "jsx",
      "code": "<input type=\"radio\" defaultChecked />"
    },
    {
      "id": "s4-121",
      "sectionId": "s4",
      "title": "JSX defaultChecked",
      "kind": "text",
      "body": "类型为 `checkbox` 或 `radio` 时，组件支持 checked 属性"
    },
    {
      "id": "s4-122",
      "sectionId": "s4",
      "title": "JSX className",
      "kind": "text",
      "body": "属性用于指定 `CSS` 的 `class`"
    },
    {
      "id": "s4-123",
      "sectionId": "s4",
      "title": "JSX className",
      "kind": "code",
      "lang": "jsx",
      "code": "<div className=\"warp\">...</div>"
    },
    {
      "id": "s4-124",
      "sectionId": "s4",
      "title": "JSX className",
      "kind": "text",
      "body": "React 中使用 [Web Components](https://developer.mozilla.org/zh-CN/docs/Web/Web_Components) 使用 `class` 属性代替"
    },
    {
      "id": "s4-125",
      "sectionId": "s4",
      "title": "JSX 条件渲染",
      "kind": "code",
      "lang": "jsx",
      "code": "import React from \"react\";\n\nfunction formatName(user) {\n  return user.firstName \n    + ' ' \n    + user.lastName;\n}\n\nexport function Greeting(user) {\n  if (user) {\n    return (\n      <h1>你好, {formatName(user)}!</h1>\n    );\n  }\n  return (\n    <h1>你好, 先生。</h1>\n  );\n}"
    },
    {
      "id": "s4-126",
      "sectionId": "s4",
      "title": "JSX 条件渲染",
      "kind": "text",
      "body": "注意：组件必须总是返回一些东西。"
    },
    {
      "id": "s4-127",
      "sectionId": "s4",
      "title": "JSX 条件渲染",
      "kind": "text",
      "body": "#### 使用"
    },
    {
      "id": "s4-128",
      "sectionId": "s4",
      "title": "JSX 条件渲染",
      "kind": "code",
      "lang": "jsx",
      "code": "<Greeting firstName=\"三\" lastName=\"张\" />"
    },
    {
      "id": "s4-129",
      "sectionId": "s4",
      "title": "JSX 三目运算符 / 与运算符 &&",
      "kind": "code",
      "lang": "jsx",
      "code": "export default function Weather(props) {\n  const isLoggedIn = props.isLoggedIn;\n  return (\n    <div>\n      <b>{isLoggedIn ? '已' : '未'}</b>登录。\n    </div>\n  );\n}"
    },
    {
      "id": "s4-130",
      "sectionId": "s4",
      "title": "JSX 三目运算符 / 与运算符 &&",
      "kind": "text",
      "body": "-----"
    },
    {
      "id": "s4-131",
      "sectionId": "s4",
      "title": "JSX 三目运算符 / 与运算符 &&",
      "kind": "code",
      "lang": "js",
      "code": "{isShow && <div>内容</div>}"
    },
    {
      "id": "s4-132",
      "sectionId": "s4",
      "title": "JSX 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "<Dropdown>\n  下拉列表\n  <Menu>\n    <Menu.Item>菜单一</Menu.Item>\n    <Menu.Item>菜单二</Menu.Item>\n    <Menu.Item>菜单三</Menu.Item>\n  </Menu>\n</Dropdown>"
    },
    {
      "id": "s4-133",
      "sectionId": "s4",
      "title": "JSX 组件",
      "kind": "text",
      "body": "组件名称以大驼峰式命名。"
    },
    {
      "id": "s4-134",
      "sectionId": "s4",
      "title": "JSX 元素变量",
      "kind": "code",
      "lang": "jsx",
      "code": "function Greeting(props) {\n  let button;\n  if (props.isLoggedIn) {\n    button = <UserGreeting />;\n  } else {\n    button = <GuestGreeting />;\n  }\n  return <div>{button}</div>;\n}"
    },
    {
      "id": "s4-135",
      "sectionId": "s4",
      "title": "JSX 注释",
      "kind": "code",
      "lang": "jsx",
      "code": "function Student() {\n  const [count, setCount] = useState(0);\n  return (\n    <Fragment>\n      {/* 这里写注释 */}\n    </Fragment>\n  );\n}"
    },
    {
      "id": "s5-136",
      "sectionId": "s5",
      "title": "函数组件",
      "kind": "code",
      "lang": "jsx",
      "code": "import React from 'react';\n\nconst UserName = () => <h1>Kenny</h1>;\n\nexport default function UserProfile() {\n  return (\n    <div className=\"UserProfile\">\n      <div>Hello</div>  \n      <UserName />\n    </div>\n  );\n}"
    },
    {
      "id": "s5-137",
      "sectionId": "s5",
      "title": "函数组件",
      "kind": "text",
      "body": "注意：每个组件都需要一个根元素，[更多说明](https://reactjs.org/docs/components-and-props.html)。"
    },
    {
      "id": "s5-138",
      "sectionId": "s5",
      "title": "Class 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "class Welcome extends React.Component {\n  render() {\n    return <h1>{this.props.name}</h1>;\n  }\n}"
    },
    {
      "id": "s5-139",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": "#### 额外的 API"
    },
    {
      "id": "s5-140",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": ":- | -\n:- | -\n`this.forceUpdate()` | 强制重新渲染\n`this.setState({ ... })` | 更新状态\n`this.setState(state =>{ ... })` | 更新状态"
    },
    {
      "id": "s5-141",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": "#### 属性"
    },
    {
      "id": "s5-142",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": ":- | -\n:- | -\n`defaultProps` | 默认 props\n`displayName` | 显示组件名称(用于调试)"
    },
    {
      "id": "s5-143",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": "#### 实例属性"
    },
    {
      "id": "s5-144",
      "sectionId": "s5",
      "title": "Class 组件 API",
      "kind": "text",
      "body": ":- | -\n:- | -\n`this.props` | 组件接受参数\n`this.state` | 组件内状态"
    },
    {
      "id": "s5-145",
      "sectionId": "s5",
      "title": "Pure 组件",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, {PureComponent} from 'react'\n\nclass MessageBox extends PureComponent {\n  ···\n}"
    },
    {
      "id": "s5-146",
      "sectionId": "s5",
      "title": "高阶组件",
      "kind": "code",
      "lang": "jsx",
      "code": "import React, { Component } from 'react';\n// 高阶组件 with\nconst with = data => WrappedComponent => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n    }\n    render() {\n      return (\n        <WrappedComponent data={data} />\n      )\n    }\n  }\n}"
    },
    {
      "id": "s5-147",
      "sectionId": "s5",
      "title": "高阶组件",
      "kind": "text",
      "body": "使用高阶组件"
    },
    {
      "id": "s5-148",
      "sectionId": "s5",
      "title": "高阶组件",
      "kind": "code",
      "lang": "jsx",
      "code": "const LowComponent = (props) => (\n  <div>{props.data}</div>\n);\n\nconst MyComp = with('Hello')(LowComponent)"
    },
    {
      "id": "s5-149",
      "sectionId": "s5",
      "title": "包含关系",
      "kind": "code",
      "lang": "jsx",
      "code": "function FancyBorder(props) {\n  return (\n    <div className={'Fancy'+props.color}>\n      {props.children}\n    </div>\n  );\n}"
    },
    {
      "id": "s5-150",
      "sectionId": "s5",
      "title": "包含关系",
      "kind": "text",
      "body": "组件可以通过 JSX 嵌套"
    },
    {
      "id": "s5-151",
      "sectionId": "s5",
      "title": "包含关系",
      "kind": "code",
      "lang": "jsx",
      "code": "function WelcomeDialog() {\n  return (\n    <FancyBorder color=\"blue\">\n      <h1 className=\"title\">欢迎</h1>\n      <p className=\"message\">\n        感谢您访问我们的宇宙飞船\n      </p>\n    </FancyBorder>\n  );\n}"
    },
    {
      "id": "s5-152",
      "sectionId": "s5",
      "title": "作为参数传递",
      "kind": "code",
      "lang": "jsx",
      "code": "function SplitPane(props) {\n  return (\n    <div className=\"SplitPane\">\n      <div className=\"left\">\n        {props.left}\n      </div>\n      <div className=\"right\">\n        {props.right}\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <SplitPane\n      left={<Contacts />}\n      right={<Chat />}\n    />\n  );\n}"
    },
    {
      "id": "s5-153",
      "sectionId": "s5",
      "title": "作为参数传递",
      "kind": "text",
      "body": "给组件 `SplitPane` 传递 `left` 和 `right` 两个组件参数"
    },
    {
      "id": "s5-154",
      "sectionId": "s5",
      "title": "嵌入内部组件",
      "kind": "text",
      "body": "```jsx {2}\nimport React from 'react';\nimport UserAvatar from \"./UserAvatar\";"
    },
    {
      "id": "s5-155",
      "sectionId": "s5",
      "title": "嵌入内部组件",
      "kind": "text",
      "body": "export default function UserProfile() {\nreturn (\n<div className=\"UserProfile\">\n<UserAvatar />\n<UserAvatar />\n</div>\n);\n}"
    },
    {
      "id": "s5-156",
      "sectionId": "s5",
      "title": "嵌入内部组件",
      "kind": "code",
      "lang": "",
      "code": "\n注意：假设 `UserAvatar` 在 `UserAvatar.js` 中声明\n\n### 嵌入外部组件\n\n```jsx {2}\nimport React from 'react';\nimport {Button} from 'uiw';\nexport default function UserProfile() {\n  return (\n    <div className=\"UserProfile\">\n      <Button type=\"primary\">\n        主要按钮\n      </Button>\n    </div>\n  );\n}"
    },
    {
      "id": "s5-157",
      "sectionId": "s5",
      "title": "嵌入内部组件",
      "kind": "text",
      "body": "注意：[uiw](http://npmjs.com/uiw) 组件在 [npmjs.com](https://www.npmjs.com) 上找到，需要先安装导入"
    },
    {
      "id": "s5-158",
      "sectionId": "s5",
      "title": "点组件语法技巧",
      "kind": "code",
      "lang": "jsx",
      "code": "const Menu = ({ children }) => (\n  <div className=\"menu\">{children}<div>\n);\n\nMenu.Item = ({ children }) => (\n  <div>{children}<div>\n);"
    },
    {
      "id": "s5-159",
      "sectionId": "s5",
      "title": "点组件语法技巧",
      "kind": "text",
      "body": "-----"
    },
    {
      "id": "s5-160",
      "sectionId": "s5",
      "title": "点组件语法技巧",
      "kind": "code",
      "lang": "jsx",
      "code": "<Menu>\n  <Menu.Item>菜单一</Menu.Item>\n  <Menu.Item>菜单二</Menu.Item>\n<Menu>"
    },
    {
      "id": "s6-161",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "#### 基础 Hook"
    },
    {
      "id": "s6-162",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useState` | 返回一个 `state`，更新 `state` 的函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usestate)\n`useEffect` | 可能有副作用代码的函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useeffect)\n`useContext` | 接收并返回该 `context` 的当前值 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usecontext)"
    },
    {
      "id": "s6-163",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "#### 额外的 Hook"
    },
    {
      "id": "s6-164",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useReducer` | `useState` 的替代方案 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usestate)\n`useCallback` | 返回一个回调函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usecallback)\n`useMemo` | 返回一个 [memoized](https://en.wikipedia.org/wiki/Memoization) 值[#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usememo)\n`useRef` | 返回一个可变的 `ref` 对象 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useref)\n`useImperativeHandle` | 暴露给父组件的实例值 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useimperativehandle)\n`useLayoutEffect` | DOM 变更后同步调用函数 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#uselayouteffect)\n`useDebugValue` | 开发者工具中显示标签 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usedebugvalue)\n`useDeferredValue` | 接受并返回该值的新副本 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usedeferredvalue)\n`useTransition` | 过渡任务的等待状态 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usetransition)\n`useId` | 用于生成唯一 ID [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#useid)"
    },
    {
      "id": "s6-165",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "#### Library Hooks"
    },
    {
      "id": "s6-166",
      "sectionId": "s6",
      "title": "Hooks API 参考",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`useSyncExternalStore` | 读取和订阅外部数据源 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usesyncexternalstore)\n`useInsertionEffect` |  DOM 突变之前 同步触发 [#](https://zh-hans.reactjs.org/docs/hooks-reference.html#usesyncexternalstore)"
    },
    {
      "id": "s6-167",
      "sectionId": "s6",
      "title": "函数式更新",
      "kind": "code",
      "lang": "jsx",
      "code": "function Counter({ initialCount }) {\n  const [count, setCount] = useState(initialCount);\n  return (\n    <>\n      Count: {count} <button onClick={() => setCount(initialCount)}>Reset</button>\n      <button onClick={() => setCount(prevCount => prevCount - 1)}>-</button>\n      <button onClick={() => setCount(prevCount => prevCount + 1)}>+</button>\n    </>\n  );\n}"
    },
    {
      "id": "s6-168",
      "sectionId": "s6",
      "title": "useRef",
      "kind": "code",
      "lang": "jsx",
      "code": "function TextInputWithFocusButton() {\n  const $input = useRef(null);\n  const onButtonClick = () => {\n    $input.current.focus();\n  };\n  return (\n    <>\n      <input ref={$input} type=\"text\" />\n      <button onClick={onButtonClick}>\n        聚焦输入\n      </button>\n    </>\n  );\n}"
    },
    {
      "id": "s6-169",
      "sectionId": "s6",
      "title": "useRef",
      "kind": "text",
      "body": "`current` 指向已挂载到 DOM 上的文本输入元素"
    },
    {
      "id": "s6-170",
      "sectionId": "s6",
      "title": "useImperativeHandle",
      "kind": "code",
      "lang": "jsx",
      "code": "function FancyInput(props, ref) {\n  const inputRef = useRef();\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      inputRef.current.focus();\n    }\n  }));\n  return <input ref={inputRef} />;\n}\nFancyInput = forwardRef(FancyInput);"
    },
    {
      "id": "s6-171",
      "sectionId": "s6",
      "title": "useImperativeHandle",
      "kind": "text",
      "body": "父组件使用"
    },
    {
      "id": "s6-172",
      "sectionId": "s6",
      "title": "useImperativeHandle",
      "kind": "code",
      "lang": "jsx",
      "code": "<FancyInput ref={inputRef} />\ninputRef.current.focus()"
    },
    {
      "id": "s6-173",
      "sectionId": "s6",
      "title": "useEffect",
      "kind": "code",
      "lang": "jsx",
      "code": "useEffect(() => {\n  const subs = props.source.subscribe();\n  return () => {\n    subs.unsubscribe();\n  };\n}, [props.source]);"
    },
    {
      "id": "s6-174",
      "sectionId": "s6",
      "title": "useCallback",
      "kind": "code",
      "lang": "jsx",
      "code": "const memoizedCallback = useCallback(\n  () => {\n    doSomething(a, b);\n  },\n  [a, b],\n);"
    },
    {
      "id": "s6-175",
      "sectionId": "s6",
      "title": "useMemo",
      "kind": "code",
      "lang": "jsx",
      "code": "const memoizedValue = useMemo(\n  () => {\n    return computeExpensiveValue(a, b)\n  },\n  [a, b]\n);"
    },
    {
      "id": "s6-176",
      "sectionId": "s6",
      "title": "useId",
      "kind": "code",
      "lang": "jsx",
      "code": "function Checkbox() {\n  const id = useId();\n  return (\n    <>\n      <label htmlFor={id}>\n        你喜欢React吗？\n      </label>\n      <input id={id} type=\"checkbox\" />\n    </>\n  );\n};"
    },
    {
      "id": "s6-177",
      "sectionId": "s6",
      "title": "useId",
      "kind": "text",
      "body": "用于生成跨服务端和客户端稳定的唯一 `ID` 的同时避免 `hydration` 不匹配"
    },
    {
      "id": "s6-178",
      "sectionId": "s6",
      "title": "useDebugValue",
      "kind": "code",
      "lang": "jsx",
      "code": "function useFriendStatus(friendID) {\n  const [\n    isOnline, setIsOnline\n  ] = useState(null);\n  // ...\n  // 在开发者工具中的这个 Hook 旁边显示标签\n  // e.g. \"FriendStatus: Online\"\n  useDebugValue(\n    isOnline ? 'Online' : 'Offline'\n  );\n  return isOnline;\n}"
    },
    {
      "id": "s6-179",
      "sectionId": "s6",
      "title": "useDebugValue",
      "kind": "text",
      "body": "不推荐你向每个自定义 `Hook` 添加 `debug` 值"
    },
    {
      "id": "s6-180",
      "sectionId": "s6",
      "title": "componentDidMount & componentWillUnmount",
      "kind": "code",
      "lang": "jsx",
      "code": "useEffect(\n  () => {\n    // componentDidMount\n    // 组件挂载时，可以在这里完成你的任务\n    return () => {\n      // componentWillUnmount\n      // 卸载时执行，清除 effect\n    };\n  },\n  [ ]\n);"
    },
    {
      "id": "s6-181",
      "sectionId": "s6",
      "title": "componentDidMount & componentWillUnmount",
      "kind": "text",
      "body": "这是一个类似 `class` 组件中 `componentDidMount` & `componentWillUnmount` 两个生命周期函数的写法。"
    },
    {
      "id": "s7-182",
      "sectionId": "s7",
      "title": "挂载",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`constructor` _(props)_  | 渲染前 [#](https://zh-hans.reactjs.org/docs/react-component.html#constructor)\n`static getDerivedStateFromProps()` | 调用 `render` 方法之前调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`render()`               |  `class` 组件中唯一必须实现的方法 [#](https://reactjs.org/docs/react-component.html#render)\n`componentDidMount()`    | 在组件挂载后(插入 DOM 树中)立即调用 [#](https://reactjs.org/docs/react-component.html#componentdidmount)\n`UNSAFE_componentWillMount()` | 在挂载之前被调用，建议使用 `constructor()` [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillmount)"
    },
    {
      "id": "s7-183",
      "sectionId": "s7",
      "title": "挂载",
      "kind": "text",
      "body": "在 `constructor()` 上设置初始状态。在 `componentDidMount()` 上添加 DOM 事件处理程序、计时器(等），然后在 `componentWillUnmount()` 上删除它们。"
    },
    {
      "id": "s7-184",
      "sectionId": "s7",
      "title": "卸载",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`componentWillUnmount()` | 在组件卸载及销毁之前直接调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentwillunmount)"
    },
    {
      "id": "s7-185",
      "sectionId": "s7",
      "title": "过时 API",
      "kind": "text",
      "body": "过时方法 | 新方法\n:- | -\n~~`componentWillMount()`~~ | `UNSAFE_componentWillMount()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillmount)\n~~`componentWillReceiveProps()`~~ | `UNSAFE_componentWillReceiveProps()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops)\n~~`componentWillUpdate()`~~ | `UNSAFE_componentWillUpdate()`  [#](https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillupdate)"
    },
    {
      "id": "s7-186",
      "sectionId": "s7",
      "title": "过时 API",
      "kind": "text",
      "body": "17+ 之后不再支持，在 `17` 版本之后，只有新的 `UNSAFE_` 生命周期名称可以使用。"
    },
    {
      "id": "s7-187",
      "sectionId": "s7",
      "title": "更新",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`static getDerivedStateFromProps(props, state)` | 调用 `render` 之前调用，在初始挂载及后续更新时都会被调用 [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`shouldComponentUpdate(nextProps, nextState)` | 如果返回 `false`，则跳过 `render()` [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops)\n`render()` | 在不修改组件 `state` 的情况下，每次调用时都返回相同的结果 [#](https://zh-hans.reactjs.org/docs/react-component.html#render)\n`getSnapshotBeforeUpdate()` | 在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置） [#](https://zh-hans.reactjs.org/docs/react-component.html#getsnapshotbeforeupdate)\n`componentDidUpdate()` | 这里使用 `setState()`，但记得比较 `props`。首次渲染不会执行此方法 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentdidupdate)"
    },
    {
      "id": "s7-188",
      "sectionId": "s7",
      "title": "错误处理",
      "kind": "text",
      "body": "方法 | 描述\n:- | -\n`static getDerivedStateFromError(error)` | 后代组件抛出错误后被调用，它将抛出的错误作为参数，并返回一个值以更新 `state` [#](https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromerror)\n`componentDidCatch(error, info)` | 在后代组件抛出错误后被调用，会在“提交”阶段被调用，因此允许执行副作用 [#](https://zh-hans.reactjs.org/docs/react-component.html#componentdidcatch)"
    },
    {
      "id": "s7-189",
      "sectionId": "s7",
      "title": "render()",
      "kind": "text",
      "body": "```jsx {2}\nclass Welcome extends React.Component {\nrender() {\nreturn <h1>Hello, {this.props.name}</h1>;\n}\n}"
    },
    {
      "id": "s7-190",
      "sectionId": "s7",
      "title": "render()",
      "kind": "code",
      "lang": "",
      "code": "\n### constructor()\n\n```jsx {1}\nconstructor(props) {\n  super(props);\n  // 不要在这里调用 this.setState()\n  this.state = { counter: 0 };\n  this.handleClick = this.handleClick.bind(this);\n}"
    },
    {
      "id": "s7-191",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "text",
      "body": "```jsx {7,13}\nclass ErrorBoundary extends React.Component {\nconstructor(props) {\nsuper(props);\nthis.state = { hasError: false };\n}"
    },
    {
      "id": "s7-192",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "text",
      "body": "static getDerivedStateFromError(error) {\n// 更新 state 使下一次渲染可以显降级 UI\nreturn { hasError: true };\n}"
    },
    {
      "id": "s7-193",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "text",
      "body": "render() {\nif (this.state.hasError) {\n// 你可以渲染任何自定义的降级  UI\nreturn <h1>Something went wrong.</h1>;\n}"
    },
    {
      "id": "s7-194",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "text",
      "body": "return this.props.children;\n}\n}"
    },
    {
      "id": "s7-195",
      "sectionId": "s7",
      "title": "static getDerivedStateFromError()",
      "kind": "code",
      "lang": "",
      "code": "\n### componentDidUpdate()\n\n```jsx {1}\ncomponentDidUpdate(prevProps) {\n  // 典型用法（不要忘记比较 props）：\n  if (this.props.uid !== prevProps.uid) {\n    this.fetchData(this.props.uid);\n  }\n}"
    },
    {
      "id": "s7-196",
      "sectionId": "s7",
      "title": "getSnapshotBeforeUpdate()",
      "kind": "code",
      "lang": "jsx",
      "code": "getSnapshotBeforeUpdate(prevProps, prevState) {\n  // 我们是否在 list 中添加新的 items ？\n  // 捕获滚动​​位置以便我们稍后调整滚动位置。\n  if (prevProps.list.length < this.props.list.length) {\n    const list = this.listRef.current;\n    return list.scrollHeight - list.scrollTop;\n  }\n  return null;\n}"
    },
    {
      "id": "s8-197",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "code",
      "lang": "jsx",
      "code": "import PropTypes from 'prop-types'"
    },
    {
      "id": "s8-198",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "-----"
    },
    {
      "id": "s8-199",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`any` | 任意类型\n`(props, propName, 组件名称)=>{}` | 自定义验证器"
    },
    {
      "id": "s8-200",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _基础_"
    },
    {
      "id": "s8-201",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`string` | 字符串\n`number` | 数组\n`func` | 函数\n`bool` | 布尔值\n`symbol` | -"
    },
    {
      "id": "s8-202",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _枚举 Enum_"
    },
    {
      "id": "s8-203",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`oneOf(any)` | 枚举类型\n`oneOfType([type])` | 几种类型中的任意一个类型"
    },
    {
      "id": "s8-204",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _数组 Array_"
    },
    {
      "id": "s8-205",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`array` | 数组\n`arrayOf` | 数组由某一类型的元素组成"
    },
    {
      "id": "s8-206",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _对象 Object_"
    },
    {
      "id": "s8-207",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`object` | 对象\n`objectOf` | 对象由某一类型的值组成\n`instanceOf(...)` | 类的实例\n`shape` | 对象由特定的类型值组成\n`exact` | 有额外属性警告"
    },
    {
      "id": "s8-208",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _元素 Elements_"
    },
    {
      "id": "s8-209",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`element` | React 元素\n`elementType` | React 元素类型(即 `MyComponent`)\n`node` | DOM 节点"
    },
    {
      "id": "s8-210",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "#### _必需的_"
    },
    {
      "id": "s8-211",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": ":- | -\n:- | -\n`(···).isRequired` | 必需的"
    },
    {
      "id": "s8-212",
      "sectionId": "s8",
      "title": "PropTypes",
      "kind": "text",
      "body": "请参阅：[使用 PropTypes 进行类型检查](https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html)"
    },
    {
      "id": "s8-213",
      "sectionId": "s8",
      "title": "基本类型",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  email:      PropTypes.string,\n  seats:      PropTypes.number,\n  callback:   PropTypes.func,\n  isClosed:   PropTypes.bool,\n  any:        PropTypes.any\n  symbol:     PropTypes.symbol,\n}"
    },
    {
      "id": "s8-214",
      "sectionId": "s8",
      "title": "基本类型",
      "kind": "text",
      "body": "你可以将属性声明为 JS 原生类型，默认都是可选的。"
    },
    {
      "id": "s8-215",
      "sectionId": "s8",
      "title": "必需的",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 确保这个 prop 没有被提供时，会打印警告信息\n  requiredFunc: PropTypes.func.isRequired,\n\n  // 任意类型的必需数据\n  requiredAny: PropTypes.any.isRequired,\n}"
    },
    {
      "id": "s8-216",
      "sectionId": "s8",
      "title": "必需的",
      "kind": "text",
      "body": "你可以在任何 `PropTypes` 属性后面加上 `isRequired`。"
    },
    {
      "id": "s8-217",
      "sectionId": "s8",
      "title": "枚举",
      "kind": "code",
      "lang": "js",
      "code": "MyComponent.propTypes = {\n  // 只能是特定的值，枚举类型。\n  optionalEnum: PropTypes.oneOf([\n    'News', 'Photos'\n  ]),\n  // 一个对象可以是几种类型中的任意一个类型\n  optionalUnion: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.instanceOf(Message)\n  ]),\n}"
    },
    {
      "id": "s8-218",
      "sectionId": "s8",
      "title": "元素 Elements",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 任何可被渲染的元素\n  // (包括数字、字符串、元素或数组)\n  // (或 Fragment) 也包含这些类型。\n  node: PropTypes.node,\n\n  // 一个 React 元素。\n  element: PropTypes.element,\n\n  // 一个 React 元素类型（即，MyComponent）\n  elementType: PropTypes.elementType,\n}"
    },
    {
      "id": "s8-219",
      "sectionId": "s8",
      "title": "对象 Object",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  // 可以指定一个对象由某一类型的值组成\n  objectOf: PropTypes.objectOf(\n    PropTypes.number\n  ),\n  // 可以指定一个对象由特定的类型值组成\n  objectWithShape: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n  // 带有额外属性警告的对象\n  objectWithStrictShape: PropTypes.exact({\n    name: PropTypes.string,\n    quantity: PropTypes.number\n  }),\n}"
    },
    {
      "id": "s8-220",
      "sectionId": "s8",
      "title": "自定义验证器",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  custom: (props, propName, compName) => {\n    if (!/matchm/.test(props[propName])) {\n      // 它在验证失败时应返回一个 Error 对象\n      return new Error(\n        '无效的prop `'\n        ` \\`${propName}\\` 提供给` + \n        ` \\`${compName}\\`。验证失败。`\n      );\n\n    }\n  },\n}"
    },
    {
      "id": "s8-221",
      "sectionId": "s8",
      "title": "自定义验证器",
      "kind": "text",
      "body": "请不要使用 `console.warn` 或抛出异常，因为这在 `oneOfType` 中不会起作用。"
    },
    {
      "id": "s8-222",
      "sectionId": "s8",
      "title": "自定义的 `arrayOf` 或 `objectOf` 验证器",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  arrayProp: PropTypes.arrayOf((propValue, key, componentName, location, propFullName) => {\n    if (!/matchme/.test(propValue[key])) {\n      // 它应该在验证失败时返回一个 Error 对象。\n      return new Error(\n        'Invalid prop `' + propFullName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  })\n}"
    },
    {
      "id": "s8-223",
      "sectionId": "s8",
      "title": "自定义的 `arrayOf` 或 `objectOf` 验证器",
      "kind": "text",
      "body": "`propValue` 是数组或对象本身，`key` 是他们当前的键。"
    },
    {
      "id": "s8-224",
      "sectionId": "s8",
      "title": "数组",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  arr: PropTypes.arrayOf(PropTypes.number),\n};"
    },
    {
      "id": "s8-225",
      "sectionId": "s8",
      "title": "数组",
      "kind": "text",
      "body": "可以指定一个数组由某一类型的元素组成"
    },
    {
      "id": "s8-226",
      "sectionId": "s8",
      "title": "验证类的实例",
      "kind": "code",
      "lang": "jsx",
      "code": "MyComponent.propTypes = {\n  message: PropTypes.instanceOf(Message),\n};"
    },
    {
      "id": "s8-227",
      "sectionId": "s8",
      "title": "验证类的实例",
      "kind": "text",
      "body": "声明 `message` 为类的实例"
    },
    {
      "id": "s9-228",
      "sectionId": "s9",
      "title": "另见",
      "kind": "text",
      "body": "• [React 官方中文文档](https://zh-hans.reactjs.org/) _(zh-hans.reactjs.org)_\n• [反应生命周期方法图](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/) _(projects.wojtekmaj.pl)_\n• [React 16 Cheat Sheet](https://reactcheatsheet.com)\n• [Awesome React](https://github.com/enaqx/awesome-react) _(github.com)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/react.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/react.md",
    "lang": "zh",
    "mode": "local"
  }
}