{
  "id": "cmake",
  "name": "CMake 备忘清单",
  "title": "本清单提供了对 CMake 的入门简要概述，以及 CMake 常用示例",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/cmake.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "另见",
      "startIndex": 29
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "本清单提供了对 CMake 的入门简要概述，以及 CMake 常用示例"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Hello CMake",
      "kind": "text",
      "body": "CMake 是一个用于配置跨平台源代码项目应该如何配置的工具建立在给定的平台上。"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "├── CMakeLists.txt  # 希望运行的 CMake命令\n├── main.cpp        # 带有main 的源文件\n├── include         # 头文件目录\n│   └── header.h\n└── src             # 源代码目录\n    ├── a.c\n    └── b.c"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "在此项目上运行 `CMake` 时，系统会要求您提供二进制目录，运行 `CMake` 不会创建最终的可执行文件，而是会为 `Visual Studio`、`XCode` 或 `makefile` 生成项目文件。 使用这些工具构建该项目"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "CMakeLists.txt",
      "kind": "code",
      "lang": "cmake",
      "code": "# 设置可以使用的最低 CMake 版本\ncmake_minimum_required(VERSION 3.5)\n# 设置项目名称\nproject (hello_cmake)\n# 添加可执行文件\nadd_executable(hello_cmake main.cpp)\n# 添加头文件目录\ntarget_include_directories(hello_cmake PRIVATE ./include)\n# 批量添加源文件\nfile(GLOB SRCS CONFIGURE_DEPENDS ./src/*.cpp)\ntarget_sources(hello_cmake PUBLIC ${SRCS})\n# 添加第三方库\nfind_package(OpenGL CONFIG REQUIRED)\n# 链接第三方库\ntarget_link_libraries(hello_cmake PRIVATE OpenGL)\n# 指定输出路径\nset_property(TARGET hello_cmake ${CMAKE_SOURCE_DIR}/bin)"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "main.cpp",
      "kind": "code",
      "lang": "c",
      "code": "%23include%20%3Ciostream%3E%0A%0Aint%20main(int%20argc%2C%20char%20*argv%5B%5D)%0A%7B%0A%20%20std%3A%3Acout%20%3C%3C%20%22Hello%20CMake!%22%20%3C%3C%20std%3A%3Aendl%3B%0A%20%20return%200%3B%0A%7D",
      "encoded": true
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "编译示例",
      "kind": "code",
      "lang": "bash",
      "code": "$ mkdir build   # 创建 build 目录\n$ cd build      # 进入目录\n$ cmake ..      # 目录的上一级目录运行命令\n$ make          # 使用对应的编译工具\n$ ./hello_cmake # 运行生成的 hello_cmake\nHello CMake!"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "cmake",
      "kind": "text",
      "body": "生成项目构建系统"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake [<options>] <path-to-source | path-to-existing-build>bash\n$ cmake [<options>] -S <path-to-source> -B <path-to-build>"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "建立一个项目"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --build <dir> [<options>] [-- <build-tool-options>]"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "安装项目"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --install <dir> [<options>]"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "运行指定项目"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "cmake --build <dir> --target <project>"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "打开一个项目"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --open <dir>"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "运行脚本"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake [-D <var>=<value>]... -P <cmake-script-file>"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "运行命令行工具"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake -E <command> [<options>]"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "运行查找包工具"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --find-package [<options>]"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "运行工作流预设"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --workflow [<options>]"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "查看帮助"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ cmake --help[-<topic>]"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "常用参数",
      "kind": "text",
      "body": "• 方式一: 在`CMakeLists.txt`中使用`set(KEY VAL)`函数\n• 方式二: 在执行`cmake ...` -D<arg> 指定(只需一次,推荐)"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "cmake",
      "code": "%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E5%8F%82%E6%95%B0(Debug%2FRelease%2FMinSizeRel%2FRelWithDebInfo)%0A%24%20cmake%20...%20-D%20CMAKE_BUILD_TYPE%3DDEBUG%0A%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E9%93%BE%E5%B7%A5%E5%85%B7(windows%E4%B8%8Bvcpkg%E9%9C%80%E8%A6%81)%0A%24%20cmake%20...%20-D%20CMAKE_TOOLCHAIN_FILE%3D%3Cvcpkg_path%3E%2Fscripts%2Fbuildsystems%2Fvcpkg.cmake%0A%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E5%99%A8%0A%24%20cmake%20...%20-D%20CAMKE_C_COMPILER%3D...%0A%24%20cmake%20...%20-D%20CAMKE_CXX_COMPILER%3D...%0A%23%20%E6%8C%87%E5%AE%9A%E7%94%9F%E6%88%90%E5%99%A8%0A%24%20cmake%20..%20-G%20%22Unix%20Makefile%22%0A%24%20cmake%20..%20-G%20%22Ninja%22%0A%24%20cmake%20..%20-G%20%22Visual%20Studio%2017%202022%22%0A%0A%23%20%E8%AE%BE%E7%BD%AECpp%E6%A0%87%E5%87%86%0Aset(CMAKE_CXX_STANDARD%2017)%0Aset(CMAKE_CXX_STANDARD_REQUIRED%20ON)%20%23%20%E5%9C%A8%E6%A3%80%E6%B5%8B%E5%88%B0%E4%B8%8D%E6%94%AF%E6%8C%81%E6%97%B6%E5%87%BA%E9%94%99%0Aset(CMAKE_CXX_EXTENSIONS%20ON)%20%23%E4%B8%80%E8%88%AC%E8%AE%BE%E4%B8%BAoff%EF%BC%8C%E5%90%A6%E5%88%99%E5%9C%A8msvc%E4%B8%8A%E6%B2%A1%E6%9C%89%E7%89%B9%E6%80%A7%E4%BC%9A%E5%87%BA%E9%94%99",
      "encoded": true
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "另见",
      "kind": "text",
      "body": "• [CMake Examples](http://ttroy50.github.io/cmake-examples/) _(ttroy50.github.io)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/cmake.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/cmake.md",
    "lang": "zh",
    "mode": "local"
  }
}