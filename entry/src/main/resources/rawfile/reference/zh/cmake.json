{
  "id": "cmake",
  "name": "CMake 备忘清单",
  "title": "本清单提供了对 CMake 的入门简要概述，以及 CMake 常用示例",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/cmake.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "另见",
      "startIndex": 29
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "本清单提供了对 CMake 的入门简要概述，以及 CMake 常用示例"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "Hello CMake",
      "body": "CMake 是一个用于配置跨平台源代码项目应该如何配置的工具建立在给定的平台上。\n\n```bash\n├── CMakeLists.txt  # 希望运行的 CMake命令\n├── main.cpp        # 带有main 的源文件\n├── include         # 头文件目录\n│   └── header.h\n└── src             # 源代码目录\n    ├── a.c\n    └── b.c\n```\n\n在此项目上运行 `CMake` 时，系统会要求您提供二进制目录，运行 `CMake` 不会创建最终的可执行文件，而是会为 `Visual Studio`、`XCode` 或 `makefile` 生成项目文件。 使用这些工具构建该项目"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "CMakeLists.txt",
      "body": "```cmake\n# 设置可以使用的最低 CMake 版本\ncmake_minimum_required(VERSION 3.5)\n# 设置项目名称\nproject (hello_cmake)\n# 添加可执行文件\nadd_executable(hello_cmake main.cpp)\n# 添加头文件目录\ntarget_include_directories(hello_cmake PRIVATE ./include)\n# 批量添加源文件\nfile(GLOB SRCS CONFIGURE_DEPENDS ./src/*.cpp)\ntarget_sources(hello_cmake PUBLIC ${SRCS})\n# 添加第三方库\nfind_package(OpenGL CONFIG REQUIRED)\n# 链接第三方库\ntarget_link_libraries(hello_cmake PRIVATE OpenGL)\n# 指定输出路径\nset_property(TARGET hello_cmake ${CMAKE_SOURCE_DIR}/bin)\n\n```"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "main.cpp",
      "body": "%60%60%60c%0A%23include%20%3Ciostream%3E%0A%0Aint%20main(int%20argc%2C%20char%20*argv%5B%5D)%0A%7B%0A%20%20std%3A%3Acout%20%3C%3C%20%22Hello%20CMake!%22%20%3C%3C%20std%3A%3Aendl%3B%0A%20%20return%200%3B%0A%7D%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "编译示例",
      "body": "```bash\n$ mkdir build   # 创建 build 目录\n$ cd build      # 进入目录\n$ cmake ..      # 目录的上一级目录运行命令\n$ make          # 使用对应的编译工具\n$ ./hello_cmake # 运行生成的 hello_cmake\nHello CMake!\n```"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "cmake",
      "body": "生成项目构建系统\n\n```bash\n$ cmake [<options>] <path-to-source | path-to-existing-build>bash\n$ cmake [<options>] -S <path-to-source> -B <path-to-build>\n```\n\n建立一个项目\n\n```bash\n$ cmake --build <dir> [<options>] [-- <build-tool-options>]\n```\n\n安装项目\n\n```bash\n$ cmake --install <dir> [<options>]\n```\n\n运行指定项目\n\n```bash\ncmake --build <dir> --target <project>\n```\n\n打开一个项目\n\n```bash\n$ cmake --open <dir>\n```\n\n运行脚本\n\n```bash\n$ cmake [-D <var>=<value>]... -P <cmake-script-file>\n```\n\n运行命令行工具\n\n```bash\n$ cmake -E <command> [<options>]\n```\n\n运行查找包工具\n\n```bash\n$ cmake --find-package [<options>]\n```\n\n运行工作流预设\n\n```bash\n$ cmake --workflow [<options>]\n```\n\n查看帮助\n\n```bash\n$ cmake --help[-<topic>]\n```"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0",
      "body": "%E2%80%A2%20%E6%96%B9%E5%BC%8F%E4%B8%80%3A%20%E5%9C%A8%60CMakeLists.txt%60%E4%B8%AD%E4%BD%BF%E7%94%A8%60set(KEY%20VAL)%60%E5%87%BD%E6%95%B0%0A%E2%80%A2%20%E6%96%B9%E5%BC%8F%E4%BA%8C%3A%20%E5%9C%A8%E6%89%A7%E8%A1%8C%60cmake%20...%60%20-D%3Carg%3E%20%E6%8C%87%E5%AE%9A(%E5%8F%AA%E9%9C%80%E4%B8%80%E6%AC%A1%2C%E6%8E%A8%E8%8D%90)%0A%0A%60%60%60cmake%0A%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E5%8F%82%E6%95%B0(Debug%2FRelease%2FMinSizeRel%2FRelWithDebInfo)%0A%24%20cmake%20...%20-D%20CMAKE_BUILD_TYPE%3DDEBUG%0A%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E9%93%BE%E5%B7%A5%E5%85%B7(windows%E4%B8%8Bvcpkg%E9%9C%80%E8%A6%81)%0A%24%20cmake%20...%20-D%20CMAKE_TOOLCHAIN_FILE%3D%3Cvcpkg_path%3E%2Fscripts%2Fbuildsystems%2Fvcpkg.cmake%0A%23%20%E6%8C%87%E5%AE%9A%E7%BC%96%E8%AF%91%E5%99%A8%0A%24%20cmake%20...%20-D%20CAMKE_C_COMPILER%3D...%0A%24%20cmake%20...%20-D%20CAMKE_CXX_COMPILER%3D...%0A%23%20%E6%8C%87%E5%AE%9A%E7%94%9F%E6%88%90%E5%99%A8%0A%24%20cmake%20..%20-G%20%22Unix%20Makefile%22%0A%24%20cmake%20..%20-G%20%22Ninja%22%0A%24%20cmake%20..%20-G%20%22Visual%20Studio%2017%202022%22%0A%0A%23%20%E8%AE%BE%E7%BD%AECpp%E6%A0%87%E5%87%86%0Aset(CMAKE_CXX_STANDARD%2017)%0Aset(CMAKE_CXX_STANDARD_REQUIRED%20ON)%20%23%20%E5%9C%A8%E6%A3%80%E6%B5%8B%E5%88%B0%E4%B8%8D%E6%94%AF%E6%8C%81%E6%97%B6%E5%87%BA%E9%94%99%0Aset(CMAKE_CXX_EXTENSIONS%20ON)%20%23%E4%B8%80%E8%88%AC%E8%AE%BE%E4%B8%BAoff%EF%BC%8C%E5%90%A6%E5%88%99%E5%9C%A8msvc%E4%B8%8A%E6%B2%A1%E6%9C%89%E7%89%B9%E6%80%A7%E4%BC%9A%E5%87%BA%E9%94%99%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "另见",
      "body": "• [CMake Examples](http://ttroy50.github.io/cmake-examples/) _(ttroy50.github.io)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/cmake.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/cmake.md",
    "lang": "zh",
    "mode": "local"
  }
}