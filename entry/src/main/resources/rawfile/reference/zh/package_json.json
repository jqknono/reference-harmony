{
  "id": "package_json",
  "title": "package_json",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "文件类信息",
      "startIndex": 42
    },
    {
      "id": "s2",
      "title": "打包包字段",
      "startIndex": 56
    },
    {
      "id": "s3",
      "title": "任务类字段",
      "startIndex": 78
    },
    {
      "id": "s4",
      "title": "依赖描述类字段",
      "startIndex": 93
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "package.json 备忘清单\n==="
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这个快速参考备忘清单，显示了关于 package.json 文件中所需内容的全部内容。"
    },
    {
      "id": "intro-2",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "重要字段\n----"
    },
    {
      "id": "intro-3",
      "sectionId": "intro",
      "title": "介绍",
      "kind": "text",
      "body": "本快速参考备忘清单是您需要了解的关于 package.json 文件中所需内容的全部内容。 它必须是实际的 JSON，而不仅仅是 JavaScript 对象字面量。"
    },
    {
      "id": "intro-4",
      "sectionId": "intro",
      "title": "介绍",
      "kind": "text",
      "body": "• [npm 文档](https://docs.npmjs.com/files/package.json) _(npmjs.com)_\n• [yarnpkg 文档](https://classic.yarnpkg.com/en/docs/package-json) _(yarnpkg.com)_\n• [packages 文档](https://nodejs.org/api/packages.html) _(nodejs.org)_\n• [npm 备忘清单(速查表)](./npm.md) _(jaywcjlove.github.io)_"
    },
    {
      "id": "intro-5",
      "sectionId": "intro",
      "title": "`name`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"name\": \"my-awesome-package\"\n}"
    },
    {
      "id": "intro-6",
      "sectionId": "intro",
      "title": "`name`",
      "kind": "text",
      "body": "#### 规则"
    },
    {
      "id": "intro-7",
      "sectionId": "intro",
      "title": "`name`",
      "kind": "text",
      "body": "• 必须小于或等于214个字符(包括 `@scope/` 范围包)\n• 不能以点（`.`）或下划线（`_`）开头\n• 名称中不得包含大写字母\n• 必须仅使用URL安全字符"
    },
    {
      "id": "intro-8",
      "sectionId": "intro",
      "title": "`version`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"version\": \"1.0.0\"\n}"
    },
    {
      "id": "intro-9",
      "sectionId": "intro",
      "title": "`version`",
      "kind": "text",
      "body": "包的当前版本，严格遵循 [Semantic Versioning 2.0.0](http://semver.org/lang/zh-CN/) 语义化版本规范。"
    },
    {
      "id": "intro-10",
      "sectionId": "intro",
      "title": "Tips",
      "kind": "text",
      "body": "• 不要使用和 `Node.js` 核心模块相同的名字。\n• 不要在名字里包含 `js` 或者 `node` 单词。\n• 短小精悍，让人看到名字就大概了解包的功能，记住它也会被用在 `require()` 调用里。\n• 保证名字在 [npm registry](https://www.npmjs.com/) 里是唯一的。\n• name 和 version 字段一起用于创建唯一ID"
    },
    {
      "id": "intro-11",
      "sectionId": "intro",
      "title": "Tips",
      "kind": "text",
      "body": "如果没有 `name` 和`version` 字段，您的包将无法安装"
    },
    {
      "id": "intro-12",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "code",
      "lang": "sh",
      "code": "yarn add [包名]\n# or\nnpm install [包名]"
    },
    {
      "id": "intro-13",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "text",
      "body": "安装后存放位置"
    },
    {
      "id": "intro-14",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "code",
      "lang": "bash",
      "code": "node_modules/[包名]"
    },
    {
      "id": "intro-15",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "text",
      "body": "npmjs 下载地址"
    },
    {
      "id": "intro-16",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "code",
      "lang": "bash",
      "code": "https://registry.npmjs.org/[包名]/-/[包名]-[version].tgz"
    },
    {
      "id": "intro-17",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "text",
      "body": "这是您的 `包` 的名称。 它在URL中使用，作为参数命令行，以及 `node_modules` 中的目录名。"
    },
    {
      "id": "intro-18",
      "sectionId": "intro",
      "title": "安装 `name` 包",
      "kind": "text",
      "body": "信息类字段\n----"
    },
    {
      "id": "intro-19",
      "sectionId": "intro",
      "title": "`description`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"description\": \"我的包的概要简短描述\"\n}"
    },
    {
      "id": "intro-20",
      "sectionId": "intro",
      "title": "`description`",
      "kind": "text",
      "body": "帮助使用者了解包的功能的字符串，包管理器也会把这个字符串作为搜索关键词。"
    },
    {
      "id": "intro-21",
      "sectionId": "intro",
      "title": "`license`",
      "kind": "text",
      "body": "所有包都应该指定许可证，以便让用户了解他们是在什么授权下使用此包，以及此包还有哪些附加限制。"
    },
    {
      "id": "intro-22",
      "sectionId": "intro",
      "title": "`license`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"license\": \"MIT\",\n  \"license\": \"(MIT or GPL-3.0)\",\n  \"license\": \"SEE LICENSE IN LICENSE_FILENAME.txt\",\n  \"license\": \"UNLICENSED\"\n}"
    },
    {
      "id": "intro-23",
      "sectionId": "intro",
      "title": "`license`",
      "kind": "text",
      "body": "鼓励使用开源 [(OSI-approved)](https://opensource.org/licenses/alphabetical) 许可证，除非你有特别的原因不用它。 如果你开发的包是你工作的一部分，最好和公司讨论后再做决定。"
    },
    {
      "id": "intro-24",
      "sectionId": "intro",
      "title": "`license`",
      "kind": "text",
      "body": "#### **license字段必须是以下之一**"
    },
    {
      "id": "intro-25",
      "sectionId": "intro",
      "title": "`license`",
      "kind": "text",
      "body": "• 如果你使用标准的许可证，需要一个有效地 [SPDX 许可证标识](https://spdx.org/licenses/)。\n• 如果你用多种标准许可证，需要有效的 [SPDX 许可证表达式2.0语法表达式](https://www.npmjs.com/package/spdx)。\n• 如果你使用非标准的许可证，一个 `SEE LICENSE IN <文件名>` 字符串指向你的包里顶级目录的一个 <文件名>。\n• 如果你不想在任何条款下授权其他人使用你的私有或未公开的包，一个 `UNLICENSED` 字符串。"
    },
    {
      "id": "intro-26",
      "sectionId": "intro",
      "title": "`keywords`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"keywords\": [\n    \"short\", \"relevant\", \"keywords\"\n  ]\n}"
    },
    {
      "id": "intro-27",
      "sectionId": "intro",
      "title": "`keywords`",
      "kind": "text",
      "body": "一个字符串数组，当在包管理器里搜索包时很有用。"
    },
    {
      "id": "intro-28",
      "sectionId": "intro",
      "title": "`keywords`",
      "kind": "text",
      "body": "链接类字段\n----"
    },
    {
      "id": "intro-29",
      "sectionId": "intro",
      "title": "`keywords`",
      "kind": "text",
      "body": "各种指向项目文档、issues 上报，以及代码托管网站的链接字段。"
    },
    {
      "id": "intro-30",
      "sectionId": "intro",
      "title": "`homepage`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"homepage\": \"https://your-package.org\"\n}"
    },
    {
      "id": "intro-31",
      "sectionId": "intro",
      "title": "`homepage`",
      "kind": "text",
      "body": "是包的项目主页或者文档首页。"
    },
    {
      "id": "intro-32",
      "sectionId": "intro",
      "title": "`repository`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"repository\": {\n    \"type\": \"git\", \"url\": \"https://github.com/user/repo.git\"\n  },\n  \"repository\": \"github:user/repo\",\n  \"repository\": \"gitlab:user/repo\",\n  \"repository\": \"bitbucket:user/repo\",\n  \"repository\": \"gist:a1b2c3d4e5f\"\n}"
    },
    {
      "id": "intro-33",
      "sectionId": "intro",
      "title": "`repository`",
      "kind": "text",
      "body": "包的实际代码所在的位置。"
    },
    {
      "id": "intro-34",
      "sectionId": "intro",
      "title": "`bugs`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"bugs\": \"https://github.com/user/repo/issues\"\n}"
    },
    {
      "id": "intro-35",
      "sectionId": "intro",
      "title": "`bugs`",
      "kind": "text",
      "body": "问题反馈系统的 URL，或者是 email 地址之类的链接。用户通过该途径向你反馈问题。"
    },
    {
      "id": "intro-36",
      "sectionId": "intro",
      "title": "`bugs`",
      "kind": "text",
      "body": "项目维护类字段\n----"
    },
    {
      "id": "intro-37",
      "sectionId": "intro",
      "title": "`author`",
      "kind": "text",
      "body": "项目的维护者。"
    },
    {
      "id": "intro-38",
      "sectionId": "intro",
      "title": "`author`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"author\": {\n    \"name\": \"Your Name\",\n    \"email\": \"you@xxx.com\",\n    \"url\": \"http://your-x.com\"\n  },\n  \"author\": \"Your Name <you@xxx.com> (http://your-x.com)\"\n}"
    },
    {
      "id": "intro-39",
      "sectionId": "intro",
      "title": "`author`",
      "kind": "text",
      "body": "作者信息，一个人。"
    },
    {
      "id": "intro-40",
      "sectionId": "intro",
      "title": "`contributors`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"contributors\": [\n    { \"name\": \"Your Friend\", \"email\": \"friend@xxx.com\", \"url\": \"http://friends-xx.com\" }\n    { \"name\": \"Other Friend\", \"email\": \"other@xxx.com\", \"url\": \"http://other-xx.com\" }\n  ],\n  \"contributors\": [\n    \"Your Friend <friend@xxx.com> (http://friends-xx.com)\",\n    \"Other Friend <other@xxx.com> (http://other-xx.com)\"\n  ]\n}"
    },
    {
      "id": "intro-41",
      "sectionId": "intro",
      "title": "`contributors`",
      "kind": "text",
      "body": "贡献者信息，可能很多人。"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "文件类信息",
      "kind": "text",
      "body": "指定包含在项目中的文件，以及项目的入口文件。"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "`files`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"files\": [\n    \"filename.js\",\n    \"directory/\",\n    \"glob/*.{js,json}\"\n  ]\n}"
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "`files`",
      "kind": "text",
      "body": "项目包含的文件，可以是单独的文件、整个文件夹，或者通配符匹配到的文件。"
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "`main`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"main\": \"filename.js\"\n}"
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "`main`",
      "kind": "text",
      "body": "项目的入口文件。"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "`man`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"man\": \"./man/doc.1\",\n  \"man\": [\"./man/doc.1\", \"./man/doc.2\"]\n}"
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "`man`",
      "kind": "text",
      "body": "项目的入口文件。"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "`directories`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"directories\": {\n    \"lib\": \"path/to/lib/\",\n    \"bin\": \"path/to/bin/\",\n    \"man\": \"path/to/man/\",\n    \"doc\": \"path/to/doc/\",\n    \"example\": \"path/to/example/\"\n  }\n}"
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "`directories`",
      "kind": "text",
      "body": "当你的包安装时，你可以指定确切的位置来放二进制文件、man pages、文档、例子等。"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "`bin`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"bin\": \"bin.js\",\n  \"bin\": {\n    \"命令名称\": \"bin/命令路径/命令名称.js\",\n    \"other-command\": \"bin/other-command\"\n  }\n}"
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "`bin`",
      "kind": "text",
      "body": "随着项目一起被安装的可执行文件。"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "`types`",
      "kind": "text",
      "body": "这是一个只在 [TypeScript](https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html) 中生效的字段，如果您的包有一个 `main.js` 文件，您还需要在  `package.json` 文件中指明主声明文件。 将 `types` 属性设置为指向 `bundled` 的声明文件。 例如："
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "`types`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"types\": \"./lib/main.d.ts\",\n}"
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "`types`",
      "kind": "text",
      "body": "如果您的主声明文件名为 `index.d.ts` 并且位于包的根目录（`index.js`旁边），则不需要标记 `types` 属性，建议这样做。"
    },
    {
      "id": "s2-56",
      "sectionId": "s2",
      "title": "`esnext`",
      "kind": "text",
      "body": "完整的[提案在这里](http://2ality.com/2017/04/transpiling-dependencies-babel.html)。 简短说明："
    },
    {
      "id": "s2-57",
      "sectionId": "s2",
      "title": "`esnext`",
      "kind": "text",
      "body": "• `esnext`：ES模块中使用阶段4功能（或更旧版本）的源代码，未编译。\n• `main`：指向一个CommonJS模块（或UMD模块），其 `JavaScript` 与 `Node.js` 当前可以处理的一样现代。\n• 大多数 `module` 用例应该可以通过 `esnext` 处理。\n• `browser` 可以通过 `esnext` 的扩展版本来处理"
    },
    {
      "id": "s2-58",
      "sectionId": "s2",
      "title": "`esnext`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"main\": \"main.js\",\n  \"esnext\": {\n    \"main\": \"main-esnext.js\",\n    \"browser\": \"browser-specific-main-esnext.js\"\n  }\n}"
    },
    {
      "id": "s2-59",
      "sectionId": "s2",
      "title": "`esnext`",
      "kind": "text",
      "body": "另请参阅：[通过 npm 交付未编译的源代码](http://2ality.com/2017/06/pkg-esnext.html)"
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "`module`",
      "kind": "text",
      "body": "`pkg.module` 将指向具有 `ES2015` 模块语法的模块，但仅指向目标环境支持的语法功能。 完整的描述[在这里](https://github.com/rollup/rollup/wiki/pkg.module)。"
    },
    {
      "id": "s2-61",
      "sectionId": "s2",
      "title": "`module`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"module\": \"dist/my-package.esm.js\"\n}"
    },
    {
      "id": "s2-62",
      "sectionId": "s2",
      "title": "`module`",
      "kind": "text",
      "body": "支持：[rollup](https://github.com/rollup/rollup-plugin-node-resolve), [webpack](https://webpack.js.org/configuration/resolve/#resolve-mainfields)"
    },
    {
      "id": "s2-63",
      "sectionId": "s2",
      "title": "`browser`",
      "kind": "code",
      "lang": "json",
      "code": "\"browser\": {\n    \"module-a\": \"./shims/module-a.js\",\n    \"./server/only.js\": \"./shims/client-only.js\"\n}"
    },
    {
      "id": "s2-64",
      "sectionId": "s2",
      "title": "`browser`",
      "kind": "text",
      "body": "字段由模块作者提供，作为 `JavaScript` 包或组件工具的提示，用于打包模块以供客户端使用。 提案就[在这里](https://github.com/defunctzombie/package-browser-field-spec)。"
    },
    {
      "id": "s2-65",
      "sectionId": "s2",
      "title": "exports 导出",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"name\": \"mod\",\n  \"exports\":{\n    \".\": \"./lib/index.js\",\n    \"./lib/*\": \"./lib/*.js\"\n  }\n}"
    },
    {
      "id": "s2-66",
      "sectionId": "s2",
      "title": "exports 导出",
      "kind": "text",
      "body": "使用最新的 `exports` 字段导出，可规避 `main` 字段局限性 [具体参考](https://nodejs.org/api/packages.html)"
    },
    {
      "id": "s2-67",
      "sectionId": "s2",
      "title": "exports 导出子路径中的模块",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"name\": \"mod\",\n  \"exports\": {\n    \".\": \"./index.js\",\n    \"./sub\": \"./src/sub.js\"\n  }\n}"
    },
    {
      "id": "s2-68",
      "sectionId": "s2",
      "title": "exports 导出子路径中的模块",
      "kind": "text",
      "body": "导入"
    },
    {
      "id": "s2-69",
      "sectionId": "s2",
      "title": "exports 导出子路径中的模块",
      "kind": "code",
      "lang": "js",
      "code": "import sub from \"mod/sub\""
    },
    {
      "id": "s2-70",
      "sectionId": "s2",
      "title": "exports 简写 (`.` 唯一的导出)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"exports\": {\n    \".\": \"./dist/index.js\"\n  }\n}"
    },
    {
      "id": "s2-71",
      "sectionId": "s2",
      "title": "exports 简写 (`.` 唯一的导出)",
      "kind": "text",
      "body": "简写"
    },
    {
      "id": "s2-72",
      "sectionId": "s2",
      "title": "exports 简写 (`.` 唯一的导出)",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"exports\": \"./dist/index.js\"\n}"
    },
    {
      "id": "s2-73",
      "sectionId": "s2",
      "title": "条件导出(exports)",
      "kind": "text",
      "body": ":- | -\n:- | -\n`export` | 通过 `import` 或 `import()` 或 `es` 模块加载的任何顶层导入或解析操作加载时，匹配。\n`require` | 当包通过 `require()` 加载时匹配。预期的格式包括 CommonJS、JSON 和本地插件。\n`node` | 匹配任何 `Node.js` 环境。可以是 `cjs` 或 `es` 模块文件。必须在 `import` 或 `require` 之后。\n`default` | 默认的降级条件。可以是一个 `cjs` 或 `es` 模块文件。这个条件应该总是排在最后。"
    },
    {
      "id": "s2-74",
      "sectionId": "s2",
      "title": "条件导出(exports)",
      "kind": "code",
      "lang": "js",
      "code": "{\n  \"exports\": {\n    \".\": {\n      \"import\":\"./dist/index.mjs\",\n      \"require\":\"./dist/index.cjs\",  // 当包通过 `require()` 加载时匹配\n      \"node\": \"./dist/ployfill.js\",  // 匹配任何 `Node.js` 环境\n      \"default\": \"./dist/default.js\" // 默认的降级条件\n    }\n  }\n}"
    },
    {
      "id": "s2-75",
      "sectionId": "s2",
      "title": "条件导出(exports)",
      "kind": "text",
      "body": "<red>注意：</red>由于 `require` 和 `import` 互斥，所以 `require` 不能加载 `es` 的模块，`export` 不能加载 `cjs` 模块"
    },
    {
      "id": "s2-76",
      "sectionId": "s2",
      "title": "`main` Vs `exports`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"main\": \"./index.js\",\n  \"exports\": \"./index.js\"\n}"
    },
    {
      "id": "s2-77",
      "sectionId": "s2",
      "title": "`main` Vs `exports`",
      "kind": "text",
      "body": "如果同时出现 <red>~~`main`~~</red> 和 `exports` 字段，只会读取 `exports` 字段"
    },
    {
      "id": "s3-78",
      "sectionId": "s3",
      "title": "任务类字段",
      "kind": "text",
      "body": "包里还可以包含一些可执行脚本或者其他配置信息。"
    },
    {
      "id": "s3-79",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "脚本是定义自动化开发相关任务的好方法，比如使用一些简单的构建过程或开发工具。 在 `scripts` 字段里定义的脚本，可以通过 `yarn run <script>` 命令来执行。 例如，下面 `build-project` 脚本可以通过 `yarn run build-project` 调用，并执行 `node build-project.js`。"
    },
    {
      "id": "s3-80",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"scripts\": {\n    \"build-project\": \"node build-project.js\"\n  }\n}"
    },
    {
      "id": "s3-81",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "有一些特殊的脚本名称。 如果定义了 `preinstall` 脚本，它会在包安装前被调用。 出于兼容性考虑，`install`、`postinstall` 和 `prepublish` 脚本会在包完成安装后被调用。"
    },
    {
      "id": "s3-82",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "----"
    },
    {
      "id": "s3-83",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "`start` 脚本的默认值为 `node server.js`。"
    },
    {
      "id": "s3-84",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "----"
    },
    {
      "id": "s3-85",
      "sectionId": "s3",
      "title": "`scripts`",
      "kind": "text",
      "body": "参考文档：[npm docs](https://docs.npmjs.com/files/package.json#default-values)"
    },
    {
      "id": "s3-86",
      "sectionId": "s3",
      "title": "特定的 `scripts`",
      "kind": "text",
      "body": "对于以下脚本，`npm` 支持 `package.json` 文件的 `scripts` 默认命令字段："
    },
    {
      "id": "s3-87",
      "sectionId": "s3",
      "title": "特定的 `scripts`",
      "kind": "text",
      "body": "• `prepublish`: 在打包并发布包之前运行，以及在没有任何参数的本地 `npm` 安装之前运行\n• `prepare`: 在打包和发布包之前运行，在没有任何参数的本地 `npm install` 上运行，以及安装 git 依赖项时。 这是在 `preublish` 之后运行，但是在 `preublishOnly` 之前运行\n• `prepublishOnly`: 在包准备和打包之前运行，仅限于npm发布\n• `prepack`: 在打包 `tarball` 之前运行（在 `npm pack`，`npm publish`，以及安装 git 依赖项时）\n• `postpack`: 在生成 `tarball` 之后运行并移动到其最终目标\n• `publish`, `postpublish`: 在包发布后运行\n• `preinstall`: 在安装软件包之前运行\n• `install`, `postinstall`: 安装包后运行\n• `preuninstall`, `uninstall`: 在卸载软件包之前运行\n• `postuninstall`: 在卸载软件包之后运行\n• `preversion`: 在改变包版本之前运行\n• `version`: 改变包版本后运行，但提交之前\n• `postversion`: 改变包版本后运行，然后提交\n• `pretest`, `test`, `posttest`: 由 `npm test` 命令运行\n• `prestop`, `stop`, `poststop`: 由 `npm stop` 命令运行\n• `prestart`, `start`, `poststart`: 由 `npm start` 命令运行\n• `prerestart`, `restart`, `postrestart`: 由 `npm restart` 命令运行。 注意：如果没有提供重启脚本，`npm restart` 将运行 `stop` 和`start` 脚本\n• `preshrinkwrap`, `shrinkwrap`, `postshrinkwrap`: 由 `npm shrinkwrap` 命令运行"
    },
    {
      "id": "s3-88",
      "sectionId": "s3",
      "title": "特定的 `scripts`",
      "kind": "text",
      "body": "参考文档：[npm docs](https://docs.npmjs.com/misc/scripts)."
    },
    {
      "id": "s3-89",
      "sectionId": "s3",
      "title": "`config`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"config\": {\n    \"port\": \"8080\"\n  }\n}"
    },
    {
      "id": "s3-90",
      "sectionId": "s3",
      "title": "`config`",
      "kind": "text",
      "body": "配置你的脚本的选项或参数。"
    },
    {
      "id": "s3-91",
      "sectionId": "s3",
      "title": "`config`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"scripts\": {\n    \"run\": \"echo $npm_package_config_port\"\n  }\n}"
    },
    {
      "id": "s3-92",
      "sectionId": "s3",
      "title": "`config`",
      "kind": "text",
      "body": "配置中的键作为环境变量公开给脚本(scripts)。"
    },
    {
      "id": "s4-93",
      "sectionId": "s4",
      "title": "依赖描述类字段",
      "kind": "text",
      "body": "你的包很可能依赖其他包。你可以在你的 `package.json` 文件里指定那些依赖。"
    },
    {
      "id": "s4-94",
      "sectionId": "s4",
      "title": "`dependencies`",
      "kind": "text",
      "body": "这些是你的包的开发版和发布版都需要的依赖。"
    },
    {
      "id": "s4-95",
      "sectionId": "s4",
      "title": "`dependencies`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"dependencies\": {\n    \"colors\":   \"*\",\n    \"foo\": \"1.0.0 - 2.9999.9999\",\n    \"bar\": \">=1.0.2 <2.1.2\",\n    \"baz\": \">1.0.2 <=2.3.4\",\n    \"boo\": \"2.0.1\",\n    \"qux\": \"<1.0.0 || >=2.3.1 <2.4.5 || >=2.5.2 <3.0.0\",\n    \"asd\": \"http://asdf.com/asdf.tar.gz\",\n    \"til\": \"~1.2\",\n    \"elf\": \"~1.2.3\",\n    \"two\": \"2.x\",\n    \"thr\": \"3.3.x\",\n    \"lat\": \"latest\",\n    \"dyl\": \"file:./path/to/dyl\",\n    \"pla\": \"https://github.com/user/project/tarball/branch\",\n    \"stu\": \"git://github.com/user/project.git#commit-ish\"\n  }\n}"
    },
    {
      "id": "s4-96",
      "sectionId": "s4",
      "title": "`dependencies`",
      "kind": "text",
      "body": "你可以指定一个确切的版本、一个最小的版本 (比如 `>=`) 或者一个版本范围 (比如 `>= ... <`)。 包也可以指向本地的一个目录文件夹。\n参考文档：[npm docs](https://docs.npmjs.com/cli/v8/configuring-npm/package-json#dependencies)."
    },
    {
      "id": "s4-97",
      "sectionId": "s4",
      "title": "workspaces",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"name\": \"my-workspaces-powered-project\",\n  \"workspaces\": [\n    \"./pkg/*\",\n    \"packages/a\",\n    \"packages/b\"\n  ]\n}"
    },
    {
      "id": "s4-98",
      "sectionId": "s4",
      "title": "workspaces",
      "kind": "text",
      "body": "支持从单个顶级根包中管理本地文件系统中的多个包。"
    },
    {
      "id": "s4-99",
      "sectionId": "s4",
      "title": "workspaces",
      "kind": "code",
      "lang": "shell",
      "code": "├┈┈ node_modules\n┆  ├┈┈ a -> ../packages/a\n┆  ╰┈┈ b -> ../packages/b\n├┈┈ package-lock.json\n├┈┈ package.json\n╰┈┈ packages\n   ├┈┈ a\n   ┆   ╰┈┈ package.json\n   ├┈┈ b\n   ┆   ╰┈┈ package.json"
    },
    {
      "id": "s4-100",
      "sectionId": "s4",
      "title": "workspaces",
      "kind": "text",
      "body": "参考文档：[workspaces](https://docs.npmjs.com/cli/v8/using-npm/workspaces)"
    },
    {
      "id": "s4-101",
      "sectionId": "s4",
      "title": "`devDependencies`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"devDependencies\": {\n    \"package-2\": \"^0.4.2\"\n  }\n}"
    },
    {
      "id": "s4-102",
      "sectionId": "s4",
      "title": "`devDependencies`",
      "kind": "text",
      "body": "这些是只在你的包开发期间需要，但是生产环境不会被安装的包。"
    },
    {
      "id": "s4-103",
      "sectionId": "s4",
      "title": "`overrides`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"overrides\": {\n    \"foo\": \"1.0.0\"\n  }\n}"
    },
    {
      "id": "s4-104",
      "sectionId": "s4",
      "title": "`overrides`",
      "kind": "text",
      "body": "对依赖项的依赖项进行特定更改，例如用已知的安全问题替换依赖项的版本"
    },
    {
      "id": "s4-105",
      "sectionId": "s4",
      "title": "`peerDependencies`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"peerDependencies\": {\n    \"package-3\": \"^2.7.18\"\n  }\n}"
    },
    {
      "id": "s4-106",
      "sectionId": "s4",
      "title": "`peerDependencies`",
      "kind": "text",
      "body": "平行依赖允许你说明你的包和其他包版本的兼容性。添加可选设置以消除丢失的对等依赖性警告，[#6671](https://github.com/yarnpkg/yarn/pull/6671) 。"
    },
    {
      "id": "s4-107",
      "sectionId": "s4",
      "title": "`optionalDependencies`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"optionalDependencies\": {\n    \"package-5\": \"^1.6.1\"\n  }\n}"
    },
    {
      "id": "s4-108",
      "sectionId": "s4",
      "title": "`optionalDependencies`",
      "kind": "text",
      "body": "可选依赖可以用于你的包，但不是必需的。如果可选包没有找到，安装还可以继续。"
    },
    {
      "id": "s4-109",
      "sectionId": "s4",
      "title": "`bundledDependencies`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"bundledDependencies\": [\n    \"package-4\"\n  ]\n}"
    },
    {
      "id": "s4-110",
      "sectionId": "s4",
      "title": "`bundledDependencies`",
      "kind": "text",
      "body": "打包依赖是发布你的包时将会一起打包的一个包名数组。"
    },
    {
      "id": "s4-111",
      "sectionId": "s4",
      "title": "`peerDependenciesMeta`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"peerDependenciesMeta\": {\n    \"node-sass\": {\n      \"optional\": true\n    },\n    \"sass\": {\n      \"optional\": true\n    },\n    \"fibers\": {\n      \"optional\": true\n    }\n  }\n}"
    },
    {
      "id": "s4-112",
      "sectionId": "s4",
      "title": "`peerDependenciesMeta`",
      "kind": "text",
      "body": "它允许对等依赖项标记为可选"
    },
    {
      "id": "s4-113",
      "sectionId": "s4",
      "title": "`peerDependenciesMeta`",
      "kind": "text",
      "body": "系统\n----"
    },
    {
      "id": "s4-114",
      "sectionId": "s4",
      "title": "`peerDependenciesMeta`",
      "kind": "text",
      "body": "你可以提供和你的包关联的系统级的信息，比如操作系统兼容性之类。"
    },
    {
      "id": "s4-115",
      "sectionId": "s4",
      "title": "`engines`",
      "kind": "text",
      "body": "指定使用你的包客户必须使用的版本，这将检查 `process.versions` 以及当前 `yarn` 版本。"
    },
    {
      "id": "s4-116",
      "sectionId": "s4",
      "title": "`engines`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"engines\": {\n    \"node\": \"^10.13.0 || ^12.13.0 || ^14.15.0 || >=15.0.0\",\n    \"node\": \">=4.4.7 <7.0.0\",\n    \"zlib\": \"^1.2.8\",\n    \"yarn\": \"^0.14.0\"\n  }\n}"
    },
    {
      "id": "s4-117",
      "sectionId": "s4",
      "title": "`engines`",
      "kind": "text",
      "body": "此检查遵守正常的 [semver](http://semver.org/lang/zh-CN/) 规则，但有一个例外。 它允许预发布版本匹配未明确指定预发布的 [semver](http://semver.org/lang/zh-CN/)。 例如，`1.4.0-rc.0` 匹配 `>=1.3.0`，但它与典型的 `semver` 检查不匹配。"
    },
    {
      "id": "s4-118",
      "sectionId": "s4",
      "title": "`os`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"os\": [\"darwin\", \"linux\"],\n  \"os\": [\"!win32\"]\n}"
    },
    {
      "id": "s4-119",
      "sectionId": "s4",
      "title": "`os`",
      "kind": "text",
      "body": "此选项指定你的包的操作系统兼容性，它会检查 `process.platform`。"
    },
    {
      "id": "s4-120",
      "sectionId": "s4",
      "title": "`cpu`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"cpu\": [\"x64\", \"ia32\"],\n  \"cpu\": [\"!arm\", \"!mips\"]\n}"
    },
    {
      "id": "s4-121",
      "sectionId": "s4",
      "title": "`cpu`",
      "kind": "text",
      "body": "使用这个选项指定你的包将只能在某些 CPU 体系架构上运行，这会检查 `process.arch`。"
    },
    {
      "id": "s4-122",
      "sectionId": "s4",
      "title": "`cpu`",
      "kind": "text",
      "body": "发布\n----"
    },
    {
      "id": "s4-123",
      "sectionId": "s4",
      "title": "`private`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"private\": true\n}"
    },
    {
      "id": "s4-124",
      "sectionId": "s4",
      "title": "`private`",
      "kind": "text",
      "body": "如果你不想你的包发布到包管理器(npm 或者 私有包管理)，设置为 `true`。"
    },
    {
      "id": "s4-125",
      "sectionId": "s4",
      "title": "`publishConfig`",
      "kind": "text",
      "body": "这些配置值将在你的包发布时使用。比如，你可以给包打标签。"
    },
    {
      "id": "s4-126",
      "sectionId": "s4",
      "title": "`publishConfig`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"publishConfig\": {\n    \"registry\": \"https://registry.npm.taobao.org\"\n  }\n}"
    },
    {
      "id": "s4-127",
      "sectionId": "s4",
      "title": "`publishConfig`",
      "kind": "text",
      "body": "这是一组将在发布时使用的配置值。 如果要设置标记，注册表或访问权限，则特别方便，以便确保给定的包未标记为 `latest`，发布到全局公共 `registry` 或默认情况下，作用域模块(@scoped)是私有的。"
    },
    {
      "id": "s4-128",
      "sectionId": "s4",
      "title": "`publishConfig`",
      "kind": "text",
      "body": "可以覆盖任何配置值，但只有 `tag`，`registry` 和 `access` 可能对于发布而言很重要，[npm-config](https://docs.npmjs.com/misc/config#config-settings)。"
    },
    {
      "id": "s4-129",
      "sectionId": "s4",
      "title": "`publishConfig`",
      "kind": "text",
      "body": "Yarn\n----"
    },
    {
      "id": "s4-130",
      "sectionId": "s4",
      "title": "`flat`",
      "kind": "text",
      "body": "如果你的包只允许给定依赖的一个版本，你想强制和命令行上 [yarn install --flat](#) 相同的行为，把这个值设为 `true`。"
    },
    {
      "id": "s4-131",
      "sectionId": "s4",
      "title": "`flat`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"flat\": true\n}"
    },
    {
      "id": "s4-132",
      "sectionId": "s4",
      "title": "`flat`",
      "kind": "text",
      "body": "请注意，如果你的 `package.json` 包含 `\"flat\": true` 并且其它包依赖你的包 (比如你在构建一个库，而不是应用)， 其它那些包也需要在它们的 `package.json` 加上 `\"flat\": true`，或者在命令行上用 `yarn install --flat` 安装。"
    },
    {
      "id": "s4-133",
      "sectionId": "s4",
      "title": "`resolutions`",
      "kind": "code",
      "lang": "json",
      "code": "{\n  \"resolutions\": {\n    \"transitive-package-1\": \"0.0.29\",\n    \"transitive-package-2\": \"file:./local-forks/transitive-package-2\",\n    \"dependencies-package-1/transitive-package-3\": \"^2.1.1\"\n  }\n}"
    },
    {
      "id": "s4-134",
      "sectionId": "s4",
      "title": "`resolutions`",
      "kind": "text",
      "body": "允许您覆盖特定嵌套依赖项的版本。 有关完整规范，请参见[选择性版本解析 RFC](https://github.com/yarnpkg/rfcs/blob/master/implemented/0000-selective-versions-resolutions.md)。"
    },
    {
      "id": "s4-135",
      "sectionId": "s4",
      "title": "`resolutions`",
      "kind": "text",
      "body": "注意，`yarn install --flat` 命令将会自动在 `package.json` 文件里加入 `resolutions` 字段。"
    },
    {
      "id": "s4-136",
      "sectionId": "s4",
      "title": "`resolutions`",
      "kind": "text",
      "body": "另见\n----"
    },
    {
      "id": "s4-137",
      "sectionId": "s4",
      "title": "`resolutions`",
      "kind": "text",
      "body": "• [PACKAGE.JSON 中文说明](https://jaywcjlove.github.io/package.json) _(github.io)_\n• [npm 文档](https://docs.npmjs.com/files/package.json) _(npmjs.com)_\n• [yarnpkg 文档](https://classic.yarnpkg.com/en/docs/package-json) _(yarnpkg.com)_\n• [packages 文档](https://nodejs.org/api/packages.html) _(nodejs.org)_\n• [npm 备忘清单(速查表)](./npm.md) _(jaywcjlove.github.io)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/package.json.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/package.json.md",
    "generatedAt": "2025-12-16T07:36:11.358Z",
    "lang": "zh",
    "mode": "local"
  }
}