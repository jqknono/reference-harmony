{
  "id": "sqlite",
  "name": "SQLite 备忘清单",
  "title": "本备忘单旨在快速理解 [SQLite](https://sqlite.com/) 所涉及的主要概念，提供了最常用的SQL语句，供您参考。",
  "icon": "reference/icons/zh/sqlite.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "数据库操作",
      "startIndex": 8
    },
    {
      "id": "s3",
      "title": "数据表操作",
      "startIndex": 19
    },
    {
      "id": "s4",
      "title": "另见",
      "startIndex": 29
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "本备忘单旨在快速理解 [SQLite](https://sqlite.com/) 所涉及的主要概念，提供了最常用的SQL语句，供您参考。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "介绍",
      "body": "SQLite 是一个轻量级的嵌入式关系数据库管理系统，遵循 ACID 原则，广泛用于浏览器、操作系统等应用中，实现本地数据存储。"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "安装 - windows",
      "body": "• 从 [SQLite](https://www.sqlite.org/download.html) 下载两个压缩文件：`sqlite-tools-win32-*.zip`、`sqlite-dll-win32-*.zip`\n• 创建文件夹 `C:\\sqlite`，将这两个压缩文件解压到该文件夹下。\n• 解压后，您将看到 3 个文件： `sqlite3.def`、 `sqlite3.dll`、 `sqlite3.exe`\n• 将 C:\\sqlite 添加到 PATH 环境变量中，以便在命令行中使用 SQLite。"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "linux",
      "body": "linux 自带 `sqlite3`，或者通过 `apt-get/yum/brew` 等安装。"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "macOS",
      "body": "`brew install sqlite` 安装"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "连接 SQLite 数据库",
      "body": "SQLite 通常无需复杂配置，当指定的数据库文件不存在时，它会自动创建一个新文件。\n\n```bash\nsqlite3 mydatabase.db\n```\n\n若数据库文件不存在则会自动创建"
    },
    {
      "id": "s2-8",
      "sectionId": "s2",
      "title": "显示数据库名称及对应文件",
      "body": "```shell\nsqlite> .databases\nmain: /home/user/sqlite/database.db r/w\n```"
    },
    {
      "id": "s2-9",
      "sectionId": "s2",
      "title": "备份数据库",
      "body": "```shell\nsqlite> .backup back\n```"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "%E6%98%BE%E7%A4%BA%E5%B7%B2%E7%BB%8F%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%80%BC",
      "body": "%60%60%60shell%0Asqlite%3E%20.show%20%0A%20%20%20%20%20%20%20%20echo%3A%20off%0A%20%20%20%20%20%20%20%20%20eqp%3A%20off%0A%20%20%20%20%20explain%3A%20auto%0A%20%20%20%20%20headers%3A%20off%0A%20%20%20%20%20%20%20%20mode%3A%20list%0A%20%20%20nullvalue%3A%20%22%22%0A%20%20%20%20%20%20output%3A%20stdout%0Acolseparator%3A%20%22%7C%22%0Arowseparator%3A%20%22%5Cn%22%0A%20%20%20%20%20%20%20stats%3A%20off%0A%20%20%20%20%20%20%20width%3A%0A%20%20%20%20filename%3A%20api.db%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "备份单张表",
      "body": "```shell\nsqlite> .dump user\n```"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "退出",
      "body": "```shell\nsqlite> .exit\n```"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "%E4%BB%A5%20sql%20%E7%9A%84%E5%BD%A2%E5%BC%8F%20dump%20%E6%95%B0%E6%8D%AE%E5%BA%93",
      "body": "%60%60%60shell%0Asqlite%3E%20.dump%0APRAGMA%20foreign_keys%3DOFF%3B%0ABEGIN%20TRANSACTION%3B%0ACREATE%20TABLE%20api%20(%0A%20%20%20%20id%20INTEGER%20PRIMARY%20KEY%20AUTOINCREMENT%2C%0A%20%20%20%20host%20TEXT%20NOT%20NULL%2C%0A%20%20%20%20port%20INTEGER%20NOT%20NULL%2C%0A%20%20%20%20path%20TEXT%20NOT%20NULL%0A)%3B%0AINSERT%20INTO%20api%20VALUES(1%2C'example.com'%2C8080%2C'%2Fapi%2Fv1')%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "导入与导出数据库 - 导出数据库",
      "body": "```bash\nsqlite3 mydatabase.db .dump > backup.sql\n```"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "导入数据库",
      "body": "```bash\nsqlite3 mydatabase.db < backup.sql\n```"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "输出模式设置 - 设置输出模式为 csv",
      "body": "```sh\nsqlite> .mode csv\nsqlite> select * from api;\nid,host,port,path\n1,example.com,8080,/api/v1\n```"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "输出为 markdown",
      "body": "```sh\nsqlite> select * from api;\n| id |      host       | port |  path   |\n|----|-----------------|------|---------|\n| 1  | example.com     | 8080 | /api/v1 |\n```\n\n支持 ascii box column csv html insert json line list markdown qbox quote table tabs tcl 等类型"
    },
    {
      "id": "s3-19",
      "sectionId": "s3",
      "title": "常用表操作 - 创建表",
      "body": "```sh\nsqlite> create table user(id integer primary key, name text);\n```"
    },
    {
      "id": "s3-20",
      "sectionId": "s3",
      "title": "查看所有表",
      "body": "```sh\nsqlite> .tables\n```"
    },
    {
      "id": "s3-21",
      "sectionId": "s3",
      "title": "查看表结构",
      "body": "```sh\nsqlite> .schema user\n```"
    },
    {
      "id": "s3-22",
      "sectionId": "s3",
      "title": "导入文件到表中",
      "body": "```sh\nsqlite> .import user.csv user\n```"
    },
    {
      "id": "s3-23",
      "sectionId": "s3",
      "title": "设置查询显示列名称",
      "body": "```sh\nsqlite> .head on\n```"
    },
    {
      "id": "s3-24",
      "sectionId": "s3",
      "title": "%E5%B8%B8%E7%94%A8%20SQL",
      "body": "%60%60%60sql%0A--%20%E5%88%9B%E5%BB%BA%E8%A1%A8%0Acreate%20table%20user(id%20integer%20primary%20key%2C%20name%20text)%3B%0A%0A--%20%E5%88%A0%E9%99%A4%E8%A1%A8%0Adrop%20table%20user%3B%0A%0A--%20%E9%87%8D%E5%91%BD%E5%90%8D%E8%A1%A8%0Aalter%20table%20user%20rename%20to%20user_new%3B%0A%0A--%20%E6%8F%92%E5%85%A5%0A--%20%E5%8D%95%E6%9D%A1%0Ainsert%20into%20user(name)%20values('test')%3B%0A--%20%E5%A4%9A%E6%9D%A1%0Ainsert%20into%20user(name)%20values('test1')%2C('test2')%3B%0A%0A--%20%E6%9F%A5%E8%AF%A2%0Aselect%20*%20from%20user%3B%0A--%20%E5%8E%BB%E9%87%8D%E6%9F%A5%E8%AF%A2%0Aselect%20distinct%20name%20from%20user%3B%0A--%20%E7%BB%9F%E8%AE%A1%0Aselect%20count(id)%20from%20user%3B%0A--%20limit%0Aselect%20*%20from%20user%20limit%202%3B%0A--%20%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%0Aselect%20*%20from%20user%20where%20id%20%3E%201%3B%0A--%20%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%0Aselect%20*%20from%20user%20where%20name%20like%20'%25test%25'%3B%0A--%20group%20by%0Aselect%20name%2C%20count(id)%20from%20user%20group%20by%20name%3B%0A--%20%E6%8E%92%E5%BA%8F%0Aselect%20*%20from%20user%20order%20by%20id%20desc%3B%0A--%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%0Aselect%20max(id)%20from%20user%3B%0A%0A--%20%E6%9B%B4%E6%96%B0%0Aupdate%20user%20set%20name%3D'test3'%20where%20id%3D1%3B%0A%0A--%20%E5%88%A0%E9%99%A4%0Adelete%20from%20user%20where%20id%3D1%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s3-25",
      "sectionId": "s3",
      "title": "%E4%BA%8B%E5%8A%A1%E6%94%AF%E6%8C%81",
      "body": "**%E4%BA%8B%E5%8A%A1**%E5%85%B7%E6%9C%89%E5%8E%9F%E5%AD%90%E6%80%A7(Atomicity)%E3%80%81%E4%B8%80%E8%87%B4%E6%80%A7(Consistency)%E3%80%81%E9%9A%94%E7%A6%BB%E6%80%A7(Isolation)%E3%80%81%E6%8C%81%E4%B9%85%E6%80%A7(Durability)%E5%9B%9B%E4%B8%AA%E6%A0%87%E5%87%86%E5%B1%9E%E6%80%A7%EF%BC%8C%E7%BC%A9%E5%86%99%E4%B8%BA%20ACID%E3%80%82%0A%0A%60%60%60sql%0A--%20%E5%BC%80%E5%A7%8B%E4%BA%8B%E5%8A%A1%0Abegin%20transaction%3B%0A--%20%E6%93%8D%E4%BD%9C%0Aupdate%20user%20set%20name%3D'test4'%20where%20id%3D1%3B%0A--%20%E5%9B%9E%E6%BB%9A%0Arollback%3B%0A--%20%E6%8F%90%E4%BA%A4%0Acommit%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s3-27",
      "sectionId": "s3",
      "title": "%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B8%AE%E5%8A%A9",
      "body": "%7C%E5%91%BD%E4%BB%A4%7C%E6%8F%8F%E8%BF%B0%7C%0A%7C%3A---%7C%3A---%7C%0A%7C.backup%20%3FDB%3F%20FILE%20%20%20%7C%E5%A4%87%E4%BB%BD%20DB%20%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E9%BB%98%E8%AE%A4%E6%98%AF%20%22main%22%EF%BC%89%E5%88%B0%20FILE%20%E6%96%87%E4%BB%B6%E3%80%82%7C%0A%7C.bail%20ON%5C%7COFF%20%20%20%20%20%20%20%7C%E5%8F%91%E7%94%9F%E9%94%99%E8%AF%AF%E5%90%8E%E5%81%9C%E6%AD%A2%E3%80%82%E9%BB%98%E8%AE%A4%E4%B8%BA%20OFF%E3%80%82%7C%0A%7C.databases%20%20%20%20%20%20%20%20%20%20%20%7C%E5%88%97%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%90%8D%E7%A7%B0%E5%8F%8A%E5%85%B6%E6%89%80%E4%BE%9D%E9%99%84%E7%9A%84%E6%96%87%E4%BB%B6%E3%80%82%0A%7C.dump%20%3FTABLE%3F%20%20%20%20%20%20%20%7C%E4%BB%A5%20SQL%20%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F%E8%BD%AC%E5%82%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%82%E5%A6%82%E6%9E%9C%E6%8C%87%E5%AE%9A%E4%BA%86%20TABLE%20%E8%A1%A8%EF%BC%8C%E5%88%99%E5%8F%AA%E8%BD%AC%E5%82%A8%E5%8C%B9%E9%85%8D%20LIKE%20%E6%A8%A1%E5%BC%8F%E7%9A%84%20TABLE%20%E8%A1%A8%E3%80%82%0A%7C.echo%20ON%5C%7COFF%20%20%20%20%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%20echo%20%E5%91%BD%E4%BB%A4%E3%80%82%0A%7C.exit%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%E9%80%80%E5%87%BA%20SQLite%20%E6%8F%90%E7%A4%BA%E7%AC%A6%E3%80%82%0A%7C.explain%20ON%5C%7COFF%20%20%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%E9%80%82%E5%90%88%E4%BA%8E%20EXPLAIN%20%E7%9A%84%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F%E3%80%82%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%B8%A6%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%99%E4%B8%BA%20EXPLAIN%20on%EF%BC%8C%E5%8D%B3%E5%BC%80%E5%90%AF%20EXPLAIN%E3%80%82%0A%7C.header(s)%20ON%5C%7COFF%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%E5%A4%B4%E9%83%A8%E6%98%BE%E7%A4%BA%E3%80%82%0A%7C.help%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E3%80%82%0A%7C.import%20FILE%20TABLE%20%20%20%7C%E5%AF%BC%E5%85%A5%E6%9D%A5%E8%87%AA%20FILE%20%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%B0%20TABLE%20%E8%A1%A8%E4%B8%AD%E3%80%82%0A%7C.indices%20%3FTABLE%3F%20%20%20%20%20%7C%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E7%B4%A2%E5%BC%95%E7%9A%84%E5%90%8D%E7%A7%B0%E3%80%82%E5%A6%82%E6%9E%9C%E6%8C%87%E5%AE%9A%E4%BA%86%20TABLE%20%E8%A1%A8%EF%BC%8C%E5%88%99%E5%8F%AA%E6%98%BE%E7%A4%BA%E5%8C%B9%E9%85%8D%20LIKE%20%E6%A8%A1%E5%BC%8F%E7%9A%84%20TABLE%20%E8%A1%A8%E7%9A%84%E7%B4%A2%E5%BC%95%E3%80%82%0A%7C.load%20FILE%20%3FENTRY%3F%20%20%20%7C%E5%8A%A0%E8%BD%BD%E4%B8%80%E4%B8%AA%E6%89%A9%E5%B1%95%E5%BA%93%E3%80%82%0A%7C.log%20FILE%5C%7Coff%20%20%20%20%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%E6%97%A5%E5%BF%97%E3%80%82FILE%20%E6%96%87%E4%BB%B6%E5%8F%AF%E4%BB%A5%E6%98%AF%20stderr%EF%BC%88%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%EF%BC%89%2Fstdout%EF%BC%88%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%EF%BC%89%E3%80%82%0A%7C.nullvalue%20STRING%20%20%20%7C%E5%9C%A8%20NULL%20%E5%80%BC%E7%9A%84%E5%9C%B0%E6%96%B9%E8%BE%93%E5%87%BA%20STRING%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%0A%7C.output%20FILENAME%20%20%20%20%20%7C%E5%8F%91%E9%80%81%E8%BE%93%E5%87%BA%E5%88%B0%20FILENAME%20%E6%96%87%E4%BB%B6%E3%80%82%0A%7C.output%20stdout%20%20%20%20%20%20%20%7C%E5%8F%91%E9%80%81%E8%BE%93%E5%87%BA%E5%88%B0%E5%B1%8F%E5%B9%95%E3%80%82%0A%7C.print%20STRING...%20%20%20%20%20%7C%E9%80%90%E5%AD%97%E5%9C%B0%E8%BE%93%E5%87%BA%20STRING%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82%0A%7C.prompt%20MAIN%20CONTINUE%20%20%7C%E6%9B%BF%E6%8D%A2%E6%A0%87%E5%87%86%E6%8F%90%E7%A4%BA%E7%AC%A6%E3%80%82%0A%7C.quit%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%E9%80%80%E5%87%BA%20SQLite%20%E6%8F%90%E7%A4%BA%E7%AC%A6%E3%80%82%0A%7C.read%20FILENAME%20%20%20%20%20%20%20%7C%E6%89%A7%E8%A1%8C%20FILENAME%20%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%20SQL%E3%80%82%0A%7C.schema%20%3FTABLE%3F%20%20%20%20%20%7C%E6%98%BE%E7%A4%BA%20CREATE%20%E8%AF%AD%E5%8F%A5%E3%80%82%E5%A6%82%E6%9E%9C%E6%8C%87%E5%AE%9A%E4%BA%86%20TABLE%20%E8%A1%A8%EF%BC%8C%E5%88%99%E5%8F%AA%E6%98%BE%E7%A4%BA%E5%8C%B9%E9%85%8D%20LIKE%20%E6%A8%A1%E5%BC%8F%E7%9A%84%20TABLE%20%E8%A1%A8%E3%80%82%0A%7C.separator%20STRING%20%20%20%7C%E6%94%B9%E5%8F%98%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F%E5%92%8C%20.import%20%E6%89%80%E4%BD%BF%E7%94%A8%E7%9A%84%E5%88%86%E9%9A%94%E7%AC%A6%E3%80%82%0A%7C.show%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%E6%98%BE%E7%A4%BA%E5%90%84%E7%A7%8D%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%BD%93%E5%89%8D%E5%80%BC%E3%80%82%0A%7C.stats%20ON%5C%7COFF%20%20%20%20%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%E7%BB%9F%E8%AE%A1%E3%80%82%0A%7C.tables%20%3FPATTERN%3F%20%20%20%7C%E5%88%97%E5%87%BA%E5%8C%B9%E9%85%8D%20LIKE%20%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%A1%A8%E7%9A%84%E5%90%8D%E7%A7%B0%E3%80%82%0A%7C.timeout%20MS%20%20%20%20%20%20%20%20%20%7C%E5%B0%9D%E8%AF%95%E6%89%93%E5%BC%80%E9%94%81%E5%AE%9A%E7%9A%84%E8%A1%A8%20MS%20%E6%AF%AB%E7%A7%92%E3%80%82%0A%7C.width%20NUM%20%20%20%20%20%20%20%20%20%20%7CNUM%20%20%E4%B8%BA%20%22column%22%20%E6%A8%A1%E5%BC%8F%E8%AE%BE%E7%BD%AE%E5%88%97%E5%AE%BD%E5%BA%A6%E3%80%82%0A%7C.timer%20ON%5C%7COFF%20%20%20%20%20%20%20%7C%E5%BC%80%E5%90%AF%E6%88%96%E5%85%B3%E9%97%AD%20CPU%20%E5%AE%9A%E6%97%B6%E5%99%A8%E3%80%82%0A%7C.mode%20MODE%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%AE%BE%E7%BD%AE%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F%EF%BC%8CMODE%20%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%8B%E5%88%97%E4%B9%8B%E4%B8%80%20%60%3Acsv%60%20%E9%80%97%E5%8F%B7%E5%88%86%E9%9A%94%E7%9A%84%E5%80%BC%20%5Cncolumn%20%E5%B7%A6%E5%AF%B9%E9%BD%90%E7%9A%84%E5%88%97%20%5Cnhtml%20HTML%20%E7%9A%84%20%5C%3Ctable%5C%3E%20%E4%BB%A3%E7%A0%81%20%5Cninsert%20TABLE%20%E8%A1%A8%E7%9A%84%20SQL%20%E6%8F%92%E5%85%A5%EF%BC%88insert%EF%BC%89%E8%AF%AD%E5%8F%A5%20%5Cnline%20%E6%AF%8F%E8%A1%8C%E4%B8%80%E4%B8%AA%E5%80%BC%20%5Cnlist%20%E7%94%B1%20.separator%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E9%9A%94%E7%9A%84%E5%80%BC%20%5Cntabs%20%E7%94%B1%20Tab%20%E5%88%86%E9%9A%94%E7%9A%84%E5%80%BC%20%5Cn%20tcl%20TCL%20%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%5Cn%0A%0A%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E9%80%9A%E8%BF%87%20%60.help%60%20%E5%91%BD%E4%BB%A4%E6%98%BE%E7%A4%BA%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3",
      "encoded": true
    },
    {
      "id": "s4-29",
      "sectionId": "s4",
      "title": "另见",
      "body": "• [百科](https://zh.wikipedia.org/wiki/SQLite)\n• [SQLite](https://www.sqlite.org/)\n• [菜鸟教程](https://www.runoob.com/sqlite/sqlite-tutorial.html)"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/sqlite.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/sqlite.md",
    "lang": "zh",
    "mode": "local"
  }
}