{
  "id": "ejs",
  "name": "Ejs 备忘清单",
  "title": "[![NPM version](https://img.shields.io/npm/v/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/ejs.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "文档",
      "startIndex": 28
    },
    {
      "id": "s3",
      "title": "客户端支持",
      "startIndex": 34
    },
    {
      "id": "s4",
      "title": "选项",
      "startIndex": 36
    },
    {
      "id": "s5",
      "title": "标签",
      "startIndex": 54
    },
    {
      "id": "s6",
      "title": "Cli",
      "startIndex": 63
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![NPM version](https://img.shields.io/npm/v/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)\n[![Downloads](https://img.shields.io/npm/dm/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/mde/ejs)](https://github.com/mde/ejs/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/mde/ejs)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "EJS（嵌入式 JavaScript）是一种简单的模板语言，可让您使用纯 JavaScript 生成 HTML 标记\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "text",
      "body": "#### 安装"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "code",
      "lang": "shell",
      "code": "$ npm install ejs"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "text",
      "body": "#### hello.ejs"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "code",
      "lang": "ejs",
      "code": "<% if (user.email) { %>\n  <h1><%= user.email %></h1>\n<% } %>"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "text",
      "body": "#### 命令 CLI"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "Hello world",
      "kind": "code",
      "lang": "shell",
      "code": "$ ejs hello.ejs -o hello.html"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "使用数据渲染",
      "kind": "code",
      "lang": "js",
      "code": "let ejs = require('ejs');\n\nlet people = ['geddy', 'neil', 'alex'];\nlet tpl = '<%= people.join(\", \"); %>';\n\nlet html = ejs.render(tpl, {\n  people: people\n});\nconsole.log(html);"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "使用数据渲染",
      "kind": "text",
      "body": "向 `EJS` 传递模板字符串和一些数据"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "浏览器支持",
      "kind": "code",
      "lang": "html",
      "code": "<script src=\"ejs.js\"></script>\n<script>\n  let people = ['geddy', 'neil', 'alex'];\n  let html = ejs.render(\n    '<%= people.join(\", \"); %>',\n    { people: people }\n  );\n</script>"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "浏览器支持",
      "kind": "text",
      "body": "在脚本标签中使用 `ejs`"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "变量",
      "kind": "qa",
      "front": "`<%= var %>`",
      "back": "打印变量的值"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "变量",
      "kind": "qa",
      "front": "`<%- var %>`",
      "back": "打印时不进行 HTML 转义"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "CLI",
      "kind": "text",
      "body": "渲染并指定输出文件"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "CLI",
      "kind": "code",
      "lang": "shell",
      "code": "$ ejs hello.ejs -o hello.html"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "CLI",
      "kind": "text",
      "body": "为其提供模板文件和数据文件"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "CLI",
      "kind": "code",
      "lang": "shell",
      "code": "$ ejs hello.ejs -f data.json -o hello.html"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "注释",
      "kind": "code",
      "lang": "ejs",
      "code": "<%# 该行将表示一条注释 %>"
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "注释",
      "kind": "text",
      "body": "--------"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "注释",
      "kind": "code",
      "lang": "ejs",
      "code": "<%# 这是一个多行 EJS 注释。\n    它可以跨越多行，\n    但不会显示\n    在最终的 HTML 输出中。\n%>"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "方法",
      "kind": "code",
      "lang": "js",
      "code": "let ejs = require('ejs');\nlet template = ejs.compile(str, options);\n\ntemplate(data);\n// => 渲染的 HTML 字符串\n\nejs.render(str, data, options);\n// => 渲染的 HTML 字符串\n\nejs.renderFile(filename, data, options,\n  function(err, str){\n      // str => 渲染的 HTML 字符串\n  }\n);"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "code",
      "lang": "ejs",
      "code": "<%- include('partials/navbar.ejs') %>"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "text",
      "body": "包含带有数据的模板："
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "code",
      "lang": "ejs",
      "code": "<% include('header', { title: 'My Page' }) %>"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "text",
      "body": "--------"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "code",
      "lang": "ejs",
      "code": "<ul>\n  <% users.forEach(function(user){ %>\n    <%- include('item', {user: user}); %>\n  <% }); %>\n</ul>"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "包括文件",
      "kind": "text",
      "body": "要包含模板，需要文件名选项，路径是相对的"
    },
    {
      "id": "s2-28",
      "sectionId": "s2",
      "title": "条件句",
      "kind": "code",
      "lang": "ejs",
      "code": "<% if (userLoggedIn) { %>\n  <p>Welcome, <%= username %>!</p>\n<% } else { %>\n  <p>Please log in.</p>\n<% } %>"
    },
    {
      "id": "s2-29",
      "sectionId": "s2",
      "title": "使用循环",
      "kind": "code",
      "lang": "ejs",
      "code": "<% if (userLoggedIn) { %>\n  <p>Welcome, <%= username %>!</p>\n<% } else { %>\n  <p>Please log in.</p>\n<% } %>"
    },
    {
      "id": "s2-30",
      "sectionId": "s2",
      "title": "自定义分隔符",
      "kind": "code",
      "lang": "js",
      "code": "let ejs = require('ejs'),\n    users = ['geddy', 'neil', 'alex'];\n\n// 只需一个模板\nejs.render('<?= users.join(\" | \"); ?>',\n    {users: users},\n    {delimiter: '?'});\n// => 'geddy | neil | alex'\n\n// 或全局范围内\nejs.delimiter = '$';\nejs.render('<$= users.join(\" | \"); $>',\n    {users: users});\n// => 'geddy | neil | alex'"
    },
    {
      "id": "s2-31",
      "sectionId": "s2",
      "title": "缓存",
      "kind": "code",
      "lang": "js",
      "code": "let ejs = require('ejs'),\nLRU = require('lru-cache');\n\n// LRU 缓存具有 100 项限制\nejs.cache = LRU(100);"
    },
    {
      "id": "s2-32",
      "sectionId": "s2",
      "title": "布局",
      "kind": "code",
      "lang": "ejs",
      "code": "<%- include('header'); -%>\n<h1> Title </h1>\n<p>\n  My page\n</p>\n<%- include('footer'); -%>"
    },
    {
      "id": "s2-33",
      "sectionId": "s2",
      "title": "自定义文件加载器",
      "kind": "code",
      "lang": "js",
      "code": "let ejs = require('ejs');\nlet myFileLoader = function (filePath) {\n  return 'myFileLoader: ' + fs.readFileSync(filePath);\n};\n\nejs.fileLoader = myFileLoader;"
    },
    {
      "id": "s3-34",
      "sectionId": "s3",
      "title": "例子",
      "kind": "code",
      "lang": "html",
      "code": "<div id=\"output\"></div>\n<script src=\"ejs.min.js\"></script>\n<script>\n  let people = ['geddy', 'neil', 'alex'],\n      html = ejs.render('<%= people.join(\", \"); %>', {people: people});\n  // With jQuery:\n  $('#output').html(html);\n  // Vanilla JS:\n  document.getElementById('output').innerHTML = html;\n</script>"
    },
    {
      "id": "s3-35",
      "sectionId": "s3",
      "title": "注意事项",
      "kind": "code",
      "lang": "js",
      "code": "let str = \"Hello <%= include('file', {person: 'John'}); %>\",\n      fn = ejs.compile(str, {client: true});\n\nfn(data, null, function(path, d){ // include callback\n  // path -> 'file'\n  // d -> {person: 'John'}\n  // Put your code here\n  // Return the contents of file as a string\n}); // returns rendered string"
    },
    {
      "id": "s4-36",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`cache`",
      "back": "编译后的函数被缓存，需要文件名"
    },
    {
      "id": "s4-37",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`filename`",
      "back": "由缓存用于关键缓存，并用于包含"
    },
    {
      "id": "s4-38",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`root`",
      "back": "使用绝对路径（例如 `/file.ejs`）设置包含项目的根目录。 可以是一个数组来尝试解析来自多个目录的包含。"
    },
    {
      "id": "s4-39",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`views`",
      "back": "解析包含相对路径时要使用的路径数组。"
    },
    {
      "id": "s4-40",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`context`",
      "back": "函数执行上下文"
    },
    {
      "id": "s4-41",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`compileDebug`",
      "back": "当 `false` 时，不编译任何调试工具"
    },
    {
      "id": "s4-42",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`client`",
      "back": "返回独立编译的函数"
    },
    {
      "id": "s4-43",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`delimiter`",
      "back": "用于内部分隔符的字符，默认为 `%`"
    },
    {
      "id": "s4-44",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`openDelimiter`",
      "back": "用于打开分隔符的字符，默认为 `<`"
    },
    {
      "id": "s4-45",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`closeDelimiter`",
      "back": "用于结束分隔符的字符，默认为 `>`"
    },
    {
      "id": "s4-46",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`debug`",
      "back": "输出生成的函数体"
    },
    {
      "id": "s4-47",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`strict`",
      "back": "当设置为 `true` 时，生成的函数处于严格模式"
    },
    {
      "id": "s4-48",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`_with`",
      "back": "是否使用 `with() {}` 构造。 如果为 `false`，则局部变量将存储在局部变量对象中。 （暗示`--strict`）"
    },
    {
      "id": "s4-49",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`localsName`",
      "back": "不使用时用于存储局部变量的对象的名称 默认为局部变量"
    },
    {
      "id": "s4-50",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`rmWhitespace`",
      "back": "删除所有可安全删除的空格，包括前导和尾随空格。 它还为所有 `scriptlet` 标记启用了更安全版本的 `-%>` 行吸收（它不会在行中间去除新的标记行）"
    },
    {
      "id": "s4-51",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`escape`",
      "back": "与 `<%=` 构造一起使用的转义函数。 它用于渲染，并在生成客户端函数时进行 `.toString()` 处理。 （默认情况下转义 XML）"
    },
    {
      "id": "s4-52",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`outputFunctionName`",
      "back": "设置为字符串（例如 `echo` 或 `print`），以便函数在 `scriptlet` 标签内打印输出"
    },
    {
      "id": "s4-53",
      "sectionId": "s4",
      "title": "选项列表",
      "kind": "qa",
      "front": "`async`",
      "back": "当 `true` 时，EJS 将使用异步函数进行渲染。 （取决于 `JS` 运行时中的 `async`/`await` 支持"
    },
    {
      "id": "s5-54",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%`",
      "back": "'Scriptlet' 标签，用于控制流，无输出"
    },
    {
      "id": "s5-55",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%_`",
      "back": "“Whitespace Slurping”Scriptlet 标签，删除其前面的所有空格"
    },
    {
      "id": "s5-56",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%=`",
      "back": "将值输出到模板中（HTML 转义）"
    },
    {
      "id": "s5-57",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%-`",
      "back": "将未转义的值输出到模板中"
    },
    {
      "id": "s5-58",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%#`",
      "back": "注释标签，不执行，不输出"
    },
    {
      "id": "s5-59",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`<%%`",
      "back": "输出文字 `<%`"
    },
    {
      "id": "s5-60",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`%>`",
      "back": "普通结束标签"
    },
    {
      "id": "s5-61",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`-%>`",
      "back": "修剪模式（'newline slurp'）标签，修剪换行符后的内容"
    },
    {
      "id": "s5-62",
      "sectionId": "s5",
      "title": "标签列表",
      "kind": "qa",
      "front": "`_%>`",
      "back": "“Whitespace Slurping”结束标签，删除其后的所有空格"
    },
    {
      "id": "s6-63",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`cache`",
      "back": "编译后的函数被缓存，需要文件名"
    },
    {
      "id": "s6-64",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-o / --output-file FILE`",
      "back": "将渲染的输出写入 FILE 而不是 stdout。"
    },
    {
      "id": "s6-65",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-f / --data-file FILE`",
      "back": "必须是 JSON 格式。 使用来自 FILE 的解析输入作为渲染数据。"
    },
    {
      "id": "s6-66",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-i / --data-input STRING`",
      "back": "必须采用 JSON 格式和 URI 编码。 使用来自 STRING 的解析输入作为渲染数据。"
    },
    {
      "id": "s6-67",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-m / --delimiter CHARACTER`",
      "back": "使用带有尖括号的 CHARACTER 来表示打开/关闭（默认为 %）。"
    },
    {
      "id": "s6-68",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-p / --open-delimiter CHARACTER`",
      "back": "使用 CHARACTER 而不是左尖括号来打开。"
    },
    {
      "id": "s6-69",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-c / --close-delimiter CHARACTER`",
      "back": "使用 CHARACTER 而不是右尖括号来结束。"
    },
    {
      "id": "s6-70",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-s / --strict`",
      "back": "当设置为 `true` 时，生成的函数处于严格模式"
    },
    {
      "id": "s6-71",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-n / --no-with`",
      "back": "对变量使用 `locals` 对象，而不是使用 `with`（隐含--strict）。"
    },
    {
      "id": "s6-72",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-l / --locals-name`",
      "back": "不使用“with”时用于存储局部变量的对象的名称。"
    },
    {
      "id": "s6-73",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-w / --rm-whitespace`",
      "back": "删除所有可安全删除的空格，包括前导和尾随空格。"
    },
    {
      "id": "s6-74",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-d / --debug`",
      "back": "输出生成的函数体"
    },
    {
      "id": "s6-75",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-h / --help`",
      "back": "显示此帮助消息。"
    },
    {
      "id": "s6-76",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "qa",
      "front": "`-V/v / --version`",
      "back": "显示 EJS 版本。"
    },
    {
      "id": "s6-77",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "text",
      "body": "使用示例："
    },
    {
      "id": "s6-78",
      "sectionId": "s6",
      "title": "Cli 列表",
      "kind": "code",
      "lang": "bash",
      "code": "$ ejs -p [ -c ] ./template_file.ejs -o ./output.html\n$ ejs ./test/fixtures/user.ejs name=Lerxst\n$ ejs -n -l _ ./some_template.ejs -f ./data_file.json"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/ejs.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/ejs.md",
    "lang": "zh",
    "mode": "local"
  }
}