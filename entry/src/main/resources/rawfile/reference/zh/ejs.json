{
  "id": "ejs",
  "name": "Ejs 备忘清单",
  "title": "[![NPM version](https://img.shields.io/npm/v/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)",
  "icon": "reference/icons/zh/ejs.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "文档",
      "startIndex": 20
    },
    {
      "id": "s3",
      "title": "客户端支持",
      "startIndex": 26
    },
    {
      "id": "s4",
      "title": "选项",
      "startIndex": 28
    },
    {
      "id": "s5",
      "title": "标签",
      "startIndex": 29
    },
    {
      "id": "s6",
      "title": "Cli",
      "startIndex": 30
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "[![NPM version](https://img.shields.io/npm/v/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)\n[![Downloads](https://img.shields.io/npm/dm/ejs.svg?style=flat)](https://www.npmjs.com/package/ejs)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/mde/ejs)](https://github.com/mde/ejs/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/mde/ejs)"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "body": "EJS（嵌入式 JavaScript）是一种简单的模板语言，可让您使用纯 JavaScript 生成 HTML 标记\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "Hello world - 安装",
      "body": "```shell\n$ npm install ejs\n```"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "hello.ejs",
      "body": "```ejs\n<% if (user.email) { %>\n  <h1><%= user.email %></h1>\n<% } %>\n```"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "命令 CLI",
      "body": "```shell\n$ ejs hello.ejs -o hello.html\n```"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93",
      "body": "%60%60%60js%0Alet%20ejs%20%3D%20require('ejs')%3B%0A%0Alet%20people%20%3D%20%5B'geddy'%2C%20'neil'%2C%20'alex'%5D%3B%0Alet%20tpl%20%3D%20'%3C%25%3D%20people.join(%22%2C%20%22)%3B%20%25%3E'%3B%0A%0Alet%20html%20%3D%20ejs.render(tpl%2C%20%7B%0A%20%20people%3A%20people%0A%7D)%3B%0Aconsole.log(html)%3B%0A%60%60%60%0A%0A%E5%90%91%20%60EJS%60%20%E4%BC%A0%E9%80%92%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E4%B8%80%E4%BA%9B%E6%95%B0%E6%8D%AE",
      "encoded": true
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81",
      "body": "%60%60%60html%0A%3Cscript%20src%3D%22ejs.js%22%3E%3C%2Fscript%3E%0A%3Cscript%3E%0A%20%20let%20people%20%3D%20%5B'geddy'%2C%20'neil'%2C%20'alex'%5D%3B%0A%20%20let%20html%20%3D%20ejs.render(%0A%20%20%20%20'%3C%25%3D%20people.join(%22%2C%20%22)%3B%20%25%3E'%2C%0A%20%20%20%20%7B%20people%3A%20people%20%7D%0A%20%20)%3B%0A%3C%2Fscript%3E%0A%60%60%60%0A%0A%E5%9C%A8%E8%84%9A%E6%9C%AC%E6%A0%87%E7%AD%BE%E4%B8%AD%E4%BD%BF%E7%94%A8%20%60ejs%60",
      "encoded": true
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "变量",
      "body": "|              |                                  |\n|--------------|----------------------------------|\n| `<%= var %>` | 打印变量的值 |\n| `<%- var %>` | 打印时不进行 HTML 转义 |"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "CLI",
      "body": "渲染并指定输出文件\n\n```shell\n$ ejs hello.ejs -o hello.html\n```\n\n为其提供模板文件和数据文件\n\n```shell\n$ ejs hello.ejs -f data.json -o hello.html\n```"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "注释",
      "body": "```ejs\n<%# 该行将表示一条注释 %>\n```\n\n```ejs\n<%# 这是一个多行 EJS 注释。\n    它可以跨越多行，\n    但不会显示\n    在最终的 HTML 输出中。\n%>\n```"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "%E6%96%B9%E6%B3%95",
      "body": "%60%60%60js%0Alet%20ejs%20%3D%20require('ejs')%3B%0Alet%20template%20%3D%20ejs.compile(str%2C%20options)%3B%0A%0Atemplate(data)%3B%0A%2F%2F%20%3D%3E%20%E6%B8%B2%E6%9F%93%E7%9A%84%20HTML%20%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%0Aejs.render(str%2C%20data%2C%20options)%3B%0A%2F%2F%20%3D%3E%20%E6%B8%B2%E6%9F%93%E7%9A%84%20HTML%20%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%0Aejs.renderFile(filename%2C%20data%2C%20options%2C%0A%20%20function(err%2C%20str)%7B%0A%20%20%20%20%20%20%2F%2F%20str%20%3D%3E%20%E6%B8%B2%E6%9F%93%E7%9A%84%20HTML%20%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%20%20%7D%0A)%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "%E5%8C%85%E6%8B%AC%E6%96%87%E4%BB%B6",
      "body": "%60%60%60ejs%0A%3C%25-%20include('partials%2Fnavbar.ejs')%20%25%3E%0A%60%60%60%0A%0A%E5%8C%85%E5%90%AB%E5%B8%A6%E6%9C%89%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A8%A1%E6%9D%BF%EF%BC%9A%0A%0A%60%60%60ejs%0A%3C%25%20include('header'%2C%20%7B%20title%3A%20'My%20Page'%20%7D)%20%25%3E%0A%60%60%60%0A%0A%60%60%60ejs%0A%3Cul%3E%0A%20%20%3C%25%20users.forEach(function(user)%7B%20%25%3E%0A%20%20%20%20%3C%25-%20include('item'%2C%20%7Buser%3A%20user%7D)%3B%20%25%3E%0A%20%20%3C%25%20%7D)%3B%20%25%3E%0A%3C%2Ful%3E%0A%60%60%60%0A%0A%E8%A6%81%E5%8C%85%E5%90%AB%E6%A8%A1%E6%9D%BF%EF%BC%8C%E9%9C%80%E8%A6%81%E6%96%87%E4%BB%B6%E5%90%8D%E9%80%89%E9%A1%B9%EF%BC%8C%E8%B7%AF%E5%BE%84%E6%98%AF%E7%9B%B8%E5%AF%B9%E7%9A%84",
      "encoded": true
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "条件句",
      "body": "```ejs\n<% if (userLoggedIn) { %>\n  <p>Welcome, <%= username %>!</p>\n<% } else { %>\n  <p>Please log in.</p>\n<% } %>\n```"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "使用循环",
      "body": "```ejs\n<% if (userLoggedIn) { %>\n  <p>Welcome, <%= username %>!</p>\n<% } else { %>\n  <p>Please log in.</p>\n<% } %>\n```"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E9%9A%94%E7%AC%A6",
      "body": "%60%60%60js%0Alet%20ejs%20%3D%20require('ejs')%2C%0A%20%20%20%20users%20%3D%20%5B'geddy'%2C%20'neil'%2C%20'alex'%5D%3B%0A%0A%2F%2F%20%E5%8F%AA%E9%9C%80%E4%B8%80%E4%B8%AA%E6%A8%A1%E6%9D%BF%0Aejs.render('%3C%3F%3D%20users.join(%22%20%7C%20%22)%3B%20%3F%3E'%2C%0A%20%20%20%20%7Busers%3A%20users%7D%2C%0A%20%20%20%20%7Bdelimiter%3A%20'%3F'%7D)%3B%0A%2F%2F%20%3D%3E%20'geddy%20%7C%20neil%20%7C%20alex'%0A%0A%2F%2F%20%E6%88%96%E5%85%A8%E5%B1%80%E8%8C%83%E5%9B%B4%E5%86%85%0Aejs.delimiter%20%3D%20'%24'%3B%0Aejs.render('%3C%24%3D%20users.join(%22%20%7C%20%22)%3B%20%24%3E'%2C%0A%20%20%20%20%7Busers%3A%20users%7D)%3B%0A%2F%2F%20%3D%3E%20'geddy%20%7C%20neil%20%7C%20alex'%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "%E7%BC%93%E5%AD%98",
      "body": "%60%60%60js%0Alet%20ejs%20%3D%20require('ejs')%2C%0ALRU%20%3D%20require('lru-cache')%3B%0A%0A%2F%2F%20LRU%20%E7%BC%93%E5%AD%98%E5%85%B7%E6%9C%89%20100%20%E9%A1%B9%E9%99%90%E5%88%B6%0Aejs.cache%20%3D%20LRU(100)%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-24",
      "sectionId": "s2",
      "title": "%E5%B8%83%E5%B1%80",
      "body": "%60%60%60ejs%0A%3C%25-%20include('header')%3B%20-%25%3E%0A%3Ch1%3E%20Title%20%3C%2Fh1%3E%0A%3Cp%3E%0A%20%20My%20page%0A%3C%2Fp%3E%0A%3C%25-%20include('footer')%3B%20-%25%3E%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s2-25",
      "sectionId": "s2",
      "title": "%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E5%99%A8",
      "body": "%60%60%60js%0Alet%20ejs%20%3D%20require('ejs')%3B%0Alet%20myFileLoader%20%3D%20function%20(filePath)%20%7B%0A%20%20return%20'myFileLoader%3A%20'%20%2B%20fs.readFileSync(filePath)%3B%0A%7D%3B%0A%0Aejs.fileLoader%20%3D%20myFileLoader%3B%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s3-26",
      "sectionId": "s3",
      "title": "%E4%BE%8B%E5%AD%90",
      "body": "%60%60%60html%0A%3Cdiv%20id%3D%22output%22%3E%3C%2Fdiv%3E%0A%3Cscript%20src%3D%22ejs.min.js%22%3E%3C%2Fscript%3E%0A%3Cscript%3E%0A%20%20let%20people%20%3D%20%5B'geddy'%2C%20'neil'%2C%20'alex'%5D%2C%0A%20%20%20%20%20%20html%20%3D%20ejs.render('%3C%25%3D%20people.join(%22%2C%20%22)%3B%20%25%3E'%2C%20%7Bpeople%3A%20people%7D)%3B%0A%20%20%2F%2F%20With%20jQuery%3A%0A%20%20%24('%23output').html(html)%3B%0A%20%20%2F%2F%20Vanilla%20JS%3A%0A%20%20document.getElementById('output').innerHTML%20%3D%20html%3B%0A%3C%2Fscript%3E%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s3-27",
      "sectionId": "s3",
      "title": "%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9",
      "body": "%60%60%60js%0Alet%20str%20%3D%20%22Hello%20%3C%25%3D%20include('file'%2C%20%7Bperson%3A%20'John'%7D)%3B%20%25%3E%22%2C%0A%20%20%20%20%20%20fn%20%3D%20ejs.compile(str%2C%20%7Bclient%3A%20true%7D)%3B%0A%0Afn(data%2C%20null%2C%20function(path%2C%20d)%7B%20%2F%2F%20include%20callback%0A%20%20%2F%2F%20path%20-%3E%20'file'%0A%20%20%2F%2F%20d%20-%3E%20%7Bperson%3A%20'John'%7D%0A%20%20%2F%2F%20Put%20your%20code%20here%0A%20%20%2F%2F%20Return%20the%20contents%20of%20file%20as%20a%20string%0A%7D)%3B%20%2F%2F%20returns%20rendered%20string%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s4-28",
      "sectionId": "s4",
      "title": "选项列表",
      "body": "选项 | 描述\n:---|---\n`cache`              | 编译后的函数被缓存，需要文件名\n`filename`           | 由缓存用于关键缓存，并用于包含\n`root`               | 使用绝对路径（例如 `/file.ejs`）设置包含项目的根目录。 可以是一个数组来尝试解析来自多个目录的包含。\n`views`              | 解析包含相对路径时要使用的路径数组。\n`context`            | 函数执行上下文\n`compileDebug`       | 当 `false` 时，不编译任何调试工具\n`client`             | 返回独立编译的函数\n`delimiter`          | 用于内部分隔符的字符，默认为 `%`\n`openDelimiter`      | 用于打开分隔符的字符，默认为 `<`\n`closeDelimiter`     | 用于结束分隔符的字符，默认为 `>`\n`debug`              | 输出生成的函数体\n`strict`             | 当设置为 `true` 时，生成的函数处于严格模式\n`_with`              | 是否使用 `with() {}` 构造。 如果为 `false`，则局部变量将存储在局部变量对象中。 （暗示`--strict`）\n`localsName`         | 不使用时用于存储局部变量的对象的名称 默认为局部变量\n`rmWhitespace`       | 删除所有可安全删除的空格，包括前导和尾随空格。 它还为所有 `scriptlet` 标记启用了更安全版本的 `-%>` 行吸收（它不会在行中间去除新的标记行）\n`escape`             | 与 `<%=` 构造一起使用的转义函数。 它用于渲染，并在生成客户端函数时进行 `.toString()` 处理。 （默认情况下转义 XML）\n`outputFunctionName` | 设置为字符串（例如 `echo` 或 `print`），以便函数在 `scriptlet` 标签内打印输出\n`async`              | 当 `true` 时，EJS 将使用异步函数进行渲染。 （取决于 `JS` 运行时中的 `async`/`await` 支持"
    },
    {
      "id": "s5-29",
      "sectionId": "s5",
      "title": "%E6%A0%87%E7%AD%BE%E5%88%97%E8%A1%A8",
      "body": "%E6%A0%87%E7%AD%BE%20%7C%20%E6%8F%8F%E8%BF%B0%0A%3A---%7C---%0A%60%3C%25%60%20%20%7C%20'Scriptlet'%20%E6%A0%87%E7%AD%BE%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%8E%A7%E5%88%B6%E6%B5%81%EF%BC%8C%E6%97%A0%E8%BE%93%E5%87%BA%0A%60%3C%25_%60%20%20%7C%20%E2%80%9CWhitespace%20Slurping%E2%80%9DScriptlet%20%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%88%A0%E9%99%A4%E5%85%B6%E5%89%8D%E9%9D%A2%E7%9A%84%E6%89%80%E6%9C%89%E7%A9%BA%E6%A0%BC%0A%60%3C%25%3D%60%20%20%7C%20%E5%B0%86%E5%80%BC%E8%BE%93%E5%87%BA%E5%88%B0%E6%A8%A1%E6%9D%BF%E4%B8%AD%EF%BC%88HTML%20%E8%BD%AC%E4%B9%89%EF%BC%89%0A%60%3C%25-%60%20%20%7C%20%E5%B0%86%E6%9C%AA%E8%BD%AC%E4%B9%89%E7%9A%84%E5%80%BC%E8%BE%93%E5%87%BA%E5%88%B0%E6%A8%A1%E6%9D%BF%E4%B8%AD%0A%60%3C%25%23%60%20%20%7C%20%E6%B3%A8%E9%87%8A%E6%A0%87%E7%AD%BE%EF%BC%8C%E4%B8%8D%E6%89%A7%E8%A1%8C%EF%BC%8C%E4%B8%8D%E8%BE%93%E5%87%BA%0A%60%3C%25%25%60%20%20%7C%20%E8%BE%93%E5%87%BA%E6%96%87%E5%AD%97%20%60%3C%25%60%0A%60%25%3E%60%20%20%7C%20%E6%99%AE%E9%80%9A%E7%BB%93%E6%9D%9F%E6%A0%87%E7%AD%BE%0A%60-%25%3E%60%20%20%7C%20%E4%BF%AE%E5%89%AA%E6%A8%A1%E5%BC%8F%EF%BC%88'newline%20slurp'%EF%BC%89%E6%A0%87%E7%AD%BE%EF%BC%8C%E4%BF%AE%E5%89%AA%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%90%8E%E7%9A%84%E5%86%85%E5%AE%B9%0A%60_%25%3E%60%20%20%7C%20%E2%80%9CWhitespace%20Slurping%E2%80%9D%E7%BB%93%E6%9D%9F%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%88%A0%E9%99%A4%E5%85%B6%E5%90%8E%E7%9A%84%E6%89%80%E6%9C%89%E7%A9%BA%E6%A0%BC",
      "encoded": true
    },
    {
      "id": "s6-30",
      "sectionId": "s6",
      "title": "Cli 列表",
      "body": "选项 | 描述\n:---|---\n`cache`                           | 编译后的函数被缓存，需要文件名\n`-o / --output-file FILE`         | 将渲染的输出写入 FILE 而不是 stdout。\n`-f / --data-file FILE`           | 必须是 JSON 格式。 使用来自 FILE 的解析输入作为渲染数据。\n`-i / --data-input STRING`        | 必须采用 JSON 格式和 URI 编码。 使用来自 STRING 的解析输入作为渲染数据。\n`-m / --delimiter CHARACTER`      | 使用带有尖括号的 CHARACTER 来表示打开/关闭（默认为 %）。\n`-p / --open-delimiter CHARACTER` | 使用 CHARACTER 而不是左尖括号来打开。\n`-c / --close-delimiter CHARACTER` | 使用 CHARACTER 而不是右尖括号来结束。\n`-s / --strict`                   | 当设置为 `true` 时，生成的函数处于严格模式\n`-n / --no-with`                   | 对变量使用 `locals` 对象，而不是使用 `with`（隐含--strict）。\n`-l / --locals-name`               | 不使用“with”时用于存储局部变量的对象的名称。\n`-w / --rm-whitespace`             | 删除所有可安全删除的空格，包括前导和尾随空格。\n`-d / --debug`                     | 输出生成的函数体\n`-h / --help`                     | 显示此帮助消息。\n`-V/v / --version`                 | 显示 EJS 版本。\n\n使用示例：\n\n```bash\n$ ejs -p [ -c ] ./template_file.ejs -o ./output.html\n$ ejs ./test/fixtures/user.ejs name=Lerxst\n$ ejs -n -l _ ./some_template.ejs -f ./data_file.json\n```"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/ejs.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/ejs.md",
    "lang": "zh",
    "mode": "local"
  }
}