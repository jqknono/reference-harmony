{
  "id": "pnpm",
  "name": "pnpm 备忘清单",
  "title": "这是一份 [`pnpm`](https://pnpm.io/) 软件包管理器备忘单，其中列出了 `pnpm` 常用命令使用清单。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/pnpm.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "示例",
      "startIndex": 12
    },
    {
      "id": "s3",
      "title": "Monorepo",
      "startIndex": 19
    },
    {
      "id": "s4",
      "title": "高级用法",
      "startIndex": 31
    },
    {
      "id": "s5",
      "title": "另见",
      "startIndex": 34
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这是一份 [`pnpm`](https://pnpm.io/) 软件包管理器备忘单，其中列出了 `pnpm` 常用命令使用清单。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "pnpm 与 npm 命令比较",
      "kind": "text",
      "body": "npm | pnpm | 说明\n:- | :- | :-\n`npm install` | `pnpm install` | 安装依赖\n`npm init` | `pnpm init` | 创建 `package.json` 文件\n`npm install <package>` | `pnpm add <package>` | 安装包\n`npm install -g <package>` | `pnpm add -g <package>` | 全局安装包\n`npm update` | `pnpm update` | 更新包\n`npm cache clean` | `pnpm cache clean` | 清理缓存"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "参考 [npm](./npm.md) 备忘清单"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "pnpm list",
      "kind": "code",
      "lang": "shell",
      "code": "# 列出所有已安装的包\npnpm list\n# 列出全局安装的包\npnpm list -g\n# 查找过时的包\npnpm outdated"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "pnpm why",
      "kind": "code",
      "lang": "shell",
      "code": "# 显示为什么安装了某个包\npnpm why <package>"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "pnpm install",
      "kind": "text",
      "body": "pnpm | 说明\n:- | :-\n`--no-lockfile` | 不生成 pnpm-lock.yaml 锁定文件\n`--force` | 强制覆盖现有的 node_modules\n`--frozen-lockfile` | 忽略 pnpm-lock.yaml 中的更改\n`--offline` | 离线模式，不尝试从远程仓库安装包\n`--shamefully-hoist` | 类似于 npm 的 hoist 行为\n`--strict-peer-dependencies` | 严格检查 peer dependencies\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "这些选项可用于 `pnpm install`。"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "pnpm add",
      "kind": "text",
      "body": "pnpm | 说明\n:- | :-\n`--save` | 将包添加到 dependencies\n`--save-dev` | 将包添加到 devDependencies\n`--global` | 全局安装包\n`--exact` | 安装精确版本号的包\n`--shamefully-hoist` | 类似于 npm 的 hoist 行为\n`--strict-peer-dependencies` | 严格检查 peer dependencies\n<!--rehype:className=style-list-arrow-->"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "这些选项可用于 `pnpm add`。"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "pnpm update",
      "kind": "code",
      "lang": "shell",
      "code": "# 更新所有包\npnpm update\n# 更新特定包\npnpm update <package>\n# 更新到最新版本（包括 major 版本）\npnpm update --latest"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "pnpm remove",
      "kind": "code",
      "lang": "shell",
      "code": "# 从依赖中删除包\npnpm remove <package>\n# 删除全局依赖包\npnpm remove -g create-react-app\n# 删除特定版本的依赖包\npnpm remove lodash@4.17.21"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "pnpm cache",
      "kind": "code",
      "lang": "shell",
      "code": "# 清理 pnpm 缓存\npnpm cache clean\n# 查看缓存中所有的包\npnpm cache list"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "安装包",
      "kind": "code",
      "lang": "bash",
      "code": "# 将包添加到“dependencies”\npnpm add <package>\n# 将包添加到“devDependencies”\npnpm add -D <package>\n# 将包作为精确版本添加\npnpm add --exact <package>\n# 在全局范围内安装包\npnpm add -g <package>\n# 安装特定版本的包\npnpm add <package>@<version>"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "移除包",
      "kind": "code",
      "lang": "bash",
      "code": "pnpm remove <package>\n# 删除多个依赖包\npnpm remove lodash express\n# 删除全局依赖包\npnpm remove -g create-react-app\n# 删除特定版本的依赖包\npnpm remove lodash@4.17.21"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "%E6%9F%A5%E7%9C%8B%E5%8C%85",
      "kind": "code",
      "lang": "bash",
      "code": "%23%20%E5%88%97%E5%87%BA%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85%0Apnpm%20list%0A%23%20%E5%88%97%E5%87%BA%E9%A1%B6%E7%BA%A7%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85%0Apnpm%20list%20--depth%200%0A%23%20%E5%88%97%E5%87%BA%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85%0Apnpm%20list%20-g%0A%23%20%E6%A0%B9%E6%8D%AE%E6%A8%A1%E5%BC%8F%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%88%97%E5%87%BA%E5%8C%85%0Apnpm%20list%20--pattern%20%22lodash%22%20--depth%201",
      "encoded": true
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "清除",
      "kind": "code",
      "lang": "bash",
      "code": "# 清理 node_modules 并删除不必要的文件\npnpm prune\n# 检查过时的包\npnpm outdated"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "信息",
      "kind": "code",
      "lang": "bash",
      "code": "# 显示关于安装包的原因的信息\npnpm why <package>"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "清理缓存",
      "kind": "code",
      "lang": "bash",
      "code": "# 清除 pnpm 的全局缓存\npnpm cache clean"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "此外，您可以指定一个或多个要清理的包。"
    },
    {
      "id": "s3-19",
      "sectionId": "s3",
      "title": "创建 Monorepo 工作区",
      "kind": "text",
      "body": "• 创建一个新的 pnpm 工作区："
    },
    {
      "id": "s3-20",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "  pnpm init -w"
    },
    {
      "id": "s3-21",
      "sectionId": "s3",
      "title": "",
      "kind": "text",
      "body": "• 将在项目的根目录中创建一个 `pnpm-workspace.yaml` 文件，内容如下："
    },
    {
      "id": "s3-22",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "yaml",
      "code": "  packages:\n    - 'packages/**'\n    - 'apps/**'"
    },
    {
      "id": "s3-23",
      "sectionId": "s3",
      "title": "",
      "kind": "text",
      "body": "• 在 `pnpm-workspace.yaml` 中定义您的工作区结构："
    },
    {
      "id": "s3-24",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "yaml",
      "code": "  packages:\n    - 'packages/*'\n    - 'apps/*'"
    },
    {
      "id": "s3-25",
      "sectionId": "s3",
      "title": "添加包到 Monorepo 工作区",
      "kind": "code",
      "lang": "bash",
      "code": "pnpm add <package> -w # 在工作区中添加包"
    },
    {
      "id": "s3-26",
      "sectionId": "s3",
      "title": "运行脚本",
      "kind": "code",
      "lang": "bash",
      "code": "# 在所有包中运行脚本\npnpm -r run <script>\n# 仅在某个包中运行脚本\npnpm --filter <package> run <script>\n# 在某个包及其依赖中运行脚本\npnpm --filter <package>... run <script>"
    },
    {
      "id": "s3-27",
      "sectionId": "s3",
      "title": "添加工作区范围的依赖",
      "kind": "code",
      "lang": "bash",
      "code": "# 添加依赖到工作区根目录\npnpm add <package> -w\n# 添加开发依赖到工作区根目录\npnpm add -D <package> -w"
    },
    {
      "id": "s3-28",
      "sectionId": "s3",
      "title": "创建新的包",
      "kind": "text",
      "body": "在 `packages` 目录中创建新的包，例如："
    },
    {
      "id": "s3-29",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "mkdir packages/new-package\ncd packages/new-package\npnpm init"
    },
    {
      "id": "s3-30",
      "sectionId": "s3",
      "title": "链接本地包",
      "kind": "code",
      "lang": "bash",
      "code": "# 将本地包链接到当前工作区\npnpm link <local-package-path>\n# 链接工作区中的包\npnpm add <local-package-name> --workspace"
    },
    {
      "id": "s4-31",
      "sectionId": "s4",
      "title": "工作区",
      "kind": "code",
      "lang": "bash",
      "code": "# 创建工作区\npnpm init -w\n# 在工作区中添加包\npnpm add <package> -w"
    },
    {
      "id": "s4-32",
      "sectionId": "s4",
      "title": "链接",
      "kind": "code",
      "lang": "bash",
      "code": "# 链接一个全局包到当前项目\npnpm link <package>\n# 链接本地包到全局\npnpm link --global <package>"
    },
    {
      "id": "s4-33",
      "sectionId": "s4",
      "title": "运行脚本",
      "kind": "code",
      "lang": "bash",
      "code": "# 运行 package.json 中的脚本\npnpm run <script>\n# 运行根目录中的包的脚本\npnpm run -w <script>"
    },
    {
      "id": "s5-34",
      "sectionId": "s5",
      "title": "另见",
      "kind": "text",
      "body": "• [pnpm 官方文档网站](https://pnpm.io/)\n• [pnpm 常见问题解答](https://pnpm.io/motivation)"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/pnpm.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/pnpm.md",
    "lang": "zh",
    "mode": "local"
  }
}