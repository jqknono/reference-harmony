{
  "id": "lua",
  "name": "Lua 备忘清单",
  "title": "包含最重要概念、函数、方法等的 [Lua](http://www.lua.org) 备忘单。 初学者的完整快速参考。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/lua.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "条件语句",
      "startIndex": 59
    },
    {
      "id": "s3",
      "title": "函数",
      "startIndex": 76
    },
    {
      "id": "s4",
      "title": "字符串",
      "startIndex": 85
    },
    {
      "id": "s5",
      "title": "数学方法",
      "startIndex": 93
    },
    {
      "id": "s6",
      "title": "table",
      "startIndex": 96
    },
    {
      "id": "s7",
      "title": "模块",
      "startIndex": 108
    },
    {
      "id": "s8",
      "title": "另见",
      "startIndex": 112
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "包含最重要概念、函数、方法等的 [Lua](http://www.lua.org) 备忘单。 初学者的完整快速参考。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "下载",
      "kind": "text",
      "body": "macos 使用 homebrew 下载"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "下载",
      "kind": "code",
      "lang": "bash",
      "code": "$ brew install lua"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "下载",
      "kind": "text",
      "body": "#### 其它下载方式"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "下载",
      "kind": "text",
      "body": "• [下载地址](https://luabinaries.sourceforge.net/download.html) _(sourceforge.net)_"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "下载",
      "kind": "code",
      "lang": "bash",
      "code": "# 查看 lua 是否安装成功\n$ lua -v"
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "hello world",
      "kind": "code",
      "lang": "lua",
      "code": "#!/usr/bin/env lua\n\nprint(\"Hello World!\")"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "hello world",
      "kind": "text",
      "body": "#### 运行"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "hello world",
      "kind": "code",
      "lang": "bash",
      "code": "$ lua ./hello.lua\n# 或者也可以像 bash 脚本一样\n$ chmod +x hello.lua\n./hello.lua"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "注释",
      "kind": "text",
      "body": "#### 单行注释"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "注释",
      "kind": "code",
      "lang": "lua",
      "code": "-- 以两个减号开始"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "注释",
      "kind": "text",
      "body": "#### 多行注释"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "注释",
      "kind": "text",
      "body": "多行注释以 `--[[` 开头, 以 `]]` 结尾"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "注释",
      "kind": "code",
      "lang": "lua",
      "code": "--[[\n\n]]"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "type() 函数",
      "kind": "text",
      "body": "使用 `type()` 函数可以判断变量或者值的类型"
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "type() 函数",
      "kind": "code",
      "lang": "lua",
      "code": "print(type(true)) -- boolean\nprint(type(nil)) -- nil"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "number",
      "kind": "text",
      "body": "Lua 默认只有一种 number 类型 double (双精度) 类型"
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "number",
      "kind": "code",
      "lang": "lua",
      "code": "print(10)\nprint(0.3)\nprint(2e + 10)"
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "string",
      "kind": "code",
      "lang": "lua",
      "code": "-- 使用 ''\nlocal str1 = 'str1'\n-- 使用 \"\"\nlocal str2 = \"str2\""
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "string",
      "kind": "text",
      "body": "#### `[[]]`"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "string",
      "kind": "text",
      "body": "使用 `[[]]` 跨行表示多个字符串"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "string",
      "kind": "code",
      "lang": "lua",
      "code": "local html = [[\n<html>\n<head></head>\n<body>\n  <a href=\"https://www.twle.cn/\">\n    简单编程\n  </a>\n</body>\n</html>\n]]\nprint(html)"
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "string",
      "kind": "text",
      "body": "#### 字符串连接(`..`)"
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "string",
      "kind": "code",
      "lang": "lua",
      "code": "print(\"a\" .. 'b')\n-- ab\nprint(157 .. 428)\n-- 157428"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "string",
      "kind": "text",
      "body": "#### 字符串长度(`#`)"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "string",
      "kind": "code",
      "lang": "lua",
      "code": "print(#\"string\") -- 6"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "table",
      "kind": "code",
      "lang": "lua",
      "code": "local table = {}"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "table",
      "kind": "text",
      "body": "#### 迭代 table"
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "table",
      "kind": "text",
      "body": "默认的初始索引会从 1 开始"
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "table",
      "kind": "code",
      "lang": "lua",
      "code": "local array = { \"apple\", \"pear\", \"orange\", \"grape\" }\n\nprint(array[1]) -- apple\n\nfor k, v in pairs(array) do\n  print(k .. \" : \" .. v)\nend\n-- 1 : apple\n-- 2 : pear\n-- 3 : orange\n-- 4 : grape"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "table",
      "kind": "text",
      "body": "#### 指定键"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "table",
      "kind": "code",
      "lang": "lua",
      "code": "local array = {}\narray.one = \"apple\"\narray[\"two\"] = \"peach\"\n\nprint(array.one) -- apple\nprint(array.two) -- peach"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "变量",
      "kind": "text",
      "body": "#### 默认值"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "变量",
      "kind": "text",
      "body": "变量的默认值均是 nil"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "变量",
      "kind": "code",
      "lang": "lua",
      "code": "#!/usr/bin/env lua\nprint(b) -- nil"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "变量",
      "kind": "text",
      "body": "#### 全局和局部变量"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "变量",
      "kind": "text",
      "body": "Lua 中的变量全是全局变量，那怕是语句块或是函数里，除非用 local 显式声明为局部变量"
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "变量",
      "kind": "code",
      "lang": "lua",
      "code": "#!/usr/bin/env lua\nfunction main()\n  local b = 12\n  a = 23\nend\n\nmain()\nprint(a) -- 23\nprint(b) -- nil"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "a = \"hello \" .. \"world\" -- 改变 变量\nt.n = t.n + 1  -- 改变 table"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "-- 给多个变量赋值\n-- 情况1：a 未定义过\na, b = 10, 2*a  -- 报错：a 是 nil\n-- 情况2：a 已定义（比如 a=5）\na = 5\na, b = 10, 2*a  -- 右侧的 a=5，结果 a=10, b=10（不会报错）"
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "#### 交换变量"
    },
    {
      "id": "s1-42",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "local x, y = 1, 3\nx, y = y, x\n\nprint(x, y) -- 3, 1"
    },
    {
      "id": "s1-43",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s1-44",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "local tab = {}\n\ntab.one = 2\ntab.two = 1\n\ntab[\"one\"], tab[\"two\"] = tab.two, tab.one\n\nprint(tab.one, tab.two) -- 1    2"
    },
    {
      "id": "s1-45",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "#### 赋值个数不一致"
    },
    {
      "id": "s1-46",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "• 如果变量个数**大于**值的个数，按变量个数补足 nil"
    },
    {
      "id": "s1-47",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "   a, b, c = 1, 3\n   print(a,b,c)      --> 1   3   nil"
    },
    {
      "id": "s1-48",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "text",
      "body": "• 如果变量个数**小于**值的个数，多余的值会被忽略"
    },
    {
      "id": "s1-49",
      "sectionId": "s1",
      "title": "赋值",
      "kind": "code",
      "lang": "lua",
      "code": "   a = 1\n   local a, b = a, a + 1, a + 2\n   print(a, b) --> 1   2"
    },
    {
      "id": "s1-50",
      "sectionId": "s1",
      "title": "运算符",
      "kind": "text",
      "body": ":-   | :-\n:-   | :-\n`+`   | 加法\n`-`   | 减法\n`*`   | 乘法\n`/`   | 除法\n`%`   | 取余，求出除法的余数\n`^`   | 乘幂，计算次方\n`-`   | 负号，取负值"
    },
    {
      "id": "s1-51",
      "sectionId": "s1",
      "title": "运算符",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = 4, 3\n\nprint(a + b) -- 7\nprint(a - b) -- 1\nprint(a / b) -- 1.3333333333333\nprint(a * b) -- 12\nprint(a % b) -- 1\nprint(a ^ b) -- 64.0"
    },
    {
      "id": "s1-52",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "text",
      "body": "• 在算术运算中，string 类型会尝试自动转换为 number 时"
    },
    {
      "id": "s1-53",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "code",
      "lang": "lua",
      "code": "   local a, b, c = \"str\", \"1\", \"2\"\n\n   -- print(a + b) -- error\n   print(b + c) -- 3"
    },
    {
      "id": "s1-54",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "text",
      "body": "• number 类型使用 `..` 会自动转换为 string"
    },
    {
      "id": "s1-55",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "code",
      "lang": "lua",
      "code": "   local a, b = 1, 2\n   print(type(a .. b))"
    },
    {
      "id": "s1-56",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "text",
      "body": "• 其它方式的转换"
    },
    {
      "id": "s1-57",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "code",
      "lang": "lua",
      "code": "   print(type(tostring(12))) -- string\n   print(type(tonumber(\"12\"))) -- number"
    },
    {
      "id": "s1-58",
      "sectionId": "s1",
      "title": "goto 语法",
      "kind": "code",
      "lang": "lua",
      "code": "local function isValidNumber(num)\n    if type(num) ~= \"number\" then\n        goto invalidNumber   -- 无条件地跳转到代码中的标签 `::invalidNumber::`\n    end\n\n    print(\"Valid number:\", num)\n    return true\n\n    ::invalidNumber::\n    print(\"Invalid number:\", num)\n    return false\nend\n\nisValidNumber(123)    -- 输出: Valid number: 123\nisValidNumber(\"abc\")  -- 输出: Invalid number: abc"
    },
    {
      "id": "s2-59",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "text",
      "body": "#### 关系运算符"
    },
    {
      "id": "s2-60",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "text",
      "body": "符号 | 含义\n:-  | :-\n`==`  | 等于\n`~=`  | 不等于\n`>`  | 大于\n`<`  | 小于\n`>=` | 大于等于\n`<=` | 小于等于\n<!--rehype:className=show-header-->"
    },
    {
      "id": "s2-61",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = 4, 3\n\nprint(a < b) -- false\nprint(a <= b) -- false\nprint(a == b) -- false\nprint(a ~= b) -- true\nprint(a > b) -- true\nprint(a >= b)-- true"
    },
    {
      "id": "s2-62",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "text",
      "body": "#### 逻辑运算符"
    },
    {
      "id": "s2-63",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "text",
      "body": "符号 | 含义\n:-  | :-\n`and` | 逻辑与\n`or` | 逻辑或操作符\n`not` | 逻辑非操作符\n<!--rehype:className=show-header-->"
    },
    {
      "id": "s2-64",
      "sectionId": "s2",
      "title": "运算符",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = true, false\nprint(a and b) -- false\nprint(a and not b) -- true\nprint(a or b) -- true"
    },
    {
      "id": "s2-65",
      "sectionId": "s2",
      "title": "while 循环",
      "kind": "code",
      "lang": "lua",
      "code": "local num = 1\nwhile (num < 5) do\n  print(\"num 的值为:\", num)\n  num = num + 1\nend"
    },
    {
      "id": "s2-66",
      "sectionId": "s2",
      "title": "if 语句",
      "kind": "code",
      "lang": "lua",
      "code": "if(0)\nthen\n    print(\"0 为 true\")\nend"
    },
    {
      "id": "s2-67",
      "sectionId": "s2",
      "title": "if 语句",
      "kind": "text",
      "body": "#### if .. elseif() .. else"
    },
    {
      "id": "s2-68",
      "sectionId": "s2",
      "title": "if 语句",
      "kind": "code",
      "lang": "lua",
      "code": "local age = 27;\n\nif (age < 18)\nthen\n  print(\"age 小于 18\")\nelseif (age < 25)\nthen\n  print(\"age 小于 25\")\nelseif (age < 30)\nthen\n  print(\"age 小于 30\")\nelse\n  print(\"age 大于 30\")\nend\n\nprint(\"age 的值为 :\", age)"
    },
    {
      "id": "s2-69",
      "sectionId": "s2",
      "title": "if 语句",
      "kind": "text",
      "body": "<red>注意: </red>`Lua` 中 `0` 为 `true`，但是 `Lua` 中的 `nil` 可以当作 `false`"
    },
    {
      "id": "s2-70",
      "sectionId": "s2",
      "title": "for 循环",
      "kind": "code",
      "lang": "lua",
      "code": "for i = 10, 1, -1 do\n  print(i)\nend"
    },
    {
      "id": "s2-71",
      "sectionId": "s2",
      "title": "for 循环",
      "kind": "text",
      "body": "• lua 中的 for 循环从参数 1 变化到参数 2，每次变化以参数 3 为步长递增 i，并执行一次表达式\n• 参数三，是可选的，如果不指定，默认是 1\n• 参数二只会在一开始求值，其后不会再进行运算"
    },
    {
      "id": "s2-72",
      "sectionId": "s2",
      "title": "for 循环",
      "kind": "code",
      "lang": "lua",
      "code": "local f = function(x)\n  print(\"in f(x) \")\n  return x * 2\nend\n\nfor i = 1, f(5) do\n  print(i)\nend"
    },
    {
      "id": "s2-73",
      "sectionId": "s2",
      "title": "repeat...until 循环",
      "kind": "code",
      "lang": "lua",
      "code": "local num = 11\nrepeat\n  print(\"num 的值为: \", num)\n  num = num + 1\nuntil (num > 10)\n-- num 的值为：11"
    },
    {
      "id": "s2-74",
      "sectionId": "s2",
      "title": "repeat...until 循环",
      "kind": "text",
      "body": "`repeat...until` 循环的条件语句在当前循环结束后判断"
    },
    {
      "id": "s2-75",
      "sectionId": "s2",
      "title": "break",
      "kind": "code",
      "lang": "lua",
      "code": "local num = 11\nrepeat\n  print(\"num 的值为: \", num)\n  num = num + 1\n  if (num > 15) then\n    break\n  end\nuntil (num > 20)"
    },
    {
      "id": "s3-76",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "text",
      "body": "像变量一样，如果加上 `local` 那么就是局部函数"
    },
    {
      "id": "s3-77",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "code",
      "lang": "lua",
      "code": "local function main()\n  print(\"这是一个局部函数\")\nend"
    },
    {
      "id": "s3-78",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s3-79",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "text",
      "body": "你也可以将函数赋值给一个变量"
    },
    {
      "id": "s3-80",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "code",
      "lang": "lua",
      "code": "local main = function()\n  print(\"这是一个局部函数\")\nend"
    },
    {
      "id": "s3-81",
      "sectionId": "s3",
      "title": "返回值",
      "kind": "code",
      "lang": "lua",
      "code": "local function min(a, b)\n  if (a < b) then\n    return a\n  else\n    return b\n  end\nend\n\nprint(min(1, 2))"
    },
    {
      "id": "s3-82",
      "sectionId": "s3",
      "title": "参数",
      "kind": "code",
      "lang": "lua",
      "code": "local p = function(res)\n  print(\"打印自己的风格\", res)\nend\n\nlocal function main(a, b, p)\n  p(a + b)\nend\n\nmain(1, 2, p)"
    },
    {
      "id": "s3-83",
      "sectionId": "s3",
      "title": "多个返回值",
      "kind": "code",
      "lang": "lua",
      "code": "local function min(a)\n  local sum = 0\n  local factorial = 1\n  for i, v in pairs(a) do\n    sum = sum + v\n    factorial = factorial * v\n  end\n  return sum, factorial\nend\n\nlocal a, b = min({ 1, 2, 3, 4 })\n\nprint(a, b)"
    },
    {
      "id": "s3-84",
      "sectionId": "s3",
      "title": "可变参数(`...`)",
      "kind": "code",
      "lang": "lua",
      "code": "local function average(...)\n  local result = 0\n  local arg = { ... }\n  for i, v in ipairs(arg) do\n    result = result + v\n  end\n  return result / #arg\nend\n\nprint(\"平均值为\", average(1, 3, 5, 7, 9, 11))"
    },
    {
      "id": "s4-85",
      "sectionId": "s4",
      "title": "字符串方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 全部转换为大写\nstring.upper(\"str\") -- STR\n\n-- 全部转换为小写\nstring.lower(\"STR\") -- str\n\n-- 指定替换的字符串个数, 最后一个参数可选，默认是全部替换\nstring.gsub(\"aaaa\", \"a\", \"b\", 3) -- bbba  3\nstring.gsub(\"Today is 29/01/2019\", \"%d%d/%d%d/%d%d%d%d\", \"a good day.\")\n-- Today is a good day.\n\n-- 查找第一个匹配的字符串，第三个参数可以提供开始查找的位置，默认从 1 开始\n-- 如果未找到，则返回 nil\nstring.find(\"referference\", \"fer\") -- 3   5\nstring.find(\"Today is 29/01/2021\", \"%d%d/%d%d/%d%d%d%d\") -- 10      19\n\n-- 字符串反转\nstring.reverse(\"fw\") -- wf\n\n-- 格式化字符串\nstring.format(\"value:%c\", 1) -- value:a\n\n-- 转换字符并拼接\nstring.char(97,98,99,100) -- abcd\n\n-- 将字符转化为整数值。 int 用来指定某个字符，默认第一个字符\nstring.byte(\"ABCD\",4) -- 68\n\n-- 计算字符串长度\nstring.len(\"abc\") -- 3\n\n-- 返回字符串的 n 个拷贝\nstring.rep(\"fw\", n) -- fwfw\n\n-- 剪切字符串，第三个参数可选，默认是字符串长度\nstring.sub(\"referference\", 5, 6) -- rf"
    },
    {
      "id": "s4-86",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": ":-   | :-\n:-   | :-\n`%a` | 与任何字母配对\n`%c` | 与任何控制符配对(例如\\n)\n`%d` | 与任何数字配对\n`%l` | 与任何小写字母配对\n`%p` | 与任何标点(punctuation)配对\n`%s` | 与空白字符配对\n`%u` | 与任何大写字母配对\n`%w` | 与任何字母/数字配对\n`%x` | 与任何十六进制数配对\n`%z` | 与任何代表0的字符配对\n<!--rehype:className=left-align-->"
    },
    {
      "id": "s4-87",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": "#### match"
    },
    {
      "id": "s4-88",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": "第三个参数可选，默认从 1 开始。如果没有捕获组返回整个字符串，匹配失败返回 nil"
    },
    {
      "id": "s4-89",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "code",
      "lang": "lua",
      "code": "string.match(\n  \"I have 2 questions for you.\", \n  \"(%d+) (%a+) \"\n)  -- 2       questions"
    },
    {
      "id": "s4-90",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": "#### gmatch"
    },
    {
      "id": "s4-91",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": "返回一个迭代器函数，每次调用迭代器函数，如果参数 pattern 描述的字符串没有找到，迭代函数返回nil"
    },
    {
      "id": "s4-92",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "code",
      "lang": "lua",
      "code": "for world in string.gmatch(\"I have 2 questions for you.\", \"%a+\") do\n  print(world)\nend\n-- I\n-- have\n-- questions\n-- for\n-- you"
    },
    {
      "id": "s5-93",
      "sectionId": "s5",
      "title": "常用方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 一个比任何数字都大的浮点数\nmath.huge\n\n-- 最小值的整数\nmath.mininteger\n\nlocal a = math.abs(-1) -- 1\n\n-- 返回不小于该数到最小整数\nlocal b = math.ceil(1.2) -- 2\n\n-- 返回不大于该数到最大整数\nlocal c = math.floor(1.2) -- 1\n\n-- 取余\nlocal d = math.fmod(9.9, 9) -- 0.9\n\n-- 返回最大值\nlocal g = math.max(1, 2, 3) -- 3\n-- 返回最小值\nlocal h = math.min(1, 2, 3) -- 1\n\n-- 返回参数的平方根\nlocal r = math.sqrt(9) -- 3"
    },
    {
      "id": "s5-94",
      "sectionId": "s5",
      "title": "工具方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 返回数字的类型，\nlocal l = math.type(1.2) -- float\nlocal m = math.type(3) -- integer\nlocal n = math.type(\"\") -- nil\n\n-- 返回以指定底底对数\nlocal e = math.log(4, 2) -- 2\n\n-- 返回以 e 为底的自然对数\nlocal f = math.exp(2) -- 7.3890560989307\n\n-- 返回 [0,1) 区间内一致分布的浮点伪随机数\nmath.random()\n-- 返回 [1, n] 区间内一致分布的整数伪随机数\nmath.random(10)\n-- 返回 [n, m] 区间内一致分布的整数伪随机数\nmath.random(10, 100)\n\n-- 无符号整数比较，参数一 小于 参数二 则返回 true，否则返回 false\nlocal o = math.ult(1, 10)\n\n-- 如果参数可以转换为一个整数，则返回该整数，否则返回 nil\nlocal p = math.tointeger(\"3\") -- 3\nlocal q = math.tointeger(0.32) -- nil\n\n-- 返回整数和小数部分\nlocal i, j = math.modf(3.14) -- 3   0.14"
    },
    {
      "id": "s5-95",
      "sectionId": "s5",
      "title": "其它方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 圆周率\nmath.pi -- 3.1415926535898\n\n-- 正弦方法（以下皆是以弧度表示）\nmath.sin(math.pi / 2) -- 1.0\n-- 余弦方法\nmath.cos(math.pi) -- -1.0\n-- 正切方法\nmath.tan(math.pi / 4) -- 1.0\n\n-- 反正弦方法（以下皆是以弧度表示）\nmath.asin(1.0) -- 1.5707963267949\n-- 反余弦方法\nmath.acos(1.0) -- 0.0\n-- 反正切方法\nmath.atan(1.0) -- 0.78539816339745\n\n-- 角度转换为弧度\nmath.rad(90) -- 1.5707963267949\n-- 弧度转换为角度\nmath.deg(math.pi) -- 180.0"
    },
    {
      "id": "s6-96",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "text",
      "body": "初始化一个空数组"
    },
    {
      "id": "s6-97",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "code",
      "lang": "lua",
      "code": "local array = {}"
    },
    {
      "id": "s6-98",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "text",
      "body": "---"
    },
    {
      "id": "s6-99",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "text",
      "body": "默认的数组索引从 1 开始"
    },
    {
      "id": "s6-100",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "code",
      "lang": "lua",
      "code": "local array = { \"a\", \"b\", \"c\", \"d\" }\narray[5] = \"e\"\n\nfor i = 1, 5 do\n  print(array[i])\nend"
    },
    {
      "id": "s6-101",
      "sectionId": "s6",
      "title": "多维数组",
      "kind": "code",
      "lang": "lua",
      "code": "local array = {\n  { \"a\", \"b\", \"c\" },\n  { \"d\", \"e\", \"f\" }\n}\n\nfor i = 1, #array do\n  for j = 1, #array[i] do\n    print(array[i][j])\n  end\nend"
    },
    {
      "id": "s6-102",
      "sectionId": "s6",
      "title": "初始化 table",
      "kind": "code",
      "lang": "lua",
      "code": "local table = {}\n\ntable.name = \"fw\"\ntable.age = \"18\"\ntable[\"sex\"] = \"boy\"\n\n-- 获取 table 的长度\n\nprint(#table) -- 0\n\n-- 如果想要删除一个 table，那么可以使用 nil 赋值\ntable = nil\nprint(table)"
    },
    {
      "id": "s6-103",
      "sectionId": "s6",
      "title": "table 方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 用于连接 table 中指定的元素\n-- table.concat(table [, sep [, start [, end]]])\nlocal a = { \"apple\", \"orange\", \"peach\" }\nprint(table.concat(a, \"->\", 2, 3)) -- orange->peach\n\n-- 用于向指定闻之插入元素。默认数组末尾\n-- table.insert(table, [pos,] value)\nlocal a = { \"apple\", \"orange\", \"peach\" }\ntable.insert(a, 1, \"pear\")\nprint(a[1]) -- pear\n\n-- table.move(a1,f,e,t[,a2])\n-- 表a1，a1下标开始位置f，a1下标结束位置e，t选择移动到的开始位置(如果没有a2，默认a1的下标)\nlocal array = { \"a\", \"b\", \"c\" }\n\nfor i,v in pairs(table.move(array, 1, 3, 2)) do\n  print(v)\nend -- a a b c\n\n-- table.sort (table [, comp])\n-- 排序，默认是升序\nlocal array = { \"a\", \"c\", \"b\" }\n\nlocal f = function(a, b)\n  return string.byte(a) - string.byte(b) > 0\nend\n\ntable.sort(array, f)\nfor i, v in pairs(array) do\n  print(v)\nend -- c b a"
    },
    {
      "id": "s6-104",
      "sectionId": "s6",
      "title": "迭代器",
      "kind": "text",
      "body": "#### 无状态的迭代器"
    },
    {
      "id": "s6-105",
      "sectionId": "s6",
      "title": "迭代器",
      "kind": "code",
      "lang": "lua",
      "code": "function square(d,n)\n   if n < d\n   then\n      n = n + 1\n   return n, n*n\n   end\nend\n\nfor i,n in square,5,0\ndo\n   print(i,n)\nend"
    },
    {
      "id": "s6-106",
      "sectionId": "s6",
      "title": "迭代器",
      "kind": "text",
      "body": "#### for 循环迭代器"
    },
    {
      "id": "s6-107",
      "sectionId": "s6",
      "title": "迭代器",
      "kind": "code",
      "lang": "lua",
      "code": "for i, n in pairs({ 1, 2, 3, 4 }) do\n  print(i, n)\nend"
    },
    {
      "id": "s7-108",
      "sectionId": "s7",
      "title": "定义模块",
      "kind": "code",
      "lang": "lua",
      "code": "-- a.lua\nlocal mod = {}\n\nmod.cool = \"this is a mod\"\nfunction mod.test()\n  print(\"this is a function\")\nend\n\nreturn mod"
    },
    {
      "id": "s7-109",
      "sectionId": "s7",
      "title": "导入模块",
      "kind": "text",
      "body": "一般我们可以直接使用 `require` 导入"
    },
    {
      "id": "s7-110",
      "sectionId": "s7",
      "title": "导入模块",
      "kind": "code",
      "lang": "lua",
      "code": "-- b.lua\n-- local mod = require(\"a\")\n-- 使用 pcall 确保 require 函数导入成功，失败则返回一个 false 状态\nlocal status, mod = pcall(require, \"a\")\n\nif not status then\n  return\nend\n\nmod.test()\nprint(mod.cool)"
    },
    {
      "id": "s7-111",
      "sectionId": "s7",
      "title": "私有函数",
      "kind": "code",
      "lang": "lua",
      "code": "local mod = {}\n\nlocal function private()\n  print(\"private\")\nend\n\nfunction mod.public()\n  private()\nend\n\nreturn mod"
    },
    {
      "id": "s8-112",
      "sectionId": "s8",
      "title": "另见",
      "kind": "text",
      "body": "• [Lua 官网](http://www.lua.org) _(lua.org)_\n• [luatos](https://wiki.luatos.com/luaGuide/introduction.html) _(wiki.luatos.com)_\n• [Lua 教程](https://www.twle.cn/l/yufei/lua53/lua-basic-index.html) _(twle.cn)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/lua.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/lua.md",
    "lang": "zh",
    "mode": "local"
  }
}