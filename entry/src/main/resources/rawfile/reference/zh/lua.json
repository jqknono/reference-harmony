{
  "id": "lua",
  "name": "Lua 备忘清单",
  "title": "包含最重要概念、函数、方法等的 [Lua](http://www.lua.org) 备忘单。 初学者的完整快速参考。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/lua.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "条件语句",
      "startIndex": 42
    },
    {
      "id": "s3",
      "title": "函数",
      "startIndex": 56
    },
    {
      "id": "s4",
      "title": "字符串",
      "startIndex": 64
    },
    {
      "id": "s5",
      "title": "数学方法",
      "startIndex": 70
    },
    {
      "id": "s6",
      "title": "table",
      "startIndex": 73
    },
    {
      "id": "s7",
      "title": "模块",
      "startIndex": 82
    },
    {
      "id": "s8",
      "title": "另见",
      "startIndex": 86
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "包含最重要概念、函数、方法等的 [Lua](http://www.lua.org) 备忘单。 初学者的完整快速参考。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "下载",
      "kind": "text",
      "body": "macos 使用 homebrew 下载"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "$ brew install lua"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "其它下载方式",
      "kind": "text",
      "body": "• [下载地址](https://luabinaries.sourceforge.net/download.html) _(sourceforge.net)_"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "bash",
      "code": "# 查看 lua 是否安装成功\n$ lua -v"
    },
    {
      "id": "s1-5",
      "sectionId": "s1",
      "title": "hello%20world",
      "kind": "code",
      "lang": "lua",
      "code": "%23!%2Fusr%2Fbin%2Fenv%20lua%0A%0Aprint(%22Hello%20World!%22)",
      "encoded": true
    },
    {
      "id": "s1-6",
      "sectionId": "s1",
      "title": "运行",
      "kind": "code",
      "lang": "bash",
      "code": "$ lua ./hello.lua\n# 或者也可以像 bash 脚本一样\n$ chmod +x hello.lua\n./hello.lua"
    },
    {
      "id": "s1-7",
      "sectionId": "s1",
      "title": "注释 - 单行注释",
      "kind": "code",
      "lang": "lua",
      "code": "-- 以两个减号开始"
    },
    {
      "id": "s1-8",
      "sectionId": "s1",
      "title": "多行注释",
      "kind": "text",
      "body": "多行注释以 `--[[` 开头, 以 `]]` 结尾"
    },
    {
      "id": "s1-9",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "--[[\n\n]]"
    },
    {
      "id": "s1-10",
      "sectionId": "s1",
      "title": "type() 函数",
      "kind": "text",
      "body": "使用 `type()` 函数可以判断变量或者值的类型"
    },
    {
      "id": "s1-11",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "print(type(true)) -- boolean\nprint(type(nil)) -- nil"
    },
    {
      "id": "s1-12",
      "sectionId": "s1",
      "title": "number",
      "kind": "text",
      "body": "Lua 默认只有一种 number 类型 double (双精度) 类型"
    },
    {
      "id": "s1-13",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "print(10)\nprint(0.3)\nprint(2e + 10)"
    },
    {
      "id": "s1-14",
      "sectionId": "s1",
      "title": "string",
      "kind": "code",
      "lang": "lua",
      "code": "--%20%E4%BD%BF%E7%94%A8%20''%0Alocal%20str1%20%3D%20'str1'%0A--%20%E4%BD%BF%E7%94%A8%20%22%22%0Alocal%20str2%20%3D%20%22str2%22",
      "encoded": true
    },
    {
      "id": "s1-15",
      "sectionId": "s1",
      "title": "`[[]]`",
      "kind": "text",
      "body": "使用 `[[]]` 跨行表示多个字符串"
    },
    {
      "id": "s1-16",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20html%20%3D%20%5B%5B%0A%3Chtml%3E%0A%3Chead%3E%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%3Ca%20href%3D%22https%3A%2F%2Fwww.twle.cn%2F%22%3E%0A%20%20%20%20%E7%AE%80%E5%8D%95%E7%BC%96%E7%A8%8B%0A%20%20%3C%2Fa%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A%5D%5D%0Aprint(html)",
      "encoded": true
    },
    {
      "id": "s1-17",
      "sectionId": "s1",
      "title": "%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5(%60..%60)",
      "kind": "code",
      "lang": "lua",
      "code": "print(%22a%22%20..%20'b')%0A--%20ab%0Aprint(157%20..%20428)%0A--%20157428",
      "encoded": true
    },
    {
      "id": "s1-18",
      "sectionId": "s1",
      "title": "%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6(%60%23%60)",
      "kind": "code",
      "lang": "lua",
      "code": "print(%23%22string%22)%20--%206",
      "encoded": true
    },
    {
      "id": "s1-19",
      "sectionId": "s1",
      "title": "table",
      "kind": "code",
      "lang": "lua",
      "code": "local table = {}"
    },
    {
      "id": "s1-20",
      "sectionId": "s1",
      "title": "迭代 table",
      "kind": "text",
      "body": "默认的初始索引会从 1 开始"
    },
    {
      "id": "s1-21",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20array%20%3D%20%7B%20%22apple%22%2C%20%22pear%22%2C%20%22orange%22%2C%20%22grape%22%20%7D%0A%0Aprint(array%5B1%5D)%20--%20apple%0A%0Afor%20k%2C%20v%20in%20pairs(array)%20do%0A%20%20print(k%20..%20%22%20%3A%20%22%20..%20v)%0Aend%0A--%201%20%3A%20apple%0A--%202%20%3A%20pear%0A--%203%20%3A%20orange%0A--%204%20%3A%20grape",
      "encoded": true
    },
    {
      "id": "s1-22",
      "sectionId": "s1",
      "title": "%E6%8C%87%E5%AE%9A%E9%94%AE",
      "kind": "code",
      "lang": "lua",
      "code": "local%20array%20%3D%20%7B%7D%0Aarray.one%20%3D%20%22apple%22%0Aarray%5B%22two%22%5D%20%3D%20%22peach%22%0A%0Aprint(array.one)%20--%20apple%0Aprint(array.two)%20--%20peach",
      "encoded": true
    },
    {
      "id": "s1-23",
      "sectionId": "s1",
      "title": "变量 - 默认值",
      "kind": "text",
      "body": "变量的默认值均是 nil"
    },
    {
      "id": "s1-24",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "#!/usr/bin/env lua\nprint(b) -- nil"
    },
    {
      "id": "s1-25",
      "sectionId": "s1",
      "title": "全局和局部变量",
      "kind": "text",
      "body": "Lua 中的变量全是全局变量，那怕是语句块或是函数里，除非用 local 显式声明为局部变量"
    },
    {
      "id": "s1-26",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "#!/usr/bin/env lua\nfunction main()\n  local b = 12\n  a = 23\nend\n\nmain()\nprint(a) -- 23\nprint(b) -- nil"
    },
    {
      "id": "s1-27",
      "sectionId": "s1",
      "title": "%E8%B5%8B%E5%80%BC",
      "kind": "code",
      "lang": "lua",
      "code": "a%20%3D%20%22hello%20%22%20..%20%22world%22%20--%20%E6%94%B9%E5%8F%98%20%E5%8F%98%E9%87%8F%0At.n%20%3D%20t.n%20%2B%201%20%20--%20%E6%94%B9%E5%8F%98%20table%0A%0A--%20%E7%BB%99%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%0A--%20%E6%83%85%E5%86%B51%EF%BC%9Aa%20%E6%9C%AA%E5%AE%9A%E4%B9%89%E8%BF%87%0Aa%2C%20b%20%3D%2010%2C%202*a%20%20--%20%E6%8A%A5%E9%94%99%EF%BC%9Aa%20%E6%98%AF%20nil%0A--%20%E6%83%85%E5%86%B52%EF%BC%9Aa%20%E5%B7%B2%E5%AE%9A%E4%B9%89%EF%BC%88%E6%AF%94%E5%A6%82%20a%3D5%EF%BC%89%0Aa%20%3D%205%0Aa%2C%20b%20%3D%2010%2C%202*a%20%20--%20%E5%8F%B3%E4%BE%A7%E7%9A%84%20a%3D5%EF%BC%8C%E7%BB%93%E6%9E%9C%20a%3D10%2C%20b%3D10%EF%BC%88%E4%B8%8D%E4%BC%9A%E6%8A%A5%E9%94%99%EF%BC%89",
      "encoded": true
    },
    {
      "id": "s1-28",
      "sectionId": "s1",
      "title": "%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F",
      "kind": "code",
      "lang": "lua",
      "code": "local%20x%2C%20y%20%3D%201%2C%203%0Ax%2C%20y%20%3D%20y%2C%20x%0A%0Aprint(x%2C%20y)%20--%203%2C%201%0A%0Alocal%20tab%20%3D%20%7B%7D%0A%0Atab.one%20%3D%202%0Atab.two%20%3D%201%0A%0Atab%5B%22one%22%5D%2C%20tab%5B%22two%22%5D%20%3D%20tab.two%2C%20tab.one%0A%0Aprint(tab.one%2C%20tab.two)%20--%201%20%20%20%202",
      "encoded": true
    },
    {
      "id": "s1-29",
      "sectionId": "s1",
      "title": "赋值个数不一致",
      "kind": "text",
      "body": "• 如果变量个数**大于**值的个数，按变量个数补足 nil"
    },
    {
      "id": "s1-30",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "   a, b, c = 1, 3\n   print(a,b,c)      --> 1   3   nil"
    },
    {
      "id": "s1-31",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• 如果变量个数**小于**值的个数，多余的值会被忽略"
    },
    {
      "id": "s1-32",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "   a = 1\n   local a, b = a, a + 1, a + 2\n   print(a, b) --> 1   2"
    },
    {
      "id": "s1-33",
      "sectionId": "s1",
      "title": "运算符",
      "kind": "text",
      "body": ":-   | :-\n:-   | :-\n`+`   | 加法\n`-`   | 减法\n`*`   | 乘法\n`/`   | 除法\n`%`   | 取余，求出除法的余数\n`^`   | 乘幂，计算次方\n`-`   | 负号，取负值"
    },
    {
      "id": "s1-34",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = 4, 3\n\nprint(a + b) -- 7\nprint(a - b) -- 1\nprint(a / b) -- 1.3333333333333\nprint(a * b) -- 12\nprint(a % b) -- 1\nprint(a ^ b) -- 64.0"
    },
    {
      "id": "s1-35",
      "sectionId": "s1",
      "title": "类型转换",
      "kind": "text",
      "body": "• 在算术运算中，string 类型会尝试自动转换为 number 时"
    },
    {
      "id": "s1-36",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "%20%20%20local%20a%2C%20b%2C%20c%20%3D%20%22str%22%2C%20%221%22%2C%20%222%22%0A%0A%20%20%20--%20print(a%20%2B%20b)%20--%20error%0A%20%20%20print(b%20%2B%20c)%20--%203",
      "encoded": true
    },
    {
      "id": "s1-37",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• number 类型使用 `..` 会自动转换为 string"
    },
    {
      "id": "s1-38",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "   local a, b = 1, 2\n   print(type(a .. b))"
    },
    {
      "id": "s1-39",
      "sectionId": "s1",
      "title": "",
      "kind": "text",
      "body": "• 其它方式的转换"
    },
    {
      "id": "s1-40",
      "sectionId": "s1",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "%20%20%20print(type(tostring(12)))%20--%20string%0A%20%20%20print(type(tonumber(%2212%22)))%20--%20number",
      "encoded": true
    },
    {
      "id": "s1-41",
      "sectionId": "s1",
      "title": "goto%20%E8%AF%AD%E6%B3%95",
      "kind": "code",
      "lang": "lua",
      "code": "local%20function%20isValidNumber(num)%0A%20%20%20%20if%20type(num)%20~%3D%20%22number%22%20then%0A%20%20%20%20%20%20%20%20goto%20invalidNumber%20%20%20--%20%E6%97%A0%E6%9D%A1%E4%BB%B6%E5%9C%B0%E8%B7%B3%E8%BD%AC%E5%88%B0%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E6%A0%87%E7%AD%BE%20%60%3A%3AinvalidNumber%3A%3A%60%0A%20%20%20%20end%0A%0A%20%20%20%20print(%22Valid%20number%3A%22%2C%20num)%0A%20%20%20%20return%20true%0A%0A%20%20%20%20%3A%3AinvalidNumber%3A%3A%0A%20%20%20%20print(%22Invalid%20number%3A%22%2C%20num)%0A%20%20%20%20return%20false%0Aend%0A%0AisValidNumber(123)%20%20%20%20--%20%E8%BE%93%E5%87%BA%3A%20Valid%20number%3A%20123%0AisValidNumber(%22abc%22)%20%20--%20%E8%BE%93%E5%87%BA%3A%20Invalid%20number%3A%20abc",
      "encoded": true
    },
    {
      "id": "s2-42",
      "sectionId": "s2",
      "title": "运算符 - 关系运算符",
      "kind": "text",
      "body": "符号 | 含义\n:-  | :-\n`==`  | 等于\n`~=`  | 不等于\n`>`  | 大于\n`<`  | 小于\n`>=` | 大于等于\n`<=` | 小于等于\n<!--rehype:className=show-header-->"
    },
    {
      "id": "s2-43",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = 4, 3\n\nprint(a < b) -- false\nprint(a <= b) -- false\nprint(a == b) -- false\nprint(a ~= b) -- true\nprint(a > b) -- true\nprint(a >= b)-- true"
    },
    {
      "id": "s2-44",
      "sectionId": "s2",
      "title": "逻辑运算符",
      "kind": "text",
      "body": "符号 | 含义\n:-  | :-\n`and` | 逻辑与\n`or` | 逻辑或操作符\n`not` | 逻辑非操作符\n<!--rehype:className=show-header-->"
    },
    {
      "id": "s2-45",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local a, b = true, false\nprint(a and b) -- false\nprint(a and not b) -- true\nprint(a or b) -- true"
    },
    {
      "id": "s2-46",
      "sectionId": "s2",
      "title": "while%20%E5%BE%AA%E7%8E%AF",
      "kind": "code",
      "lang": "lua",
      "code": "local%20num%20%3D%201%0Awhile%20(num%20%3C%205)%20do%0A%20%20print(%22num%20%E7%9A%84%E5%80%BC%E4%B8%BA%3A%22%2C%20num)%0A%20%20num%20%3D%20num%20%2B%201%0Aend",
      "encoded": true
    },
    {
      "id": "s2-47",
      "sectionId": "s2",
      "title": "if%20%E8%AF%AD%E5%8F%A5",
      "kind": "code",
      "lang": "lua",
      "code": "if(0)%0Athen%0A%20%20%20%20print(%220%20%E4%B8%BA%20true%22)%0Aend",
      "encoded": true
    },
    {
      "id": "s2-48",
      "sectionId": "s2",
      "title": "if%20..%20elseif()%20..%20else",
      "kind": "code",
      "lang": "lua",
      "code": "local%20age%20%3D%2027%3B%0A%0Aif%20(age%20%3C%2018)%0Athen%0A%20%20print(%22age%20%E5%B0%8F%E4%BA%8E%2018%22)%0Aelseif%20(age%20%3C%2025)%0Athen%0A%20%20print(%22age%20%E5%B0%8F%E4%BA%8E%2025%22)%0Aelseif%20(age%20%3C%2030)%0Athen%0A%20%20print(%22age%20%E5%B0%8F%E4%BA%8E%2030%22)%0Aelse%0A%20%20print(%22age%20%E5%A4%A7%E4%BA%8E%2030%22)%0Aend%0A%0Aprint(%22age%20%E7%9A%84%E5%80%BC%E4%B8%BA%20%3A%22%2C%20age)",
      "encoded": true
    },
    {
      "id": "s2-49",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "<red>注意: </red>`Lua` 中 `0` 为 `true`，但是 `Lua` 中的 `nil` 可以当作 `false`"
    },
    {
      "id": "s2-50",
      "sectionId": "s2",
      "title": "for 循环",
      "kind": "code",
      "lang": "lua",
      "code": "for i = 10, 1, -1 do\n  print(i)\nend"
    },
    {
      "id": "s2-51",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "• lua 中的 for 循环从参数 1 变化到参数 2，每次变化以参数 3 为步长递增 i，并执行一次表达式\n• 参数三，是可选的，如果不指定，默认是 1\n• 参数二只会在一开始求值，其后不会再进行运算"
    },
    {
      "id": "s2-52",
      "sectionId": "s2",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20f%20%3D%20function(x)%0A%20%20print(%22in%20f(x)%20%22)%0A%20%20return%20x%20*%202%0Aend%0A%0Afor%20i%20%3D%201%2C%20f(5)%20do%0A%20%20print(i)%0Aend",
      "encoded": true
    },
    {
      "id": "s2-53",
      "sectionId": "s2",
      "title": "repeat...until%20%E5%BE%AA%E7%8E%AF",
      "kind": "code",
      "lang": "lua",
      "code": "local%20num%20%3D%2011%0Arepeat%0A%20%20print(%22num%20%E7%9A%84%E5%80%BC%E4%B8%BA%3A%20%22%2C%20num)%0A%20%20num%20%3D%20num%20%2B%201%0Auntil%20(num%20%3E%2010)%0A--%20num%20%E7%9A%84%E5%80%BC%E4%B8%BA%EF%BC%9A11",
      "encoded": true
    },
    {
      "id": "s2-54",
      "sectionId": "s2",
      "title": "",
      "kind": "text",
      "body": "`repeat...until` 循环的条件语句在当前循环结束后判断"
    },
    {
      "id": "s2-55",
      "sectionId": "s2",
      "title": "break",
      "kind": "code",
      "lang": "lua",
      "code": "local%20num%20%3D%2011%0Arepeat%0A%20%20print(%22num%20%E7%9A%84%E5%80%BC%E4%B8%BA%3A%20%22%2C%20num)%0A%20%20num%20%3D%20num%20%2B%201%0A%20%20if%20(num%20%3E%2015)%20then%0A%20%20%20%20break%0A%20%20end%0Auntil%20(num%20%3E%2020)",
      "encoded": true
    },
    {
      "id": "s3-56",
      "sectionId": "s3",
      "title": "初始化",
      "kind": "text",
      "body": "像变量一样，如果加上 `local` 那么就是局部函数"
    },
    {
      "id": "s3-57",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20function%20main()%0A%20%20print(%22%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%B1%80%E9%83%A8%E5%87%BD%E6%95%B0%22)%0Aend",
      "encoded": true
    },
    {
      "id": "s3-58",
      "sectionId": "s3",
      "title": "",
      "kind": "text",
      "body": "你也可以将函数赋值给一个变量"
    },
    {
      "id": "s3-59",
      "sectionId": "s3",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20main%20%3D%20function()%0A%20%20print(%22%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%B1%80%E9%83%A8%E5%87%BD%E6%95%B0%22)%0Aend",
      "encoded": true
    },
    {
      "id": "s3-60",
      "sectionId": "s3",
      "title": "返回值",
      "kind": "code",
      "lang": "lua",
      "code": "local function min(a, b)\n  if (a < b) then\n    return a\n  else\n    return b\n  end\nend\n\nprint(min(1, 2))"
    },
    {
      "id": "s3-61",
      "sectionId": "s3",
      "title": "%E5%8F%82%E6%95%B0",
      "kind": "code",
      "lang": "lua",
      "code": "local%20p%20%3D%20function(res)%0A%20%20print(%22%E6%89%93%E5%8D%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E9%A3%8E%E6%A0%BC%22%2C%20res)%0Aend%0A%0Alocal%20function%20main(a%2C%20b%2C%20p)%0A%20%20p(a%20%2B%20b)%0Aend%0A%0Amain(1%2C%202%2C%20p)",
      "encoded": true
    },
    {
      "id": "s3-62",
      "sectionId": "s3",
      "title": "多个返回值",
      "kind": "code",
      "lang": "lua",
      "code": "local function min(a)\n  local sum = 0\n  local factorial = 1\n  for i, v in pairs(a) do\n    sum = sum + v\n    factorial = factorial * v\n  end\n  return sum, factorial\nend\n\nlocal a, b = min({ 1, 2, 3, 4 })\n\nprint(a, b)"
    },
    {
      "id": "s3-63",
      "sectionId": "s3",
      "title": "%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0(%60...%60)",
      "kind": "code",
      "lang": "lua",
      "code": "local%20function%20average(...)%0A%20%20local%20result%20%3D%200%0A%20%20local%20arg%20%3D%20%7B%20...%20%7D%0A%20%20for%20i%2C%20v%20in%20ipairs(arg)%20do%0A%20%20%20%20result%20%3D%20result%20%2B%20v%0A%20%20end%0A%20%20return%20result%20%2F%20%23arg%0Aend%0A%0Aprint(%22%E5%B9%B3%E5%9D%87%E5%80%BC%E4%B8%BA%22%2C%20average(1%2C%203%2C%205%2C%207%2C%209%2C%2011))",
      "encoded": true
    },
    {
      "id": "s4-64",
      "sectionId": "s4",
      "title": "%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95",
      "kind": "code",
      "lang": "lua",
      "code": "--%20%E5%85%A8%E9%83%A8%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%A4%A7%E5%86%99%0Astring.upper(%22str%22)%20--%20STR%0A%0A--%20%E5%85%A8%E9%83%A8%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%B0%8F%E5%86%99%0Astring.lower(%22STR%22)%20--%20str%0A%0A--%20%E6%8C%87%E5%AE%9A%E6%9B%BF%E6%8D%A2%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AA%E6%95%B0%2C%20%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E5%8F%AF%E9%80%89%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF%E5%85%A8%E9%83%A8%E6%9B%BF%E6%8D%A2%0Astring.gsub(%22aaaa%22%2C%20%22a%22%2C%20%22b%22%2C%203)%20--%20bbba%20%203%0Astring.gsub(%22Today%20is%2029%2F01%2F2019%22%2C%20%22%25d%25d%2F%25d%25d%2F%25d%25d%25d%25d%22%2C%20%22a%20good%20day.%22)%0A--%20Today%20is%20a%20good%20day.%0A%0A--%20%E6%9F%A5%E6%89%BE%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%B9%E9%85%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0%E5%8F%AF%E4%BB%A5%E6%8F%90%E4%BE%9B%E5%BC%80%E5%A7%8B%E6%9F%A5%E6%89%BE%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%BB%8E%201%20%E5%BC%80%E5%A7%8B%0A--%20%E5%A6%82%E6%9E%9C%E6%9C%AA%E6%89%BE%E5%88%B0%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9E%20nil%0Astring.find(%22referference%22%2C%20%22fer%22)%20--%203%20%20%205%0Astring.find(%22Today%20is%2029%2F01%2F2021%22%2C%20%22%25d%25d%2F%25d%25d%2F%25d%25d%25d%25d%22)%20--%2010%20%20%20%20%20%2019%0A%0A--%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E8%BD%AC%0Astring.reverse(%22fw%22)%20--%20wf%0A%0A--%20%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%0Astring.format(%22value%3A%25c%22%2C%201)%20--%20value%3Aa%0A%0A--%20%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6%E5%B9%B6%E6%8B%BC%E6%8E%A5%0Astring.char(97%2C98%2C99%2C100)%20--%20abcd%0A%0A--%20%E5%B0%86%E5%AD%97%E7%AC%A6%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%95%B4%E6%95%B0%E5%80%BC%E3%80%82%20int%20%E7%94%A8%E6%9D%A5%E6%8C%87%E5%AE%9A%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C%E9%BB%98%E8%AE%A4%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%0Astring.byte(%22ABCD%22%2C4)%20--%2068%0A%0A--%20%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%0Astring.len(%22abc%22)%20--%203%0A%0A--%20%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%20n%20%E4%B8%AA%E6%8B%B7%E8%B4%9D%0Astring.rep(%22fw%22%2C%20n)%20--%20fwfw%0A%0A--%20%E5%89%AA%E5%88%87%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0%E5%8F%AF%E9%80%89%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%0Astring.sub(%22referference%22%2C%205%2C%206)%20--%20rf",
      "encoded": true
    },
    {
      "id": "s4-65",
      "sectionId": "s4",
      "title": "正则匹配",
      "kind": "text",
      "body": ":-   | :-\n:-   | :-\n`%a` | 与任何字母配对\n`%c` | 与任何控制符配对(例如\\n)\n`%d` | 与任何数字配对\n`%l` | 与任何小写字母配对\n`%p` | 与任何标点(punctuation)配对\n`%s` | 与空白字符配对\n`%u` | 与任何大写字母配对\n`%w` | 与任何字母/数字配对\n`%x` | 与任何十六进制数配对\n`%z` | 与任何代表0的字符配对\n<!--rehype:className=left-align-->"
    },
    {
      "id": "s4-66",
      "sectionId": "s4",
      "title": "match",
      "kind": "text",
      "body": "第三个参数可选，默认从 1 开始。如果没有捕获组返回整个字符串，匹配失败返回 nil"
    },
    {
      "id": "s4-67",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "string.match(%0A%20%20%22I%20have%202%20questions%20for%20you.%22%2C%20%0A%20%20%22(%25d%2B)%20(%25a%2B)%20%22%0A)%20%20--%202%20%20%20%20%20%20%20questions",
      "encoded": true
    },
    {
      "id": "s4-68",
      "sectionId": "s4",
      "title": "gmatch",
      "kind": "text",
      "body": "返回一个迭代器函数，每次调用迭代器函数，如果参数 pattern 描述的字符串没有找到，迭代函数返回nil"
    },
    {
      "id": "s4-69",
      "sectionId": "s4",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "for%20world%20in%20string.gmatch(%22I%20have%202%20questions%20for%20you.%22%2C%20%22%25a%2B%22)%20do%0A%20%20print(world)%0Aend%0A--%20I%0A--%20have%0A--%20questions%0A--%20for%0A--%20you",
      "encoded": true
    },
    {
      "id": "s5-70",
      "sectionId": "s5",
      "title": "常用方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 一个比任何数字都大的浮点数\nmath.huge\n\n-- 最小值的整数\nmath.mininteger\n\nlocal a = math.abs(-1) -- 1\n\n-- 返回不小于该数到最小整数\nlocal b = math.ceil(1.2) -- 2\n\n-- 返回不大于该数到最大整数\nlocal c = math.floor(1.2) -- 1\n\n-- 取余\nlocal d = math.fmod(9.9, 9) -- 0.9\n\n-- 返回最大值\nlocal g = math.max(1, 2, 3) -- 3\n-- 返回最小值\nlocal h = math.min(1, 2, 3) -- 1\n\n-- 返回参数的平方根\nlocal r = math.sqrt(9) -- 3"
    },
    {
      "id": "s5-71",
      "sectionId": "s5",
      "title": "%E5%B7%A5%E5%85%B7%E6%96%B9%E6%B3%95",
      "kind": "code",
      "lang": "lua",
      "code": "--%20%E8%BF%94%E5%9B%9E%E6%95%B0%E5%AD%97%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%8C%0Alocal%20l%20%3D%20math.type(1.2)%20--%20float%0Alocal%20m%20%3D%20math.type(3)%20--%20integer%0Alocal%20n%20%3D%20math.type(%22%22)%20--%20nil%0A%0A--%20%E8%BF%94%E5%9B%9E%E4%BB%A5%E6%8C%87%E5%AE%9A%E5%BA%95%E5%BA%95%E5%AF%B9%E6%95%B0%0Alocal%20e%20%3D%20math.log(4%2C%202)%20--%202%0A%0A--%20%E8%BF%94%E5%9B%9E%E4%BB%A5%20e%20%E4%B8%BA%E5%BA%95%E7%9A%84%E8%87%AA%E7%84%B6%E5%AF%B9%E6%95%B0%0Alocal%20f%20%3D%20math.exp(2)%20--%207.3890560989307%0A%0A--%20%E8%BF%94%E5%9B%9E%20%5B0%2C1)%20%E5%8C%BA%E9%97%B4%E5%86%85%E4%B8%80%E8%87%B4%E5%88%86%E5%B8%83%E7%9A%84%E6%B5%AE%E7%82%B9%E4%BC%AA%E9%9A%8F%E6%9C%BA%E6%95%B0%0Amath.random()%0A--%20%E8%BF%94%E5%9B%9E%20%5B1%2C%20n%5D%20%E5%8C%BA%E9%97%B4%E5%86%85%E4%B8%80%E8%87%B4%E5%88%86%E5%B8%83%E7%9A%84%E6%95%B4%E6%95%B0%E4%BC%AA%E9%9A%8F%E6%9C%BA%E6%95%B0%0Amath.random(10)%0A--%20%E8%BF%94%E5%9B%9E%20%5Bn%2C%20m%5D%20%E5%8C%BA%E9%97%B4%E5%86%85%E4%B8%80%E8%87%B4%E5%88%86%E5%B8%83%E7%9A%84%E6%95%B4%E6%95%B0%E4%BC%AA%E9%9A%8F%E6%9C%BA%E6%95%B0%0Amath.random(10%2C%20100)%0A%0A--%20%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B4%E6%95%B0%E6%AF%94%E8%BE%83%EF%BC%8C%E5%8F%82%E6%95%B0%E4%B8%80%20%E5%B0%8F%E4%BA%8E%20%E5%8F%82%E6%95%B0%E4%BA%8C%20%E5%88%99%E8%BF%94%E5%9B%9E%20true%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9E%20false%0Alocal%20o%20%3D%20math.ult(1%2C%2010)%0A%0A--%20%E5%A6%82%E6%9E%9C%E5%8F%82%E6%95%B0%E5%8F%AF%E4%BB%A5%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9E%E8%AF%A5%E6%95%B4%E6%95%B0%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9E%20nil%0Alocal%20p%20%3D%20math.tointeger(%223%22)%20--%203%0Alocal%20q%20%3D%20math.tointeger(0.32)%20--%20nil%0A%0A--%20%E8%BF%94%E5%9B%9E%E6%95%B4%E6%95%B0%E5%92%8C%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86%0Alocal%20i%2C%20j%20%3D%20math.modf(3.14)%20--%203%20%20%200.14",
      "encoded": true
    },
    {
      "id": "s5-72",
      "sectionId": "s5",
      "title": "其它方法",
      "kind": "code",
      "lang": "lua",
      "code": "-- 圆周率\nmath.pi -- 3.1415926535898\n\n-- 正弦方法（以下皆是以弧度表示）\nmath.sin(math.pi / 2) -- 1.0\n-- 余弦方法\nmath.cos(math.pi) -- -1.0\n-- 正切方法\nmath.tan(math.pi / 4) -- 1.0\n\n-- 反正弦方法（以下皆是以弧度表示）\nmath.asin(1.0) -- 1.5707963267949\n-- 反余弦方法\nmath.acos(1.0) -- 0.0\n-- 反正切方法\nmath.atan(1.0) -- 0.78539816339745\n\n-- 角度转换为弧度\nmath.rad(90) -- 1.5707963267949\n-- 弧度转换为角度\nmath.deg(math.pi) -- 180.0"
    },
    {
      "id": "s6-73",
      "sectionId": "s6",
      "title": "初始化数组",
      "kind": "text",
      "body": "初始化一个空数组"
    },
    {
      "id": "s6-74",
      "sectionId": "s6",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local array = {}"
    },
    {
      "id": "s6-75",
      "sectionId": "s6",
      "title": "",
      "kind": "text",
      "body": "默认的数组索引从 1 开始"
    },
    {
      "id": "s6-76",
      "sectionId": "s6",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "local%20array%20%3D%20%7B%20%22a%22%2C%20%22b%22%2C%20%22c%22%2C%20%22d%22%20%7D%0Aarray%5B5%5D%20%3D%20%22e%22%0A%0Afor%20i%20%3D%201%2C%205%20do%0A%20%20print(array%5Bi%5D)%0Aend",
      "encoded": true
    },
    {
      "id": "s6-77",
      "sectionId": "s6",
      "title": "%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84",
      "kind": "code",
      "lang": "lua",
      "code": "local%20array%20%3D%20%7B%0A%20%20%7B%20%22a%22%2C%20%22b%22%2C%20%22c%22%20%7D%2C%0A%20%20%7B%20%22d%22%2C%20%22e%22%2C%20%22f%22%20%7D%0A%7D%0A%0Afor%20i%20%3D%201%2C%20%23array%20do%0A%20%20for%20j%20%3D%201%2C%20%23array%5Bi%5D%20do%0A%20%20%20%20print(array%5Bi%5D%5Bj%5D)%0A%20%20end%0Aend",
      "encoded": true
    },
    {
      "id": "s6-78",
      "sectionId": "s6",
      "title": "%E5%88%9D%E5%A7%8B%E5%8C%96%20table",
      "kind": "code",
      "lang": "lua",
      "code": "local%20table%20%3D%20%7B%7D%0A%0Atable.name%20%3D%20%22fw%22%0Atable.age%20%3D%20%2218%22%0Atable%5B%22sex%22%5D%20%3D%20%22boy%22%0A%0A--%20%E8%8E%B7%E5%8F%96%20table%20%E7%9A%84%E9%95%BF%E5%BA%A6%0A%0Aprint(%23table)%20--%200%0A%0A--%20%E5%A6%82%E6%9E%9C%E6%83%B3%E8%A6%81%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%20table%EF%BC%8C%E9%82%A3%E4%B9%88%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20nil%20%E8%B5%8B%E5%80%BC%0Atable%20%3D%20nil%0Aprint(table)",
      "encoded": true
    },
    {
      "id": "s6-79",
      "sectionId": "s6",
      "title": "table%20%E6%96%B9%E6%B3%95",
      "kind": "code",
      "lang": "lua",
      "code": "--%20%E7%94%A8%E4%BA%8E%E8%BF%9E%E6%8E%A5%20table%20%E4%B8%AD%E6%8C%87%E5%AE%9A%E7%9A%84%E5%85%83%E7%B4%A0%0A--%20table.concat(table%20%5B%2C%20sep%20%5B%2C%20start%20%5B%2C%20end%5D%5D%5D)%0Alocal%20a%20%3D%20%7B%20%22apple%22%2C%20%22orange%22%2C%20%22peach%22%20%7D%0Aprint(table.concat(a%2C%20%22-%3E%22%2C%202%2C%203))%20--%20orange-%3Epeach%0A%0A--%20%E7%94%A8%E4%BA%8E%E5%90%91%E6%8C%87%E5%AE%9A%E9%97%BB%E4%B9%8B%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E3%80%82%E9%BB%98%E8%AE%A4%E6%95%B0%E7%BB%84%E6%9C%AB%E5%B0%BE%0A--%20table.insert(table%2C%20%5Bpos%2C%5D%20value)%0Alocal%20a%20%3D%20%7B%20%22apple%22%2C%20%22orange%22%2C%20%22peach%22%20%7D%0Atable.insert(a%2C%201%2C%20%22pear%22)%0Aprint(a%5B1%5D)%20--%20pear%0A%0A--%20table.move(a1%2Cf%2Ce%2Ct%5B%2Ca2%5D)%0A--%20%E8%A1%A8a1%EF%BC%8Ca1%E4%B8%8B%E6%A0%87%E5%BC%80%E5%A7%8B%E4%BD%8D%E7%BD%AEf%EF%BC%8Ca1%E4%B8%8B%E6%A0%87%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AEe%EF%BC%8Ct%E9%80%89%E6%8B%A9%E7%A7%BB%E5%8A%A8%E5%88%B0%E7%9A%84%E5%BC%80%E5%A7%8B%E4%BD%8D%E7%BD%AE(%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89a2%EF%BC%8C%E9%BB%98%E8%AE%A4a1%E7%9A%84%E4%B8%8B%E6%A0%87)%0Alocal%20array%20%3D%20%7B%20%22a%22%2C%20%22b%22%2C%20%22c%22%20%7D%0A%0Afor%20i%2Cv%20in%20pairs(table.move(array%2C%201%2C%203%2C%202))%20do%0A%20%20print(v)%0Aend%20--%20a%20a%20b%20c%0A%0A--%20table.sort%20(table%20%5B%2C%20comp%5D)%0A--%20%E6%8E%92%E5%BA%8F%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF%E5%8D%87%E5%BA%8F%0Alocal%20array%20%3D%20%7B%20%22a%22%2C%20%22c%22%2C%20%22b%22%20%7D%0A%0Alocal%20f%20%3D%20function(a%2C%20b)%0A%20%20return%20string.byte(a)%20-%20string.byte(b)%20%3E%200%0Aend%0A%0Atable.sort(array%2C%20f)%0Afor%20i%2C%20v%20in%20pairs(array)%20do%0A%20%20print(v)%0Aend%20--%20c%20b%20a",
      "encoded": true
    },
    {
      "id": "s6-80",
      "sectionId": "s6",
      "title": "迭代器 - 无状态的迭代器",
      "kind": "code",
      "lang": "lua",
      "code": "function square(d,n)\n   if n < d\n   then\n      n = n + 1\n   return n, n*n\n   end\nend\n\nfor i,n in square,5,0\ndo\n   print(i,n)\nend"
    },
    {
      "id": "s6-81",
      "sectionId": "s6",
      "title": "for 循环迭代器",
      "kind": "code",
      "lang": "lua",
      "code": "for i, n in pairs({ 1, 2, 3, 4 }) do\n  print(i, n)\nend"
    },
    {
      "id": "s7-82",
      "sectionId": "s7",
      "title": "%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97",
      "kind": "code",
      "lang": "lua",
      "code": "--%20a.lua%0Alocal%20mod%20%3D%20%7B%7D%0A%0Amod.cool%20%3D%20%22this%20is%20a%20mod%22%0Afunction%20mod.test()%0A%20%20print(%22this%20is%20a%20function%22)%0Aend%0A%0Areturn%20mod",
      "encoded": true
    },
    {
      "id": "s7-83",
      "sectionId": "s7",
      "title": "导入模块",
      "kind": "text",
      "body": "一般我们可以直接使用 `require` 导入"
    },
    {
      "id": "s7-84",
      "sectionId": "s7",
      "title": "",
      "kind": "code",
      "lang": "lua",
      "code": "--%20b.lua%0A--%20local%20mod%20%3D%20require(%22a%22)%0A--%20%E4%BD%BF%E7%94%A8%20pcall%20%E7%A1%AE%E4%BF%9D%20require%20%E5%87%BD%E6%95%B0%E5%AF%BC%E5%85%A5%E6%88%90%E5%8A%9F%EF%BC%8C%E5%A4%B1%E8%B4%A5%E5%88%99%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%20false%20%E7%8A%B6%E6%80%81%0Alocal%20status%2C%20mod%20%3D%20pcall(require%2C%20%22a%22)%0A%0Aif%20not%20status%20then%0A%20%20return%0Aend%0A%0Amod.test()%0Aprint(mod.cool)",
      "encoded": true
    },
    {
      "id": "s7-85",
      "sectionId": "s7",
      "title": "%E7%A7%81%E6%9C%89%E5%87%BD%E6%95%B0",
      "kind": "code",
      "lang": "lua",
      "code": "local%20mod%20%3D%20%7B%7D%0A%0Alocal%20function%20private()%0A%20%20print(%22private%22)%0Aend%0A%0Afunction%20mod.public()%0A%20%20private()%0Aend%0A%0Areturn%20mod",
      "encoded": true
    },
    {
      "id": "s8-86",
      "sectionId": "s8",
      "title": "另见",
      "kind": "text",
      "body": "• [Lua 官网](http://www.lua.org) _(lua.org)_\n• [luatos](https://wiki.luatos.com/luaGuide/introduction.html) _(wiki.luatos.com)_\n• [Lua 教程](https://www.twle.cn/l/yufei/lua53/lua-basic-index.html) _(twle.cn)_"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/lua.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/lua.md",
    "lang": "zh",
    "mode": "local"
  }
}