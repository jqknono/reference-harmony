{
  "id": "expressjs",
  "title": "expressjs",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "Express 备忘清单\n==="
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[![NPM version](https://img.shields.io/npm/v/express.svg?style=flat)](https://npmjs.org/package/express)\n[![Downloads](https://img.shields.io/npm/dm/express.svg?style=flat)](https://www.npmjs.com/package/express)\n[![Repo Dependents](https://badgen.net/github/dependents-repo/expressjs/express)](https://github.com/expressjs/express/network/dependents)\n[![Github repo](https://badgen.net/badge/icon/Github?icon=github&label)](https://github.com/expressjs/express)"
    },
    {
      "id": "intro-2",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "这是用于 Node.js 的快速、不拘一格、极简主义的 Web 框架，包含 [Express.js](http://expressjs.com/) 的 API 参考列表和一些示例\n<!--rehype:style=padding-top: 12px;-->"
    },
    {
      "id": "intro-3",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "入门\n---"
    },
    {
      "id": "intro-4",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "• 创建项目，添加 `package.json` 配置"
    },
    {
      "id": "intro-5",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "```bash\n$ mkdir myapp # 创建目录\n$ cd myapp    # 进入目录\n$ npm init -y # 初始化一个配置\n```"
    },
    {
      "id": "intro-6",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "• 安装依赖"
    },
    {
      "id": "intro-7",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "```bash\n$ npm install express # 安装依赖\n```"
    },
    {
      "id": "intro-8",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "• 入口文件 `index.js` 添加代码："
    },
    {
      "id": "intro-9",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "```js\nconst express = require('express')\nconst app = express()\nconst port = 3000\napp.get('/', (req, res) => {\nres.send('Hello World!')\n})\napp.listen(port, () => {\nconsole.log(`监听端口${port}示例应用`)\n})\n```"
    },
    {
      "id": "intro-10",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "• 使用以下命令运行应用程序"
    },
    {
      "id": "intro-11",
      "sectionId": "intro",
      "title": "Hello World",
      "kind": "text",
      "body": "```bash\n$ node index.js\n```\n<!--rehype:className=style-timeline-->"
    },
    {
      "id": "intro-12",
      "sectionId": "intro",
      "title": "express -h",
      "kind": "code",
      "lang": "bash",
      "code": "Usage: express [options] [dir]\nOptions:\n  -h, --help          输出使用信息\n      --version       输出版本号\n  -e, --ejs           添加 ejs 引擎支持\n      --hbs           添加 hbs 引擎支持\n      --pug           添加 pug 引擎支持\n  -H, --hogan         添加 hogan.js 引擎支持\n      --no-view       无视图引擎生成\n  -v, --view <engine> 添加视图 <engine> 支持 (ejs|hbs|hjs|jade|pug|twig|vash) (默认jade) \n  -c, --css <engine>  添加样式表 <engine> 支持 (less|stylus|compass|sass) (默认css)\n      --git           添加 .gitignore\n  -f, --force         强制非空目录"
    },
    {
      "id": "intro-13",
      "sectionId": "intro",
      "title": "express -h",
      "kind": "text",
      "body": "创建一个 `myapp` 的项目"
    },
    {
      "id": "intro-14",
      "sectionId": "intro",
      "title": "express -h",
      "kind": "code",
      "lang": "bash",
      "code": "$ express --view=pug myapp\n# 运行应用程序\n$ DEBUG=myapp:* npm start"
    },
    {
      "id": "intro-15",
      "sectionId": "intro",
      "title": "express()",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`express.json()` | [#](http://expressjs.com/en/4x/api.html#express.json)\n`express.raw()` | [#](http://expressjs.com/en/4x/api.html#express.raw)\n`express.Router()` | [#](http://expressjs.com/en/4x/api.html#express.router)\n`express.static()` | [#](http://expressjs.com/en/4x/api.html#express.static)\n`express.text()` | [#](http://expressjs.com/en/4x/api.html#express.text)\n`express.urlencoded()` | [#](http://expressjs.com/en/4x/api.html#express.urlencoded)"
    },
    {
      "id": "intro-16",
      "sectionId": "intro",
      "title": "Router",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`router.all()` | [#](http://expressjs.com/en/4x/api.html#router.all)\n`router.METHOD()` | [#](http://expressjs.com/en/4x/api.html#router.METHOD)\n`router.param()` | [#](http://expressjs.com/en/4x/api.html#router.param)\n`router.route()` | [#](http://expressjs.com/en/4x/api.html#router.route)\n`router.use()` | [#](http://expressjs.com/en/4x/api.html#router.use)"
    },
    {
      "id": "intro-17",
      "sectionId": "intro",
      "title": "Application",
      "kind": "code",
      "lang": "js",
      "code": "var express = require('express')\nvar app = express()\n\nconsole.dir(app.locals.title)\n// => 'My App'\nconsole.dir(app.locals.email)\n// => 'me@myapp.com'"
    },
    {
      "id": "intro-18",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": "#### **属性**"
    },
    {
      "id": "intro-19",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`app.locals` | 应用程序中的局部变量 [#](http://expressjs.com/en/4x/api.html#app.locals)\n`app.mountpath` | 安装子应用程序的路径模式 [#](http://expressjs.com/en/4x/api.html#app.mountpath)"
    },
    {
      "id": "intro-20",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": "#### **Events**"
    },
    {
      "id": "intro-21",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`mount` | 子应用挂载到父应用上，子应用上触发事件 [#](http://expressjs.com/en/4x/api.html#app.onmount)"
    },
    {
      "id": "intro-22",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": "#### **方法**"
    },
    {
      "id": "intro-23",
      "sectionId": "intro",
      "title": "Application",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`app.all()` | [#](http://expressjs.com/en/4x/api.html#app.all)\n`app.delete()` | [#](http://expressjs.com/en/4x/api.html#app.delete.method)\n`app.disable()` | [#](http://expressjs.com/en/4x/api.html#app.disable)\n`app.disabled()` | [#](http://expressjs.com/en/4x/api.html#app.disabled)\n`app.enable()` | [#](http://expressjs.com/en/4x/api.html#app.enable)\n`app.enabled()` | [#](http://expressjs.com/en/4x/api.html#app.enabled)\n`app.engine()` | [#](http://expressjs.com/en/4x/api.html#app.engine)\n`app.get(name)` | [#](http://expressjs.com/en/4x/api.html#app.get)\n`app.get(path, callback)` | [#](http://expressjs.com/en/4x/api.html#app.get.method)\n`app.listen()` | [#](http://expressjs.com/en/4x/api.html#app.listen)\n`app.METHOD()` | [#](http://expressjs.com/en/4x/api.html#app.METHOD)\n`app.param()` | [#](http://expressjs.com/en/4x/api.html#app.param)\n`app.path()` | [#](http://expressjs.com/en/4x/api.html#app.path)\n`app.post()` | [#](http://expressjs.com/en/4x/api.html#app.post.method)\n`app.put()` | [#](http://expressjs.com/en/4x/api.html#app.put.method)\n`app.render()` | [#](http://expressjs.com/en/4x/api.html#app.render)\n`app.route()` | [#](http://expressjs.com/en/4x/api.html#app.route)\n`app.set()` | [#](http://expressjs.com/en/4x/api.html#app.set)\n`app.use()` | [#](http://expressjs.com/en/4x/api.html#app.use)"
    },
    {
      "id": "intro-24",
      "sectionId": "intro",
      "title": "Request",
      "kind": "text",
      "body": "#### 属性"
    },
    {
      "id": "intro-25",
      "sectionId": "intro",
      "title": "Request",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`req.app` | [#](http://expressjs.com/en/4x/api.html#req.app)\n`req.baseUrl` | [#](http://expressjs.com/en/4x/api.html#req.baseUrl)\n`req.body` | [#](http://expressjs.com/en/4x/api.html#req.body)\n`req.cookies` | [#](http://expressjs.com/en/4x/api.html#req.cookies)\n`req.fresh` | [#](http://expressjs.com/en/4x/api.html#req.fresh)\n`req.hostname` | [#](http://expressjs.com/en/4x/api.html#req.hostname)\n`req.ip` | [#](http://expressjs.com/en/4x/api.html#req.ip)\n`req.ips` | [#](http://expressjs.com/en/4x/api.html#req.ips)\n`req.method` | [#](http://expressjs.com/en/4x/api.html#req.method)\n`req.originalUrl` | [#](http://expressjs.com/en/4x/api.html#req.originalUrl)\n`req.params` | [#](http://expressjs.com/en/4x/api.html#req.params)\n`req.path` | [#](http://expressjs.com/en/4x/api.html#req.path)\n`req.protocol` | [#](http://expressjs.com/en/4x/api.html#req.protocol)\n`req.query` | [#](http://expressjs.com/en/4x/api.html#req.query)\n`req.route` | [#](http://expressjs.com/en/4x/api.html#req.route)\n`req.secure` | [#](http://expressjs.com/en/4x/api.html#req.secure)\n`req.signedCookies` | [#](http://expressjs.com/en/4x/api.html#req.signedCookies)\n`req.stale` | [#](http://expressjs.com/en/4x/api.html#req.stale)\n`req.subdomains` | [#](http://expressjs.com/en/4x/api.html#req.subdomains)\n`req.xhr` | [#](http://expressjs.com/en/4x/api.html#req.xhr)"
    },
    {
      "id": "intro-26",
      "sectionId": "intro",
      "title": "Request",
      "kind": "text",
      "body": "#### 方法"
    },
    {
      "id": "intro-27",
      "sectionId": "intro",
      "title": "Request",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`req.accepts()` | [#](http://expressjs.com/en/4x/api.html#req.accepts)\n`req.acceptsCharsets()` | [#](http://expressjs.com/en/4x/api.html#req.acceptsCharsets)\n`req.acceptsEncodings()` | [#](http://expressjs.com/en/4x/api.html#req.acceptsEncodings)\n`req.acceptsLanguages()` | [#](http://expressjs.com/en/4x/api.html#req.acceptsLanguages)\n`req.get()` | 获取HTTP 请求头字段 [#](http://expressjs.com/en/4x/api.html#req.get)\n`req.is()` | [#](http://expressjs.com/en/4x/api.html#req.is)\n`req.param()` | [#](http://expressjs.com/en/4x/api.html#req.param)\n`req.range()` | [#](http://expressjs.com/en/4x/api.html#req.range)"
    },
    {
      "id": "intro-28",
      "sectionId": "intro",
      "title": "Response",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/', function (req, res) {\n  console.dir(res.headersSent) // false\n  res.send('OK')\n  console.dir(res.headersSent) // true\n})"
    },
    {
      "id": "intro-29",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": "#### 属性"
    },
    {
      "id": "intro-30",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`res.app` | [#](http://expressjs.com/en/4x/api.html#res.app)\n`res.headersSent` | [#](http://expressjs.com/en/4x/api.html#res.headersSent)\n`res.locals` | [#](http://expressjs.com/en/4x/api.html#res.locals)"
    },
    {
      "id": "intro-31",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": "#### 方法"
    },
    {
      "id": "intro-32",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": ":- | :-\n:- | :-\n`res.append()` | [#](http://expressjs.com/en/4x/api.html#res.append)\n`res.attachment()` | [#](http://expressjs.com/en/4x/api.html#res.attachment)\n`res.cookie()` | [#](http://expressjs.com/en/4x/api.html#res.cookie)\n`res.clearCookie()` | [#](http://expressjs.com/en/4x/api.html#res.clearCookie)\n`res.download()` | 提示要下载的文件 [#](http://expressjs.com/en/4x/api.html#res.download)\n`res.end()` | 结束响应过程 [#](http://expressjs.com/en/4x/api.html#res.end)\n`res.format()` | [#](http://expressjs.com/en/4x/api.html#res.format)\n`res.get()` | [#](http://expressjs.com/en/4x/api.html#res.get)\n`res.json()` | 发送 JSON 响应 [#](http://expressjs.com/en/4x/api.html#res.json)\n`res.jsonp()` | 发送带有 JSONP 支持的响应 [#](http://expressjs.com/en/4x/api.html#res.jsonp)\n`res.links()` | [#](http://expressjs.com/en/4x/api.html#res.links)\n`res.location()` | [#](http://expressjs.com/en/4x/api.html#res.location)\n`res.redirect()` | 重定向请求 [#](http://expressjs.com/en/4x/api.html#res.redirect)\n`res.render()` | 渲染视图模板 [#](http://expressjs.com/en/4x/api.html#res.render)\n`res.send()` | 发送各种类型的响应 [#](http://expressjs.com/en/4x/api.html#res.send)\n`res.sendFile()` | 将文件作为八位字节流发送 [#](http://expressjs.com/en/4x/api.html#res.sendFile)\n`res.sendStatus()` | [#](http://expressjs.com/en/4x/api.html#res.sendStatus)\n`res.set()` | [#](http://expressjs.com/en/4x/api.html#res.set)\n`res.status()` | [#](http://expressjs.com/en/4x/api.html#res.status)\n`res.type()` | [#](http://expressjs.com/en/4x/api.html#res.type)\n`res.vary()` | [#](http://expressjs.com/en/4x/api.html#res.vary)"
    },
    {
      "id": "intro-33",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": "示例\n----"
    },
    {
      "id": "intro-34",
      "sectionId": "intro",
      "title": "Router",
      "kind": "text",
      "body": "为传递给此路由器的任何请求调用"
    },
    {
      "id": "intro-35",
      "sectionId": "intro",
      "title": "Router",
      "kind": "code",
      "lang": "js",
      "code": "router.use(function (req, res, next) {\n  // .. 这里有一些逻辑 .. 像任何其他中间件一样\n  next()\n})"
    },
    {
      "id": "intro-36",
      "sectionId": "intro",
      "title": "Router",
      "kind": "text",
      "body": "将处理任何以 `/events` 结尾的请求"
    },
    {
      "id": "intro-37",
      "sectionId": "intro",
      "title": "Router",
      "kind": "code",
      "lang": "js",
      "code": "// 取决于路由器在哪里 \"use()\"\nrouter.get('/events', (req, res, next) => {\n  // ..\n})"
    },
    {
      "id": "intro-38",
      "sectionId": "intro",
      "title": "Response",
      "kind": "text",
      "body": "`res` 对象表示 `Express` 应用程序在收到 HTTP 请求时发送的 HTTP 响应"
    },
    {
      "id": "intro-39",
      "sectionId": "intro",
      "title": "Response",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/user/:id', (req, res) => {\n  res.send('user ' + req.params.id)\n})"
    },
    {
      "id": "intro-40",
      "sectionId": "intro",
      "title": "Request",
      "kind": "text",
      "body": "`req` 对象表示 `HTTP` 请求，并具有请求查询字符串、参数、正文、HTTP 标头等的属性"
    },
    {
      "id": "intro-41",
      "sectionId": "intro",
      "title": "Request",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/user/:id', (req, res) => {\n  res.send('user ' + req.params.id)\n})"
    },
    {
      "id": "intro-42",
      "sectionId": "intro",
      "title": "res.end()",
      "kind": "code",
      "lang": "js",
      "code": "res.end()\nres.status(404).end()"
    },
    {
      "id": "intro-43",
      "sectionId": "intro",
      "title": "res.end()",
      "kind": "text",
      "body": "结束响应过程。这个方法其实来自 Node 核心，具体是 `http.ServerResponse` 的 `response.end()` 方法"
    },
    {
      "id": "intro-44",
      "sectionId": "intro",
      "title": "res.json([body])",
      "kind": "code",
      "lang": "js",
      "code": "res.json(null)\nres.json({ user: 'tobi' })\nres.status(500).json({ error: 'message' })"
    },
    {
      "id": "intro-45",
      "sectionId": "intro",
      "title": "app.all",
      "kind": "code",
      "lang": "js",
      "code": "app.all('/secret', function (req, res, next) {\n  console.log('访问秘密部分...')\n  next() // 将控制权传递给下一个处理程序\n})"
    },
    {
      "id": "intro-46",
      "sectionId": "intro",
      "title": "app.delete",
      "kind": "code",
      "lang": "js",
      "code": "app.delete('/', function (req, res) {\n  res.send('DELETE request to homepage')\n})"
    },
    {
      "id": "intro-47",
      "sectionId": "intro",
      "title": "app.disable(name)",
      "kind": "code",
      "lang": "js",
      "code": "app.disable('trust proxy')\napp.get('trust proxy')\n// => false"
    },
    {
      "id": "intro-48",
      "sectionId": "intro",
      "title": "app.disabled(name)",
      "kind": "code",
      "lang": "js",
      "code": "app.disabled('trust proxy')\n// => true\n\napp.enable('trust proxy')\napp.disabled('trust proxy')\n// => false"
    },
    {
      "id": "intro-49",
      "sectionId": "intro",
      "title": "app.engine(ext, callback)",
      "kind": "code",
      "lang": "js",
      "code": "var engines = require('consolidate')\n\napp.engine('haml', engines.haml)\napp.engine('html', engines.hogan)"
    },
    {
      "id": "intro-50",
      "sectionId": "intro",
      "title": "app.listen([port[, host[, backlog]]][, callback])",
      "kind": "code",
      "lang": "js",
      "code": "var express = require('express')\n\nvar app = express()\napp.listen(3000)"
    },
    {
      "id": "intro-51",
      "sectionId": "intro",
      "title": "路由",
      "kind": "code",
      "lang": "js",
      "code": "const express = require('express')\nconst app = express()\n\n// 向主页发出 GET 请求时响应“hello world”\napp.get('/', (req, res) => {\n  res.send('hello world')\n})"
    },
    {
      "id": "intro-52",
      "sectionId": "intro",
      "title": "路由",
      "kind": "code",
      "lang": "js",
      "code": "// GET 方法路由\napp.get('/', (req, res) => {\n  res.send('GET request to the homepage')\n})\n\n// POST 方法路由\napp.post('/', (req, res) => {\n  res.send('POST request to the homepage')\n})"
    },
    {
      "id": "intro-53",
      "sectionId": "intro",
      "title": "中间件",
      "kind": "code",
      "lang": "js",
      "code": "function logOriginalUrl (req, res, next) {\n  console.log('ReqURL:', req.originalUrl)\n  next()\n}\n\nfunction logMethod (req, res, next) {\n  console.log('Request Type:', req.method)\n  next()\n}\n\nconst log = [logOriginalUrl, logMethod]\n\napp.get('/user/:id', log,\n  (req, res, next)=>{\n    res.send('User Info')\n  }\n)"
    },
    {
      "id": "intro-54",
      "sectionId": "intro",
      "title": "使用模版",
      "kind": "code",
      "lang": "js",
      "code": "app.set('view engine', 'pug')"
    },
    {
      "id": "intro-55",
      "sectionId": "intro",
      "title": "使用模版",
      "kind": "text",
      "body": "在 `views` 目录下创建一个名为 `index.pug` 的 `Pug` 模板文件，内容如下"
    },
    {
      "id": "intro-56",
      "sectionId": "intro",
      "title": "使用模版",
      "kind": "code",
      "lang": "pug",
      "code": "html\n  head\n    title= title\n  body\n    h1= message"
    },
    {
      "id": "intro-57",
      "sectionId": "intro",
      "title": "使用模版",
      "kind": "text",
      "body": "创建一个路由来渲染 `index.pug` 文件。如果未设置视图引擎属性，则必须指定视图文件的扩展名"
    },
    {
      "id": "intro-58",
      "sectionId": "intro",
      "title": "使用模版",
      "kind": "code",
      "lang": "js",
      "code": "app.get('/', (req, res) => {\n  res.render('index', {\n    title: 'Hey', message: 'Hello there!'\n  })\n})"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/expressjs.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/expressjs.md",
    "generatedAt": "2025-12-16T07:36:11.207Z",
    "lang": "zh",
    "mode": "local"
  }
}