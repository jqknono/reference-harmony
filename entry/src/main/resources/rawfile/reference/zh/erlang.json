{
  "id": "erlang",
  "name": "Erlang 备忘清单",
  "title": "[Erlang](https://www.erlang.org/) 是一种用于构建并发、分布式和容错系统的编程语言。以下是一些常用的命令和操作。",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/erlang.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 1
    },
    {
      "id": "s2",
      "title": "代码结构",
      "startIndex": 5
    },
    {
      "id": "s3",
      "title": "数据类型",
      "startIndex": 9
    },
    {
      "id": "s4",
      "title": "控制结构",
      "startIndex": 16
    },
    {
      "id": "s5",
      "title": "列表操作",
      "startIndex": 19
    },
    {
      "id": "s6",
      "title": "并发",
      "startIndex": 20
    },
    {
      "id": "s7",
      "title": "常用内置函数 (BIFs)",
      "startIndex": 24
    },
    {
      "id": "s8",
      "title": "并发编程",
      "startIndex": 32
    },
    {
      "id": "s9",
      "title": "错误处理",
      "startIndex": 37
    },
    {
      "id": "s10",
      "title": "分布式编程",
      "startIndex": 40
    },
    {
      "id": "s11",
      "title": "OTP 框架",
      "startIndex": 43
    },
    {
      "id": "s12",
      "title": "测试",
      "startIndex": 45
    },
    {
      "id": "s13",
      "title": "另见",
      "startIndex": 47
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "kind": "text",
      "body": "[Erlang](https://www.erlang.org/) 是一种用于构建并发、分布式和容错系统的编程语言。以下是一些常用的命令和操作。"
    },
    {
      "id": "s1-1",
      "sectionId": "s1",
      "title": "启动 Erlang Shell",
      "kind": "code",
      "lang": "shell",
      "code": "erl"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "编译代码",
      "kind": "code",
      "lang": "shell",
      "code": "# 在 Erlang Shell 中编译\nc(module).\n# 在命令行中编译\nerlc module.erl"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "运行代码",
      "kind": "code",
      "lang": "shell",
      "code": "# 在 Erlang Shell 中运行\nmodule:function().\n# 从命令行运行\nerl -noshell -s module function -s init stop"
    },
    {
      "id": "s1-4",
      "sectionId": "s1",
      "title": "退出 Erlang Shell",
      "kind": "code",
      "lang": "shell",
      "code": "q()."
    },
    {
      "id": "s2-5",
      "sectionId": "s2",
      "title": "模块定义",
      "kind": "code",
      "lang": "erlang",
      "code": "-module(module_name).\n-export([function_name/arity, ...]).\n\nfunction_name(Args) ->\n    % Function body.\n    Result."
    },
    {
      "id": "s2-6",
      "sectionId": "s2",
      "title": "导出函数",
      "kind": "code",
      "lang": "erlang",
      "code": "-export([function1/0, function2/1])."
    },
    {
      "id": "s2-7",
      "sectionId": "s2",
      "title": "注释",
      "kind": "code",
      "lang": "erlang",
      "code": "% 单行注释\n% 这是一个注释"
    },
    {
      "id": "s2-8",
      "sectionId": "s2",
      "title": "变量",
      "kind": "code",
      "lang": "erlang",
      "code": "VarName = Value. % 变量名必须以大写字母开头\nAge = 25.\nName = \"Alice\"."
    },
    {
      "id": "s3-9",
      "sectionId": "s3",
      "title": "原子",
      "kind": "code",
      "lang": "erlang",
      "code": "atom.       % 例子：atom, 'Atom with spaces'"
    },
    {
      "id": "s3-10",
      "sectionId": "s3",
      "title": "数字",
      "kind": "code",
      "lang": "erlang",
      "code": "123.        % 整数\n3.14.       % 浮点数"
    },
    {
      "id": "s3-11",
      "sectionId": "s3",
      "title": "布尔值",
      "kind": "code",
      "lang": "erlang",
      "code": "true.\nfalse."
    },
    {
      "id": "s3-12",
      "sectionId": "s3",
      "title": "字符串",
      "kind": "code",
      "lang": "erlang",
      "code": "\"Hello, World!\"."
    },
    {
      "id": "s3-13",
      "sectionId": "s3",
      "title": "元组",
      "kind": "code",
      "lang": "erlang",
      "code": "{ok, \"Success\"}."
    },
    {
      "id": "s3-14",
      "sectionId": "s3",
      "title": "列表",
      "kind": "code",
      "lang": "erlang",
      "code": "[1, 2, 3].\n[H|T] = [1, 2, 3]. % H = 1, T = [2, 3]"
    },
    {
      "id": "s3-15",
      "sectionId": "s3",
      "title": "字典 (Map)",
      "kind": "code",
      "lang": "erlang",
      "code": "#{key1 => value1, key2 => value2}."
    },
    {
      "id": "s4-16",
      "sectionId": "s4",
      "title": "条件语句",
      "kind": "code",
      "lang": "erlang",
      "code": "if\n    Condition1 -> Expression1;\n    Condition2 -> Expression2;\n    true -> DefaultExpression\nend."
    },
    {
      "id": "s4-17",
      "sectionId": "s4",
      "title": "case 表达式",
      "kind": "code",
      "lang": "erlang",
      "code": "case Expression of\n    Pattern1 -> Expression1;\n    Pattern2 -> Expression2;\n    _ -> DefaultExpression\nend."
    },
    {
      "id": "s4-18",
      "sectionId": "s4",
      "title": "函数定义",
      "kind": "code",
      "lang": "erlang",
      "code": "% 无参函数\nmy_function() ->\n    ok.\n\n% 有参函数\nadd(A, B) ->\n    A + B."
    },
    {
      "id": "s5-19",
      "sectionId": "s5",
      "title": "列表生成",
      "kind": "code",
      "lang": "erlang",
      "code": "% 生成 1 到 10 的列表\n[ X || X <- lists:seq(1, 10)].\n\n% 生成 1 到 10 中的偶数\n[ X || X <- lists:seq(1, 10), X rem 2 == 0]."
    },
    {
      "id": "s6-20",
      "sectionId": "s6",
      "title": "启动进程",
      "kind": "code",
      "lang": "erlang",
      "code": "spawn(Module, Function, Args).\n\n% 示例\nPid = spawn(fun() -> io:format(\"Hello from process~n\") end)."
    },
    {
      "id": "s6-21",
      "sectionId": "s6",
      "title": "发送消息",
      "kind": "code",
      "lang": "erlang",
      "code": "Pid ! Message.\n\n% 示例\nPid ! {hello, self()}."
    },
    {
      "id": "s6-22",
      "sectionId": "s6",
      "title": "接收消息",
      "kind": "code",
      "lang": "erlang",
      "code": "receive\n    Pattern1 -> Expression1;\n    Pattern2 -> Expression2;\n    after Timeout -> TimeoutExpression\nend."
    },
    {
      "id": "s6-23",
      "sectionId": "s6",
      "title": "模式匹配",
      "kind": "code",
      "lang": "erlang",
      "code": "{ok, Value} = {ok, 42}."
    },
    {
      "id": "s7-24",
      "sectionId": "s7",
      "title": "列表操作",
      "kind": "code",
      "lang": "erlang",
      "code": "lists:append(List1, List2).\nlists:map(Function, List).\nlists:filter(Function, List).\nlists:foldl(Function, Acc, List)."
    },
    {
      "id": "s7-25",
      "sectionId": "s7",
      "title": "元组操作",
      "kind": "code",
      "lang": "erlang",
      "code": "element(N, Tuple).\nsetelement(N, Tuple, Value).\ntuple_size(Tuple)."
    },
    {
      "id": "s7-26",
      "sectionId": "s7",
      "title": "字符串操作",
      "kind": "code",
      "lang": "erlang",
      "code": "string:len(String).\nstring:concat(String1, String2).\nstring:tokens(String, Delimiters)."
    },
    {
      "id": "s7-27",
      "sectionId": "s7",
      "title": "文件操作",
      "kind": "code",
      "lang": "erlang",
      "code": "file:read_file(Filename).\nfile:write_file(Filename, Data).\nfile:delete(Filename)."
    },
    {
      "id": "s7-28",
      "sectionId": "s7",
      "title": "列表操作",
      "kind": "code",
      "lang": "erlang",
      "code": "lists:map(fun(X) -> X * 2 end, [1, 2, 3]).\nlists:filter(fun(X) -> X rem 2 == 0 end, [1, 2, 3, 4])."
    },
    {
      "id": "s7-29",
      "sectionId": "s7",
      "title": "字符串操作",
      "kind": "code",
      "lang": "erlang",
      "code": "string:len(\"Hello\").\nstring:upper(\"hello\")."
    },
    {
      "id": "s7-30",
      "sectionId": "s7",
      "title": "文件操作",
      "kind": "code",
      "lang": "erlang",
      "code": "{ok, File} = file:open(\"test.txt\", [write]).\nfile:write(File, \"Hello, file!\").\nfile:close(File)."
    },
    {
      "id": "s7-31",
      "sectionId": "s7",
      "title": "示例：简单的服务器",
      "kind": "code",
      "lang": "erlang",
      "code": "-module(server).\n-export([start/0, loop/0]).\n\nstart() ->\n    spawn(fun loop/0).\n\nloop() ->\n    receive\n        {echo, Msg} ->\n            io:format(\"Echo: ~p~n\", [Msg]),\n            loop();\n        stop ->\n            io:format(\"Server stopping~n\"),\n            ok;\n        _ ->\n            io:format(\"Unknown message~n\"),\n            loop()\n    end."
    },
    {
      "id": "s8-32",
      "sectionId": "s8",
      "title": "创建进程",
      "kind": "code",
      "lang": "erlang",
      "code": "Pid = spawn(Module, Function, Args)."
    },
    {
      "id": "s8-33",
      "sectionId": "s8",
      "title": "发送消息",
      "kind": "code",
      "lang": "erlang",
      "code": "Pid ! Message."
    },
    {
      "id": "s8-34",
      "sectionId": "s8",
      "title": "接收消息",
      "kind": "code",
      "lang": "erlang",
      "code": "receive\n    Pattern1 -> Actions1;\n    Pattern2 -> Actions2;\n    ...\nend."
    },
    {
      "id": "s8-35",
      "sectionId": "s8",
      "title": "链接进程",
      "kind": "code",
      "lang": "erlang",
      "code": "link(Pid).\nunlink(Pid)."
    },
    {
      "id": "s8-36",
      "sectionId": "s8",
      "title": "监控进程",
      "kind": "code",
      "lang": "erlang",
      "code": "MonitorRef = erlang:monitor(process, Pid).\nerlang:demonitor(MonitorRef)."
    },
    {
      "id": "s9-37",
      "sectionId": "s9",
      "title": "捕获异常",
      "kind": "code",
      "lang": "erlang",
      "code": "try Expression of\n    Pattern -> Result\ncatch\n    Class:Reason -> Handler\nend."
    },
    {
      "id": "s9-38",
      "sectionId": "s9",
      "title": "常见异常类型",
      "kind": "text",
      "body": "• `throw`\n• `error`\n• `exit`"
    },
    {
      "id": "s9-39",
      "sectionId": "s9",
      "title": "错误处理",
      "kind": "code",
      "lang": "erlang",
      "code": "try Expression of\n    Pattern -> Result\ncatch\n    Type:Reason -> ErrorHandlingExpression\nend."
    },
    {
      "id": "s10-40",
      "sectionId": "s10",
      "title": "启动分布式节点",
      "kind": "code",
      "lang": "shell",
      "code": "erl -name nodename@hostname -setcookie Cookie"
    },
    {
      "id": "s10-41",
      "sectionId": "s10",
      "title": "连接节点",
      "kind": "code",
      "lang": "erlang",
      "code": "net_adm:ping(Node)."
    },
    {
      "id": "s10-42",
      "sectionId": "s10",
      "title": "发送消息到远程节点",
      "kind": "code",
      "lang": "erlang",
      "code": "{remote_process, 'remote_node@host'} ! Message."
    },
    {
      "id": "s11-43",
      "sectionId": "s11",
      "title": "定义 GenServer",
      "kind": "code",
      "lang": "erlang",
      "code": "-module(my_gen_server).\n-behaviour(gen_server).\n\n-export([start_link/0, init/1, handle_call/3, handle_cast/2, handle_info/2, terminate/2, code_change/3]).\n\nstart_link() ->\n    gen_server:start_link({local, ?MODULE}, ?MODULE, [], []).\n\ninit([]) ->\n    {ok, #state{}}.\n\nhandle_call(Request, From, State) ->\n    {reply, Reply, State}.\n\nhandle_cast(Msg, State) ->\n    {noreply, State}.\n\nhandle_info(Info, State) ->\n    {noreply, State}.\n\nterminate(Reason, State) ->\n    ok.\n\ncode_change(OldVsn, State, Extra) ->\n    {ok, State}."
    },
    {
      "id": "s11-44",
      "sectionId": "s11",
      "title": "使用 GenServer",
      "kind": "code",
      "lang": "erlang",
      "code": "gen_server:start_link({local, Name}, Module, Args, Options).\ngen_server:call(ServerRef, Request).\ngen_server:cast(ServerRef, Msg)."
    },
    {
      "id": "s12-45",
      "sectionId": "s12",
      "title": "编写 EUnit 测试",
      "kind": "code",
      "lang": "erlang",
      "code": "-module(module_name_tests).\n-include_lib(\"eunit/include/eunit.hrl\").\n\nsimple_test() ->\n    ?assertEqual(Expected, Actual).\n\ncomplex_test_() ->\n    [\n        {\"Test case 1\", ?_assertEqual(Expected1, Actual1)},\n        {\"Test case 2\", ?_assertEqual(Expected2, Actual2)}\n    ]."
    },
    {
      "id": "s12-46",
      "sectionId": "s12",
      "title": "运行 EUnit 测试",
      "kind": "code",
      "lang": "shell",
      "code": "# 在命令行中运行\nerl -eval \"eunit:test(module_name)\" -s init stop"
    },
    {
      "id": "s13-47",
      "sectionId": "s13",
      "title": "另见",
      "kind": "text",
      "body": "• [Erlang 官方文档](https://www.erlang.org/docs)\n• [Erlang 编程书籍](https://learnyousomeerlang.com/content)"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/erlang.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/erlang.md",
    "lang": "zh",
    "mode": "local"
  }
}