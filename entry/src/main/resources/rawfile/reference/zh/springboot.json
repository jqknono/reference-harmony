{
  "id": "springboot",
  "name": "Spring Boot 备忘清单",
  "title": "此快速参考备忘单提供了使用 Spring Boot 的用法",
  "icon": "https://raw.githubusercontent.com/jaywcjlove/reference/main/assets/springboot.svg",
  "sections": [
    {
      "id": "intro",
      "title": "简介",
      "startIndex": 0
    },
    {
      "id": "s1",
      "title": "入门",
      "startIndex": 2
    },
    {
      "id": "s2",
      "title": "配置",
      "startIndex": 4
    },
    {
      "id": "s3",
      "title": "依赖管理",
      "startIndex": 24
    },
    {
      "id": "s4",
      "title": "Spring Boot 核心功能",
      "startIndex": 39
    },
    {
      "id": "s5",
      "title": "Web 开发",
      "startIndex": 51
    },
    {
      "id": "s6",
      "title": "**数据访问**",
      "startIndex": 64
    },
    {
      "id": "s7",
      "title": "测试",
      "startIndex": 85
    },
    {
      "id": "s8",
      "title": "部署与扩展",
      "startIndex": 92
    }
  ],
  "cards": [
    {
      "id": "intro-0",
      "sectionId": "intro",
      "title": "简介",
      "body": "此快速参考备忘单提供了使用 Spring Boot 的用法"
    },
    {
      "id": "intro-1",
      "sectionId": "intro",
      "title": "简介",
      "body": "注：开发 springboot 需要要基本的 java 基础和 maven 基础。"
    },
    {
      "id": "s1-2",
      "sectionId": "s1",
      "title": "介绍",
      "body": "Spring Boot 是一个用于简化 Spring 应用程序开发的框架。它提供了一种简单的方式来创建、运行和部署 Spring 应用程序，并简化了配置和依赖管理。"
    },
    {
      "id": "s1-3",
      "sectionId": "s1",
      "title": "项目创建与配置",
      "body": "• 使用 [`Spring Initializr`](https://start.spring.io) 创建项目\n• 国内可以使用阿里云的 [`Spring Initializr`](https://start.aliyun.com/) 创建项目，选择依赖项（如Web、JPA、Security）和 Spring Boot 版本\n• 添加所需的依赖项到 `pom.xml`(Maven) 或 `build.gradle`(Gradle) 文件中\n• 在 `src/main/resources` 目录下创建 `application.properties`或`application.yml` 文件，配置应用程序属性，例如数据库连接信息、端口号等"
    },
    {
      "id": "s2-4",
      "sectionId": "s2",
      "title": "配置文件说明",
      "body": "在Spring Boot应用程序中，通常使用YAML格式（`.yml`文件）来配置应用程序的属性和设置。相比于传统的`.properties`文件，YAML格式更加清晰易读，并且支持层级结构和列表等复杂数据类型。以下是一些常用的Spring Boot YAML配置字段及其说明：\n\n• `server.port`: 配置应用程序的端口号。\n• `spring.application.name`: 配置应用程序的名称。\n• `spring.datasource.url`: 配置数据库连接的URL。\n• `spring.datasource.username`: 配置数据库连接的用户名。\n• `spring.datasource.password`: 配置数据库连接的密码。\n• `logging.level`: 配置日志记录的级别，如`DEBUG`、`INFO`、`WARN`、`ERROR`等。\n• `management.endpoints.web.exposure.include`: 配置哪些管理端点（如`health`、`info`）可以通过Web访问。\n• `spring.jpa.hibernate.ddl-auto`: 配置Hibernate的DDL模式，如`update`、`create`、`create-drop`等。"
    },
    {
      "id": "s2-6",
      "sectionId": "s2",
      "title": "1. 应用程序配置",
      "body": "```yaml\nspring:\n  application:\n    name: my-application\n```\n\n`spring.application.name`: 应用程序的名称。在集成服务发现和配置管理时特别有用，也会影响Actuator端点的路径。"
    },
    {
      "id": "s2-8",
      "sectionId": "s2",
      "title": "2. 服务器端口配置",
      "body": "```yaml\nserver:\n  port: 8080\n```\n\n`server.port`: 应用程序监听的HTTP端口号。默认为8080，可以根据需要进行配置。"
    },
    {
      "id": "s2-10",
      "sectionId": "s2",
      "title": "3. 数据源配置",
      "body": "```yaml\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/mydatabase\n    username: root\n    password: password\n    driver-class-name: com.mysql.cj.jdbc.Driver # 这里是 MySQL8.0 版本配置，5.0 则是 com.mysql.jdbc.Driver \n```"
    },
    {
      "id": "s2-11",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `spring.datasource.url`: 数据库连接URL。\n• `spring.datasource.username` 和 `spring.datasource.password`: 数据库的用户名和密码。\n• `spring.datasource.driver-class-name`: 数据库驱动类名。"
    },
    {
      "id": "s2-12",
      "sectionId": "s2",
      "title": "4. **JPA 配置**",
      "body": "```yaml\nspring:\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n```"
    },
    {
      "id": "s2-13",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `spring.jpa.show-sql`: 是否在控制台显示SQL语句。\n• `spring.jpa.hibernate.ddl-auto`: Hibernate自动建表策略，如`update`、`create`、`validate`等。"
    },
    {
      "id": "s2-14",
      "sectionId": "s2",
      "title": "5. 日志配置",
      "body": "```yaml\nlogging:\n  level:\n    org.springframework: INFO\n    com.example: DEBUG\n```"
    },
    {
      "id": "s2-15",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `logging.level`: 日志级别配置，可以针对不同的包或类设置不同的日志级别。"
    },
    {
      "id": "s2-16",
      "sectionId": "s2",
      "title": "6. Spring Security 配置",
      "body": "```yaml\nspring:\n  security:\n    user:\n      name: user\n      password: password\n    basic:\n      enabled: true\n```"
    },
    {
      "id": "s2-17",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `spring.security.user.name` 和 `spring.security.user.password`: 基本认证的用户名和密码。\n• `spring.security.basic.enabled`: 是否启用基本认证。"
    },
    {
      "id": "s2-18",
      "sectionId": "s2",
      "title": "7. Actuator 配置",
      "body": "```yaml\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health, info\n```"
    },
    {
      "id": "s2-19",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `management.endpoints.web.exposure.include`: 暴露给外部的Actuator端点，可以设置为`*`来暴露所有端点。"
    },
    {
      "id": "s2-20",
      "sectionId": "s2",
      "title": "8. 多环境配置",
      "body": "```yaml\nspring:\n  profiles:\n    active: dev\n```"
    },
    {
      "id": "s2-21",
      "sectionId": "s2",
      "title": "说明",
      "body": "• `spring.profiles.active`: 指定当前激活的环境配置文件，可以根据需要选择`dev`、`prod`等不同的配置文件。"
    },
    {
      "id": "s2-22",
      "sectionId": "s2",
      "title": "9. **自定义属性配置**",
      "body": "```yaml\nmyapp:\n  custom:\n    property: value\n```"
    },
    {
      "id": "s2-23",
      "sectionId": "s2",
      "title": "说明",
      "body": "• 自定义应用程序属性，可以在应用程序中通过`@Value`注解或`Environment`对象访问。"
    },
    {
      "id": "s3-24",
      "sectionId": "s3",
      "title": "依赖管理介绍",
      "body": "• 在 Spring Boot 中，依赖管理是非常重要的一部分。\n• 它通过简化依赖项的引入和版本管理，大大简化了项目的构建和维护过程。\n• Spring Boot采用了 Starter 依赖项的概念，通过提供预配置的依赖项集合来简化项目的初始化和配置。"
    },
    {
      "id": "s3-25",
      "sectionId": "s3",
      "title": "Starter 依赖项",
      "body": "Spring Boot 的 Starter 依赖项是预先配置的一组依赖项集合，它们以 `spring-boot-starter-*` 的命名格式提供。这些 Starter 依赖项可以按照功能领域进行分类，例如：\n\n• `spring-boot-starter-web`: 支持构建Web应用程序，包括Spring MVC和内嵌的Servlet容器（如Tomcat）。\n• `spring-boot-starter-data-jpa`: 支持使用Spring Data JPA访问数据库，包括Hibernate和JPA实现。\n• `spring-boot-starter-security`: 支持Spring Security，用于身份验证和授权。\n• `spring-boot-starter-test`: 支持单元测试和集成测试，包括JUnit、Mockito等。\n• `spring-boot-starter-actuator`: 支持集成Actuator，用于监控和管理应用程序。\n\n引入Starter依赖项可以快速添加特定功能，Spring Boot会自动配置所需的组件和设置，减少手动配置工作量。"
    },
    {
      "id": "s3-28",
      "sectionId": "s3",
      "title": "自动依赖解析和版本管理",
      "body": "Spring Boot的BOM（Bill of Materials）集中管理各个 Starter 依赖项的版本，通过在`pom.xml`（Maven）或 `build.gradle`（Gradle）中引入 BOM，可以简化依赖项版本管理。例如，在 Maven 项目中：\n\n```xml\n<dependencyManagement>\n  <dependencies>\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-dependencies</artifactId>\n      <version>2.6.0</version>\n      <type>pom</type>\n      <scope>import</scope>\n    </dependency>\n  </dependencies>\n</dependencyManagement>\n```\n\n这样一来，当你在项目中引入 Spring Boot 的 Starter 依赖项时，不需要显式声明版本号，Maven 会自动使用 BOM 中指定的版本。"
    },
    {
      "id": "s3-31",
      "sectionId": "s3",
      "title": "自定义依赖管理",
      "body": "尽管Spring Boot提供了丰富的Starter依赖项和依赖管理功能，但有时你可能需要自定义特定的依赖项或版本。在这种情况下，你可以在`pom.xml`或`build.gradle`中显式声明所需的依赖项，而不使用Starter依赖项。\n\n例如，在Maven项目中，你可以这样声明一个依赖项：\n\n```xml\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-web</artifactId>\n  <version>2.6.0</version>\n</dependency>\n```\n\n这样做可以覆盖Spring Boot BOM中指定的版本，允许你使用特定版本的依赖项。"
    },
    {
      "id": "s3-35",
      "sectionId": "s3",
      "title": "排除和冲突解决",
      "body": "在实际项目中，可能会遇到依赖项之间的冲突或不兼容性问题。Spring Boot允许你通过`<exclusions>`标签来排除Starter依赖项中的某些传递性依赖，以解决冲突问题。\n\n例如，在Maven项目中排除传递性依赖：\n\n```xml\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-web</artifactId>\n  <exclusions>\n    <exclusion>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-tomcat</artifactId>\n    </exclusion>\n  </exclusions>\n</dependency>\n```\n\n这种排除机制使得你可以更精确地控制项目中依赖项的版本和组合，以避免不必要的冲突。"
    },
    {
      "id": "s4-39",
      "sectionId": "s4",
      "title": "依赖注入（Dependency Injection）",
      "body": "依赖注入是Spring框架的核心概念之一，它通过控制反转（IoC，Inversion of Control）的方式管理对象之间的依赖关系，从而实现松耦合、可测试和可维护的代码结构。Spring Boot通过自动配置的方式支持依赖注入，以下是一些关键点："
    },
    {
      "id": "s4-40",
      "sectionId": "s4",
      "title": "自动装配（Auto-configuration）",
      "body": "Spring Boot根据类路径中的依赖项自动配置应用程序上下文。这包括自动扫描和注册带有特定注解（如`@Component`、`@Service`、`@Repository`等）的Bean，以及自动解析和注入这些Bean之间的依赖关系。"
    },
    {
      "id": "s4-41",
      "sectionId": "s4",
      "title": "Bean的声明和管理",
      "body": "开发者可以使用`@Autowired`注解在需要依赖注入的地方注入其他Bean，Spring Boot会自动解析和注入所需的依赖。例如：\n\n```java\n@RestController\npublic class MyContr {\n  private final MyService myService;\n  \n  @Autowired\n  public MyContr(MyService myService) {\n      this.myService = myService;\n  }\n  \n  // Controller methods\n}\n```\n\n在上面的例子中，`MyController`中的`MyService`依赖通过构造函数注入。"
    },
    {
      "id": "s4-44",
      "sectionId": "s4",
      "title": "条件化注入",
      "body": "Spring Boot支持根据条件选择性地注入Bean。例如，可以使用 `@Conditional` 注解或 `@ConditionalOnProperty` 注解根据特定的条件决定是否创建和注入Bean。"
    },
    {
      "id": "s4-45",
      "sectionId": "s4",
      "title": "面向切面编程（Aspect-Oriented Programming）",
      "body": "面向切面编程是一种软件开发方法，用于分离横切关注点（cross-cutting concerns），例如日志、事务管理、安全性等，以便更好地模块化和管理应用程序。Spring Boot通过整合Spring AOP框架支持面向切面编程，以下是相关的说明："
    },
    {
      "id": "s4-46",
      "sectionId": "s4",
      "title": "切面（Aspect）",
      "body": "切面是一个模块化的类，它包含了横切关注点的逻辑。在Spring Boot中，可以使用`@Aspect`注解标记一个类作为切面，并通过`@Before`、`@After`、`@Around`等注解定义切面的具体行为。"
    },
    {
      "id": "s4-47",
      "sectionId": "s4",
      "title": "%E5%88%87%E7%82%B9%EF%BC%88Pointcut%EF%BC%89",
      "body": "%E5%88%87%E7%82%B9%E5%AE%9A%E4%B9%89%E4%BA%86%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%93%AA%E4%BA%9B%E4%BD%8D%E7%BD%AE%E5%BA%94%E7%94%A8%E5%88%87%E9%9D%A2%E9%80%BB%E8%BE%91%E3%80%82%E5%88%87%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BD%BF%E7%94%A8%60execution%60%E5%85%B3%E9%94%AE%E5%AD%97%E6%8C%87%E5%AE%9A%E8%A6%81%E6%8B%A6%E6%88%AA%E7%9A%84%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9A%0A%0A%60%60%60java%0A%40Aspect%0A%40Component%0Apublic%20class%20LoggingAspect%20%7B%0A%20%20%20%20%0A%20%20%20%20%40Before(%22execution(*%20com.example.service.*.*(..))%22)%0A%20%20%20%20public%20void%20beforeServiceMethods(JoinPoint%20joinPoint)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Advice%20logic%20before%20service%20method%20execution%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Other%20advices%20(e.g.%2C%20%40After%2C%20%40Around)%20can%20be%20defined%20similarly%0A%7D%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s4-49",
      "sectionId": "s4",
      "title": "通知（Advice）",
      "body": "通知是在切点处执行的具体逻辑，包括`@Before`、`@AfterReturning`、`@AfterThrowing`、`@Around`等。例如，在上面的例子中，`beforeServiceMethods`方法就是一个`@Before`通知，它在目标方法执行之前执行。"
    },
    {
      "id": "s4-50",
      "sectionId": "s4",
      "title": "配置和启用",
      "body": "Spring Boot通过自动配置和注解扫描使得使用AOP变得非常简单。通常情况下，只需在切面类上加上`@Aspect`注解，并确保它被Spring Boot的组件扫描机制扫描到即可。"
    },
    {
      "id": "s5-51",
      "sectionId": "s5",
      "title": "1.%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%20Spring%20Boot%20%E9%A1%B9%E7%9B%AE",
      "body": "%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20Spring%20Initializr%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%20Spring%20Boot%20%E9%A1%B9%E7%9B%AE%E3%80%82%E8%AE%BF%E9%97%AE%20%5Bstart.spring.io%5D(https%3A%2F%2Fstart.spring.io%2F)%20%E5%B9%B6%E6%8C%89%E7%85%A7%E4%BB%A5%E4%B8%8B%E9%85%8D%E7%BD%AE%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%9A%0A%0A%E2%80%A2%20**Project**%3A%20Maven%20%E6%88%96%20Gradle%EF%BC%88%E9%80%89%E6%8B%A9%E4%BD%A0%E7%9A%84%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%EF%BC%89%0A%E2%80%A2%20**Language**%3A%20Java%0A%E2%80%A2%20**Spring%20Boot**%3A%20%E9%80%89%E6%8B%A9%E6%9C%80%E6%96%B0%E7%9A%84%E7%A8%B3%E5%AE%9A%E7%89%88%E6%9C%AC%0A%E2%80%A2%20**Project%20Metadata**%3A%0A%E2%80%A2%20**Group**%3A%20com.example%EF%BC%88%E6%88%96%E8%80%85%E4%BD%A0%E5%96%9C%E6%AC%A2%E7%9A%84%20Group%20ID%EF%BC%89%0A%E2%80%A2%20**Artifact**%3A%20helloworld%EF%BC%88%E6%88%96%E8%80%85%E4%BD%A0%E5%96%9C%E6%AC%A2%E7%9A%84%20Artifact%20ID%EF%BC%89%0A%E2%80%A2%20**Dependencies**%3A%20%E9%80%89%E6%8B%A9%20%22Spring%20Web%22%0A%0A%E7%82%B9%E5%87%BB%20%22Generate%22%20%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE%E7%9A%84%20zip%20%E6%96%87%E4%BB%B6%E3%80%82",
      "encoded": true
    },
    {
      "id": "s5-54",
      "sectionId": "s5",
      "title": "2. 将项目导入到你的 IDE 中",
      "body": "解压下载的文件并导入到你喜欢的 IDE 中（如 IntelliJ IDEA、Eclipse 等）。"
    },
    {
      "id": "s5-55",
      "sectionId": "s5",
      "title": "3.%20%E5%AE%9E%E7%8E%B0%20Hello%20World%20Controller",
      "body": "%E5%9C%A8%20IDE%20%E4%B8%AD%E6%89%93%E5%BC%80%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%EF%BC%8C%E5%AF%BC%E8%88%AA%E5%88%B0%20%60src%2Fmain%2Fjava%2Fcom%2Fexample%2Fhelloworld%60%E3%80%82%E4%BD%A0%E4%BC%9A%E7%9C%8B%E5%88%B0%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%20%60HelloworldApplication.java%60%20%E7%9A%84%E7%B1%BB%E6%96%87%E4%BB%B6%EF%BC%8C%E8%BF%99%E6%98%AF%20Spring%20Boot%20%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%85%A5%E5%8F%A3%E7%B1%BB%E3%80%82%0A%0A%E5%9C%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%E7%9A%84%E5%90%8C%E7%BA%A7%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%20Java%20%E7%B1%BB%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BE%8B%E5%A6%82%20%60HelloController.java%60%EF%BC%8C%E5%B9%B6%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E5%86%85%E5%AE%B9%EF%BC%9A%0A%0A%60%60%60java%0Apackage%20com.example.helloworld%3B%0A%0Aimport%20org.springframework.web.bind.annotation.GetMapping%3B%0Aimport%20org.springframework.web.bind.annotation.RestController%3B%0A%0A%40RestController%0Apublic%20class%20HelloController%20%7B%0A%0A%20%20%20%20%40GetMapping(%22%2F%22)%0A%20%20%20%20public%20String%20hello()%20%7B%0A%20%20%20%20%20%20%20%20return%20%22Hello%2C%20World!%22%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s5-58",
      "sectionId": "s5",
      "title": "4. 运行应用程序",
      "body": "使用 Maven 或 Gradle 构建项目并启动应用程序。可以通过 IDE 的运行功能或者命令行执行以下命令：\n\n```bash\nmvn spring-boot:run\n```\n\n或者\n\n```bash\n./gradlew bootRun\n```"
    },
    {
      "id": "s5-62",
      "sectionId": "s5",
      "title": "5.%20%E8%AE%BF%E9%97%AE%20Hello%20World%20%E9%A1%B5%E9%9D%A2",
      "body": "%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%AE%BF%E9%97%AE%20%60http%3A%2F%2Flocalhost%3A8080%2F%60%EF%BC%8C%E4%BD%A0%E5%BA%94%E8%AF%A5%E8%83%BD%E5%A4%9F%E7%9C%8B%E5%88%B0%E6%98%BE%E7%A4%BA%20%22Hello%2C%20World!%22%20%E7%9A%84%E9%A1%B5%E9%9D%A2%E3%80%82%0A%0A%E8%BF%99%E6%A0%B7%EF%BC%8C%E4%BD%A0%E5%B0%B1%E6%88%90%E5%8A%9F%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%20Spring%20Boot%20Web%20%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%B9%B6%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%9A%84%20%22Hello%2C%20World!%22%20%E7%A4%BA%E4%BE%8B%E3%80%82",
      "encoded": true
    },
    {
      "id": "s6-64",
      "sectionId": "s6",
      "title": "1.创建过程和 web 项目示例一样",
      "body": "注意：需要选择 jpa 和对应数据库的驱动"
    },
    {
      "id": "s6-65",
      "sectionId": "s6",
      "title": "2. 配置数据库连接",
      "body": "默认情况下，Spring Boot 使用 H2 Database 作为内嵌数据库。如果你想使用其他数据库，可以在 `application.properties`（或 `application.yml`）文件中配置数据库连接信息。\n\n例如，使用 H2 Database 的默认配置：\n\n```properties\n# application.properties\n\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=username\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto=update\n```"
    },
    {
      "id": "s6-68",
      "sectionId": "s6",
      "title": "5.%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%8E%A7%E5%88%B6%E5%99%A8%E6%9D%A5%E6%B5%8B%E8%AF%95",
      "body": "%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%8E%A7%E5%88%B6%E5%99%A8%20%60UserController%60%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%A4%84%E7%90%86%20HTTP%20%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%B9%B6%E6%93%8D%E4%BD%9C%20%60UserRepository%60%20%E6%9D%A5%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%82%0A%0A%60%60%60java%0Apackage%20com.example.userdemo%3B%0A%0Aimport%20org.springframework.beans.factory.annotation.Autowired%3B%0Aimport%20org.springframework.web.bind.annotation.*%3B%0A%0Aimport%20java.util.List%3B%0A%0A%40RestController%0A%40RequestMapping(%22%2Fusers%22)%0Apublic%20class%20UserController%20%7B%0A%0A%20%20%20%20%40Autowired%0A%20%20%20%20private%20UserRepository%20userRepository%3B%0A%0A%20%20%20%20%2F%2F%20%20%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7%0A%20%20%20%20%40GetMapping(%22%2F%22)%0A%20%20%20%20public%20List%3CUser%3E%20getAllUsers()%20%7B%0A%20%20%20%20%20%20%20%20return%20userRepository.findAll()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E9%80%9A%E8%BF%87%20id%20%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%0A%20%20%20%20%40GetMapping(%22%2F%7Bid%7D%22)%0A%20%20%20%20public%20User%20getUserById(%40PathVariable(%22id%22)%20Long%20id)%20%7B%0A%20%20%20%20%20%20%20%20return%20userRepository.findById(id).orElse(null)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20POST%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%94%A8%E6%88%B7%0A%20%20%20%20%40PostMapping(%22%2F%22)%0A%20%20%20%20public%20User%20addUser(%40RequestBody%20User%20user)%20%7B%0A%20%20%20%20%20%20%20%20return%20userRepository.save(user)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20PUT%20%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%0A%20%20%20%20%40PutMapping(%22%2F%7Bid%7D%22)%0A%20%20%20%20public%20User%20updateUser(%40PathVariable(%22id%22)%20Long%20id%2C%20%40RequestBody%20User%20userDetails)%20%7B%0A%20%20%20%20%20%20%20%20User%20user%20%3D%20userRepository.findById(id).orElse(null)%3B%0A%20%20%20%20%20%20%20%20if%20(user%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20user.setUsername(userDetails.getUsername())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20user.setAge(userDetails.getAge())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20user.setSex(userDetails.getSex())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20userRepository.save(user)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20DELETE%20%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%20%0A%20%20%20%20%40DeleteMapping(%22%2F%7Bid%7D%22)%0A%20%20%20%20public%20void%20deleteUser(%40PathVariable(%22id%22)%20Long%20id)%20%7B%0A%20%20%20%20%20%20%20%20userRepository.deleteById(id)%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s6-70",
      "sectionId": "s6",
      "title": "4. 创建 UserRepository 接口",
      "body": "在同样的目录下创建一个接口 `UserRepository`，继承自 `JpaRepository<User, Long>`，这样 Spring Data JPA 将会自动实现一些基本的数据库操作方法。\n\n```java\npackage com.example.userdemo;\nimport org.springframework.data.jpa.repository.JpaRepository;\npublic interface UserRepository extends JpaRepository<User, Long> {\n}\n```"
    },
    {
      "id": "s6-72",
      "sectionId": "s6",
      "title": "3.  创建实体类 `User`",
      "body": "在 `src/main/java/com/example/userdemo` 目录下创建一个名为 `User` 的实体类：\n\n```java\npackage com.example.userdemo;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long userId;\n    private String username;\n    private Integer age;\n    private String sex;\n    // Constructors, getters, and setters 省略\n}\n```"
    },
    {
      "id": "s6-74",
      "sectionId": "s6",
      "title": "6. 运行应用程序并测试",
      "body": "使用 Maven 或 Gradle 构建并运行你的应用程序。然后，可以使用 Postman 或浏览器访问以下 API 来测试你的应用程序：\n\n• **GET** `http://localhost:8080/users/`\n\n获取所有用户\n\n• **GET** `http://localhost:8080/users/{id}`\n\n根据用户ID获取用户信息\n\n• **POST** `http://localhost:8080/users/`\n\n添加新用户（Body 中包含 JSON 数据）\n\n• **PUT** `http://localhost:8080/users/{id}`\n\n更新用户信息（Body 中包含 JSON 数据）\n\n• **DELETE** `http://localhost:8080/users/{id}`\n\n删除用户"
    },
    {
      "id": "s7-85",
      "sectionId": "s7",
      "title": "1.%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E9%A1%B9%E7%9B%AE",
      "body": "%E5%9C%A8%20%60src%2Fmain%2Fjava%2Fcom%2Fexample%2Fdemo%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%20%60HelloController.java%60%20%E7%9A%84%E7%B1%BB%EF%BC%9A%0A%0A%60%60%60java%0Apackage%20com.example.demo%3B%0A%0Aimport%20org.springframework.web.bind.annotation.GetMapping%3B%0Aimport%20org.springframework.web.bind.annotation.RestController%3B%0A%0A%40RestController%0Apublic%20class%20HelloController%20%7B%0A%20%20%40GetMapping(%22%2Fhello%22)%0A%20%20public%20String%20hello()%20%7B%0A%20%20%20%20%20%20return%20%22Hello%2C%20World!%22%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B%E5%90%8C%20web%20%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA",
      "encoded": true
    },
    {
      "id": "s7-88",
      "sectionId": "s7",
      "title": "2.%20%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%B1%BB",
      "body": "%E5%9C%A8%20%60src%2Ftest%2Fjava%2Fcom%2Fexample%2Fdemo%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%20%60HelloControllerTest.java%60%20%E7%9A%84%E6%B5%8B%E8%AF%95%E7%B1%BB%EF%BC%9A%0A%0A%60%60%60java%0Apackage%20com.example.demo%3B%0A%0Aimport%20org.junit.jupiter.api.Test%3B%0Aimport%20org.springframework.beans.factory.annotation.Autowired%3B%0Aimport%20org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc%3B%0Aimport%20org.springframework.boot.test.context.SpringBootTest%3B%0Aimport%20org.springframework.test.context.junit.jupiter.web.SpringJUnitWebConfig%3B%0Aimport%20org.springframework.test.web.servlet.MockMvc%3B%0Aimport%20org.springframework.test.web.servlet.request.MockMvcRequestBuilders%3B%0Aimport%20org.springframework.test.web.servlet.result.MockMvcResultMatchers%3B%0A%0Aimport%20static%20org.springframework.test.web.servlet.result.MockMvcResultHandlers.print%3B%0A%0A%40SpringBootTest%0A%40AutoConfigureMockMvc%0Apublic%20class%20HelloControllerTest%20%7B%0A%0A%20%20%20%20%40Autowired%0A%20%20%20%20private%20MockMvc%20mockMvc%3B%0A%0A%20%20%20%20%40Test%0A%20%20%20%20public%20void%20helloTest()%20throws%20Exception%20%7B%0A%20%20%20%20%20%20%20%20mockMvc.perform(MockMvcRequestBuilders.get(%22%2Fhello%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.andExpect(MockMvcResultMatchers.status().isOk())%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.andExpect(MockMvcResultMatchers.content().string(%22Hello%2C%20World!%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.andDo(print())%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60",
      "encoded": true
    },
    {
      "id": "s7-90",
      "sectionId": "s7",
      "title": "3.%20%E8%A7%A3%E9%87%8A%E6%B5%8B%E8%AF%95%E7%B1%BB%E7%9A%84%E5%85%B3%E9%94%AE%E7%82%B9",
      "body": "%E2%80%A2%20%60%40SpringBootTest%60%3A%20%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E5%91%8A%E8%AF%89%20Spring%20Boot%20%E5%9C%A8%E6%B5%8B%E8%AF%95%E6%97%B6%E5%90%AF%E5%8A%A8%E6%95%B4%E4%B8%AA%20Spring%20%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%8A%E4%B8%8B%E6%96%87%E3%80%82%0A%E2%80%A2%20%60%40AutoConfigureMockMvc%60%3A%20%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%A1%AE%E4%BF%9D%E5%9C%A8%E6%B5%8B%E8%AF%95%E4%B8%AD%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%20MockMvc%20%E5%AE%9E%E4%BE%8B%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%A8%A1%E6%8B%9F%20HTTP%20%E8%AF%B7%E6%B1%82%E3%80%82%0A%E2%80%A2%20%60%40Autowired%20private%20MockMvc%20mockMvc%60%3A%20%E6%B3%A8%E5%85%A5%20MockMvc%20%E5%AE%9E%E4%BE%8B%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%89%A7%E8%A1%8C%20HTTP%20%E8%AF%B7%E6%B1%82%E5%B9%B6%E9%AA%8C%E8%AF%81%E5%93%8D%E5%BA%94%E3%80%82%0A%E2%80%A2%20%60%40Test%20public%20void%20helloTest()%60%3A%20%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%20JUnit%20%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%A8%E6%9D%A5%E6%B5%8B%E8%AF%95%20%60HelloController%60%20%E4%B8%AD%E7%9A%84%20%60hello()%60%20%E6%96%B9%E6%B3%95%E3%80%82%0A%E2%80%A2%20%60mockMvc.perform(...)%60%3A%20%E6%89%A7%E8%A1%8C%E4%B8%80%E4%B8%AA%20GET%20%E8%AF%B7%E6%B1%82%E5%88%B0%20%60%2Fhello%60%20%E6%8E%A5%E5%8F%A3%E3%80%82%0A%E2%80%A2%20%60andExpect(MockMvcResultMatchers.status().isOk())%60%3A%20%E9%A2%84%E6%9C%9F%E5%93%8D%E5%BA%94%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E6%98%AF%20200%20OK%E3%80%82%0A%E2%80%A2%20%60andExpect(MockMvcResultMatchers.content().string(%22Hello%2C%20World!%22))%60%3A%20%E9%A2%84%E6%9C%9F%E5%93%8D%E5%BA%94%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%20%22Hello%2C%20World!%22%E3%80%82%0A%E2%80%A2%20%60andDo(print())%60%3A%20%E6%89%93%E5%8D%B0%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%96%B9%E4%BE%BF%E8%B0%83%E8%AF%95%E3%80%82",
      "encoded": true
    },
    {
      "id": "s7-91",
      "sectionId": "s7",
      "title": "4. 运行测试",
      "body": "运行测试，确保程序正确."
    },
    {
      "id": "s8-92",
      "sectionId": "s8",
      "title": "1. 打包方式",
      "body": "Spring Boot 应用程序可以打包为以下几种方式之一："
    },
    {
      "id": "s8-93",
      "sectionId": "s8",
      "title": "可执行 JAR 文件",
      "body": "• 最常见的方式是将 Spring Boot 应用程序打包成一个可执行的 JAR 文件（Java Archive）。\n• JAR 文件中包含了所有的依赖项，可以通过 `java -jar` 命令来运行。"
    },
    {
      "id": "s8-94",
      "sectionId": "s8",
      "title": "WAR 文件",
      "body": "• 如果你需要将 Spring Boot 应用程序部署到外部的 Servlet 容器（如 Tomcat、Jetty 等），你可以将应用程序打包成一个 WAR 文件（Web Application Archive）。\n• WAR 文件适合传统的 Java Web 应用程序部署方式。"
    },
    {
      "id": "s8-95",
      "sectionId": "s8",
      "title": "3. 打包过程概述",
      "body": "当你运行 Maven 的构建命令时，它们会执行以下几个主要步骤来打包你的应用程序：\n\n• `依赖项解析和下载`：构建工具会检查你项目中的依赖项，下载缺失的依赖并构建整个依赖树。\n• `编译代码`：构建工具会编译你的 Java 代码、资源文件等。\n• `运行测试`：通常会执行单元测试和集成测试，确保代码质量和功能正确性。\n• `打包应用程序`：\n• 对于可执行 JAR 文件：构建工具会将编译后的类文件、资源文件和依赖项打包到一个 JAR 文件中。同时，它会生成一个 MANIFEST.MF 文件，指定应用程序的入口点（main class）。\n• 对于 WAR 文件：构建工具会将编译后的类文件、资源文件和依赖项打包成一个 WAR 文件，包括 WEB-INF 目录和其他必要的内容。\n• `输出结果`：构建工具会在指定的目录下生成打包好的 JAR 或 WAR 文件，通常位于 `target` 目录下（Maven）。\n\n在你的 Spring Boot 项目中，通常有一个入口类（如 `Application.java` 或者根据你的项目命名）。这个类使用 `@SpringBootApplication` 注解标记，它包含了 `main` 方法用来启动应用程序。"
    },
    {
      "id": "s8-98",
      "sectionId": "s8",
      "title": "2. 打包工具",
      "body": "通常使用以下两种构建工具来打包 Spring Boot 应用程序："
    },
    {
      "id": "s8-99",
      "sectionId": "s8",
      "title": "**Maven**",
      "body": "• 使用 Maven 的 `mvn package` 命令可以将应用程序打包为 JAR 或 WAR 文件。\n• 在 `pom.xml` 文件中，Spring Boot 应用程序通常会依赖于 `spring-boot-starter-parent` 父项目，这简化了 Maven 配置和依赖管理。"
    },
    {
      "id": "s8-100",
      "sectionId": "s8",
      "title": "4. 示例",
      "body": "假设你有一个简单的 Spring Boot 应用程序，并且已经配置好了 Maven 或 Gradle。运行以下命令即可进行打包：\n\n• **Maven**：`mvn clean package`\n\n构建工具会执行以上步骤，生成可执行的 JAR 文件或 WAR 文件，你可以根据需要进行部署和运行。"
    }
  ],
  "source": {
    "repo": "https://github.com/jaywcjlove/reference",
    "path": "docs/springboot.md",
    "ref": "main",
    "url": "https://github.com/jaywcjlove/reference/tree/main/docs/springboot.md",
    "lang": "zh",
    "mode": "local"
  }
}